{"version":3,"sources":["../source/locale.test.js"],"names":["chooseLocale","intlDateTimeFormatSupportedLocale","describe","it","should","equal","arrayToObject","array","reduce","object","locale","choose","locales","defaultLocale","concat","_","includes","expect","to","throw"],"mappings":"AAAA,OAAOA,YAAP,IAAuBC,iCAAvB,QAAgE,UAAhE;AAEAC,QAAQ,CAAC,QAAD,EAAW,YAAM;AACxBC,EAAAA,EAAE,oDAAoD,YAAM;AAC3DF,IAAAA,iCAAiC,CAAC,IAAD,CAAjC,CAAwCG,MAAxC,CAA+CC,KAA/C,CAAqD,IAArD;AACAJ,IAAAA,iCAAiC,CAAC,OAAD,CAAjC,CAA2CG,MAA3C,CAAkDC,KAAlD,CAAwD,OAAxD;AACAJ,IAAAA,iCAAiC,CAAC,CAAC,IAAD,EAAO,IAAP,CAAD,CAAjC,CAAgDG,MAAhD,CAAuDC,KAAvD,CAA6D,IAA7D;AACA,GAJC,CAAF;AAMAF,EAAAA,EAAE,8CAA8C,YAAM;AACrD,aAASG,aAAT,CAAuBC,KAAvB,EAA8B;AAC7B,aAAOA,KAAK,CAACC,MAAN,CAAa,UAACC,MAAD,EAASC,MAAT,EAAoB;AACvCD,QAAAA,MAAM,CAACC,MAAD,CAAN,GAAiB,IAAjB;AACA,eAAOD,MAAP;AACA,OAHM,EAGJ,EAHI,CAAP;AAIA;;AAED,aAASE,MAAT,CAAgBD,MAAhB,EAAwBE,OAAxB,EAAuD;AAAA,UAAtBC,aAAsB,uEAAN,IAAM;;AACtD,UAAI,OAAOH,MAAP,KAAkB,QAAtB,EAAgC;AAC/BA,QAAAA,MAAM,GAAG,CAACA,MAAD,CAAT;AACA;;AACDA,MAAAA,MAAM,GAAGA,MAAM,CAACI,MAAP,CAAcD,aAAd,CAAT;AACA,aAAOb,YAAY,CAACU,MAAD,EAAS,UAAAK,CAAC;AAAA,eAAIH,OAAO,CAACI,QAAR,CAAiBD,CAAjB,CAAJ;AAAA,OAAV,CAAnB;AACA;;AAEDJ,IAAAA,MAAM,CAAC,OAAD,EAAU,CAAC,IAAD,EAAO,IAAP,CAAV,CAAN,CAA8BP,MAA9B,CAAqCC,KAArC,CAA2C,IAA3C;AACAM,IAAAA,MAAM,CAAC,OAAD,EAAU,CAAC,IAAD,EAAO,IAAP,CAAV,CAAN,CAA8BP,MAA9B,CAAqCC,KAArC,CAA2C,IAA3C;AACAM,IAAAA,MAAM,CAAC,OAAD,EAAU,CAAC,IAAD,EAAO,IAAP,CAAV,CAAN,CAA8BP,MAA9B,CAAqCC,KAArC,CAA2C,IAA3C;AACAM,IAAAA,MAAM,CAAC,CAAC,OAAD,EAAU,OAAV,CAAD,EAAqB,CAAC,IAAD,EAAO,IAAP,CAArB,CAAN,CAAyCP,MAAzC,CAAgDC,KAAhD,CAAsD,IAAtD;AACAM,IAAAA,MAAM,CAAC,CAAC,OAAD,EAAU,OAAV,CAAD,EAAqB,CAAC,IAAD,EAAO,IAAP,CAArB,CAAN,CAAyCP,MAAzC,CAAgDC,KAAhD,CAAsD,IAAtD;AACAM,IAAAA,MAAM,CAAC,CAAC,OAAD,EAAU,OAAV,CAAD,EAAqB,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,CAArB,CAAN,CAA+CP,MAA/C,CAAsDC,KAAtD,CAA4D,IAA5D;AACAM,IAAAA,MAAM,CAAC,OAAD,EAAU,CAAC,IAAD,EAAO,OAAP,CAAV,CAAN,CAAiCP,MAAjC,CAAwCC,KAAxC,CAA8C,OAA9C;AAEAY,IAAAA,MAAM,CAAC;AAAA,aAAMN,MAAM,CAAC,OAAD,EAAU,CAAC,IAAD,EAAO,IAAP,CAAV,CAAZ;AAAA,KAAD,CAAN,CAA4CO,EAA5C,CAA+CC,KAA/C,CACC,kEADD;AAGA,GA3BC,CAAF;AA4BA,CAnCO,CAAR","sourcesContent":["import chooseLocale, { intlDateTimeFormatSupportedLocale } from './locale'\r\n\r\ndescribe('locale', () => {\r\n\tit(`should tell if can use Intl for date formatting`, () => {\r\n\t\tintlDateTimeFormatSupportedLocale('en').should.equal('en')\r\n\t\tintlDateTimeFormatSupportedLocale('en-XX').should.equal('en-XX')\r\n\t\tintlDateTimeFormatSupportedLocale(['en', 'ru']).should.equal('en')\r\n\t})\r\n\r\n\tit(`should choose the most appropriate locale`, () => {\r\n\t\tfunction arrayToObject(array) {\r\n\t\t\treturn array.reduce((object, locale) => {\r\n\t\t\t\tobject[locale] = true\r\n\t\t\t\treturn object\r\n\t\t\t}, {})\r\n\t\t}\r\n\r\n\t\tfunction choose(locale, locales, defaultLocale = 'en') {\r\n\t\t\tif (typeof locale === 'string') {\r\n\t\t\t\tlocale = [locale]\r\n\t\t\t}\r\n\t\t\tlocale = locale.concat(defaultLocale)\r\n\t\t\treturn chooseLocale(locale, _ => locales.includes(_))\r\n\t\t}\r\n\r\n\t\tchoose('ru-RU', ['en', 'ru']).should.equal('ru')\r\n\t\tchoose('en-GB', ['en', 'ru']).should.equal('en')\r\n\t\tchoose('fr-FR', ['en', 'ru']).should.equal('en')\r\n\t\tchoose(['fr-FR', 'de-DE'], ['en', 'ru']).should.equal('en')\r\n\t\tchoose(['fr-FR', 'de-DE'], ['en', 'de']).should.equal('de')\r\n\t\tchoose(['fr-FR', 'de-DE'], ['en', 'de', 'fr']).should.equal('fr')\r\n\t\tchoose('fr-FR', ['en', 'fr-FR']).should.equal('fr-FR')\r\n\r\n\t\texpect(() => choose('fr-FR', ['de', 'ru'])).to.throw(\r\n\t\t\t'No locale data has been registered for any of the locales: fr-FR'\r\n\t\t)\r\n\t})\r\n})"],"file":"locale.test.js"}