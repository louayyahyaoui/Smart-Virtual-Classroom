{"version":3,"sources":["../source/TimeAgo.test.js"],"names":["TimeAgo","setDefaultLocale","describe","it","timeAgo","format","Date","now","should","equal","future","labels","steps","formatAs","flavour","gradation","englishNow","english","addLocale","undefined","NumberFormat","Intl","englishLongTimeMinute","minute","past","mockedDate","getTime","thrower","throw","units","custom","time","date","locale","style2","style","unit","factor","secondLabels","second","getTimeToNextUpdate","round","deep","minTime","polyfill","global","expect","to","getDefaultLocale","addDefaultLocale"],"mappings":"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","sourcesContent":["import TimeAgo, { isStyleObject } from '../source/TimeAgo'\r\nimport { getLocaleData } from '../source/LocaleDataStore'\r\n\r\n// Load locale specific relative date/time messages\r\nimport english from '../locale/en'\r\n\r\n// Just so this function code is covered.\r\nTimeAgo.setDefaultLocale('en')\r\n\r\ndescribe(`javascript-time-ago`, () => {\r\n\tit('should default to \"round-minute\" style', () => {\r\n\t\tconst timeAgo = new TimeAgo('en')\r\n\t\ttimeAgo.format(Date.now()).should.equal('just now')\r\n\t\ttimeAgo.format(Date.now() + 20 * 1000).should.equal('in a moment')\r\n\t\ttimeAgo.format(Date.now() + 1 * 60 * 1000).should.equal('in 1 minute')\r\n\t\ttimeAgo.format(Date.now() + 4 * 60 * 1000).should.equal('in 4 minutes')\r\n\t})\r\n\r\n\tit('should tell `options` argument from `style` argument', () => {\r\n\t\tconst timeAgo = new TimeAgo('en')\r\n\t\ttimeAgo.format(Date.now(), 'mini-now').should.equal('now')\r\n\t\ttimeAgo.format(0, { future: true, now: 0 }).should.equal('in a moment')\r\n\t\ttimeAgo.format(0, { labels: 'mini', steps: [{ formatAs: 'now' }, { formatAs: 'second' }] }, { future: true, now: 0 }).should.equal('now')\r\n\t\ttimeAgo.format(0, { labels: ['mini'], steps: [{ formatAs: 'now' }, { formatAs: 'second' }] }, { future: true, now: 0 }).should.equal('now')\r\n\t\t// `flavour` is a legacy name of `labels` property.\r\n\t\ttimeAgo.format(0, { flavour: 'mini' }, { future: true, now: 0 }).should.equal('now')\r\n\t\ttimeAgo.format(0, { flavour: ['mini'] }, { future: true, now: 0 }).should.equal('now')\r\n\t\ttimeAgo.format(0, { steps: [{ formatAs: 'minute' }] }, { future: true, now: 0 }).should.equal('in 0 minutes')\r\n\t\t// `gradation` is a legacy name of `steps` property.\r\n\t\ttimeAgo.format(0, { gradation: [{ formatAs: 'minute' }] }, { future: true, now: 0 }).should.equal('in 0 minutes')\r\n\t})\r\n\r\n\tit('should try various label types until an appropriate one is found', () => {\r\n\t\tconst timeAgo = new TimeAgo('en')\r\n\t\ttimeAgo.format(Date.now(), { labels: ['exotic', 'short'] }).should.equal('just now')\r\n\t})\r\n\r\n\tit('should support the legacy name \"flavour\" of \"labels\"', () => {\r\n\t\tconst timeAgo = new TimeAgo('en')\r\n\t\ttimeAgo.format(Date.now(), { labels: ['exotic', 'short'] }).should.equal('just now')\r\n\t})\r\n\r\n\tit('should fallback to \"second.current\" for \"now\" when \"now\" is not defined', () => {\r\n\t\tconst timeAgo = new TimeAgo('en')\r\n\t\tconst englishNow = english.now\r\n\t\tdelete english.now\r\n\t\tTimeAgo.addLocale(english)\r\n\t\tenglish.now = undefined\r\n\t\ttimeAgo.format(Date.now(), { labels: 'long' }).should.equal('now')\r\n\t\tenglish.now = englishNow\r\n\t\ttimeAgo.format(Date.now(), { labels: 'long' }).should.equal('just now')\r\n\t})\r\n\r\n\tit('should not use Intl.NumberFormat if it is not available', () => {\r\n\t\tconst NumberFormat = Intl.NumberFormat\r\n\t\tdelete Intl.NumberFormat\r\n\t\tconst timeAgo = new TimeAgo('en')\r\n\t\ttimeAgo.format(Date.now() + 60 * 1000, { labels: 'long-time' }).should.equal('1 minute')\r\n\t\tIntl.NumberFormat = NumberFormat\r\n\t})\r\n\r\n\tit('should work when \"past\"/\"future\" messages are same for all quantifiers', () => {\r\n\t\tconst timeAgo = new TimeAgo('en')\r\n\t\ttimeAgo.format(Date.now() + 365 * 24 * 60 * 60 * 1000, { labels: 'short' }).should.equal('in 1 yr.')\r\n\t})\r\n\r\n\tit('should work when \"now\" is a string (does not differentiate between \"past\" and \"future\")', () => {\r\n\t\tconst timeAgo = new TimeAgo('en')\r\n\t\tconst englishNow = english.now\r\n\t\tenglish.now = { now: 'now' }\r\n\t\tTimeAgo.addLocale(english)\r\n\t\ttimeAgo.format(Date.now(), { labels: 'long' }).should.equal('now')\r\n\t\tenglish.now = englishNow\r\n\t\ttimeAgo.format(Date.now(), { labels: 'long' }).should.equal('just now')\r\n\t})\r\n\r\n\tit('should work when a unit has formatting rules for \"past\" and \"future\" which are strings (style: not \"long\", not \"short\", not \"narrow\")', () => {\r\n\t\tconst timeAgo = new TimeAgo('en')\r\n\t\tconst englishLongTimeMinute = english['long-time'].minute\r\n\t\tenglish['long-time'].minute = {\r\n\t\t\tpast: '{0} minute(s) ago',\r\n\t\t\tfuture: 'in {0} minute(s)'\r\n\t\t}\r\n\t\tTimeAgo.addLocale(english)\r\n\t\t// Past.\r\n\t\ttimeAgo.format(Date.now() - 60 * 1000, { labels: 'long-time' }).should.equal('1 minute(s) ago')\r\n\t\t// Future (covers an \"else\" branch).\r\n\t\ttimeAgo.format(Date.now() + 60 * 1000, { labels: 'long-time' }).should.equal('in 1 minute(s)')\r\n\t\t// Undo.\r\n\t\tenglish['long-time'].minute = englishLongTimeMinute\r\n\t\ttimeAgo.format(Date.now() - 60 * 1000, { labels: 'long-time' }).should.equal('1 minute')\r\n\t})\r\n\r\n\tit(`should format \"now\" for \"past\" time`, () =>\r\n\t{\r\n\t\tconst timeAgo = new TimeAgo('en')\r\n\t\ttimeAgo.format(Date.now() + 10, { labels: ['long'] }).should.equal('in a moment')\r\n\t})\r\n\r\n\tit('should accept a string style name argument', () => {\r\n\t\tconst timeAgo = new TimeAgo('en')\r\n\t\t// \"mini\".\r\n\t\ttimeAgo.format(Date.now() - 0 * 1000, 'mini').should.equal('0s')\r\n\t\ttimeAgo.format(Date.now() - 1 * 1000, 'mini').should.equal('1s')\r\n\t\t// \"mini-now\".\r\n\t\ttimeAgo.format(Date.now() - 0 * 1000, 'mini-now').should.equal('now')\r\n\t\ttimeAgo.format(Date.now() - 1 * 1000, 'mini-now').should.equal('1s')\r\n\t\t// \"mini-minute-now\".\r\n\t\ttimeAgo.format(Date.now() - 29 * 1000, 'mini-minute-now').should.equal('now')\r\n\t\ttimeAgo.format(Date.now() - 60 * 1000, 'mini-minute-now').should.equal('1m')\r\n\t\t// \"mini-minute\".\r\n\t\ttimeAgo.format(Date.now() - 29 * 1000, 'mini-minute').should.equal('0m')\r\n\t\ttimeAgo.format(Date.now() - 60 * 1000, 'mini-minute').should.equal('1m')\r\n\t\t// \"twitter\".\r\n\t\ttimeAgo.format(Date.now() - 0 * 1000, 'twitter').should.equal('0s')\r\n\t\ttimeAgo.format(Date.now() - 1 * 1000, 'twitter').should.equal('1s')\r\n\t\t// \"twitter-now\".\r\n\t\ttimeAgo.format(Date.now() - 0 * 1000, 'twitter-now').should.equal('now')\r\n\t\ttimeAgo.format(Date.now() - 1 * 1000, 'twitter-now').should.equal('1s')\r\n\t\t// \"twitter-minute-now\".\r\n\t\ttimeAgo.format(Date.now() - 29 * 1000, 'twitter-minute-now').should.equal('now')\r\n\t\ttimeAgo.format(Date.now() - 60 * 1000, 'twitter-minute-now').should.equal('1m')\r\n\t\t// \"twitter-minute\".\r\n\t\ttimeAgo.format(Date.now() - 29 * 1000, 'twitter-minute').should.equal('0m')\r\n\t\ttimeAgo.format(Date.now() - 60 * 1000, 'twitter-minute').should.equal('1m')\r\n\t\t// \"twitter-first-minute\".\r\n\t\ttimeAgo.format(Date.now() - 29 * 1000, 'twitter-first-minute').should.equal('')\r\n\t\ttimeAgo.format(Date.now() - 60 * 1000, 'twitter-first-minute').should.equal('1m')\r\n\t\t// \"approximate\".\r\n\t\ttimeAgo.format(Date.now() - 45 * 1000, 'approximate').should.equal('just now')\r\n\t\t// \"convenient\" style was renamed to \"approximate\".\r\n\t\ttimeAgo.format(Date.now() - 45 * 1000, 'convenient').should.equal('just now')\r\n\t\ttimeAgo.format(Date.now() - 45 * 1000, 'round').should.equal('45 seconds ago')\r\n\t\t// \"default\" style was renamed to \"round\".\r\n\t\ttimeAgo.format(Date.now() - 45 * 1000, 'default').should.equal('45 seconds ago')\r\n\t\ttimeAgo.format(Date.now() - 29 * 1000, 'round-minute').should.equal('just now')\r\n\t\t// \"time\" style was renamed to \"approximate-time\".\r\n\t\ttimeAgo.format(Date.now() - 2 * 60 * 1000, 'time').should.equal('2 minutes')\r\n\t\ttimeAgo.format(Date.now() - 2 * 60 * 1000, 'approximate-time').should.equal('2 minutes')\r\n\t\ttimeAgo.format(Date.now(), 'exotic').should.equal('just now')\r\n\t})\r\n\r\n\tit('should accept empty constructor parameters', () => {\r\n\t\tconst timeAgo = new TimeAgo()\r\n\t\ttimeAgo.format(new Date()).should.equal('just now')\r\n\t})\r\n\r\n\tit('should accept \"mocked\" Dates when testing', () => {\r\n\t\tconst timeAgo = new TimeAgo('en')\r\n\t\tconst mockedDate = { getTime: () => Date.now() }\r\n\t\ttimeAgo.format(mockedDate).should.equal('just now')\r\n\t})\r\n\r\n\tit('should not accept anything but Dates and timestamps', () => {\r\n\t\tconst timeAgo = new TimeAgo('en')\r\n\t\tconst thrower = () => timeAgo.format('Jan 14, 2017')\r\n\t\tthrower.should.throw('Unsupported relative time formatter input: string, Jan 14, 2017')\r\n\t})\r\n\r\n\tit('should return an empty string if the specified units are not available in locale data', () => {\r\n\t\tconst timeAgo = new TimeAgo('en')\r\n\t\ttimeAgo.format(Date.now(), { units: ['femtosecond'] }).should.equal('')\r\n\t})\r\n\r\n\tit('should format for a style with \"custom\" function', () => {\r\n\t\tconst timeAgo = new TimeAgo('en')\r\n\r\n\t\t// `custom` returns a string\r\n\t\ttimeAgo.format(Date.now(), {\r\n\t\t\tcustom({ now, time, date, locale }) {\r\n\t\t\t\treturn locale\r\n\t\t\t}\r\n\t\t})\r\n\t\t.should.equal('en')\r\n\r\n\t\t// `custom` returns `undefined`\r\n\t\ttimeAgo.format(Date.now(), {\r\n\t\t\tcustom({ now, time, date, locale }) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t})\r\n\t\t.should.equal('just now')\r\n\t})\r\n\r\n\tit('should format future dates', () => {\r\n\t\tnew TimeAgo('en').format(Date.now() + 60 * 60 * 1000).should.equal('in 1 hour')\r\n\t\tnew TimeAgo('ru').format(Date.now() + 60 * 1000).should.equal('Ñ‡ÐµÑ€ÐµÐ· 1 Ð¼Ð¸Ð½ÑƒÑ‚Ñƒ')\r\n\t})\r\n\r\n\tit('should accept \"future\" option', () => {\r\n\t\t// \"now\" unit.\r\n\t\tnew TimeAgo('en').format(Date.now()).should.equal('just now')\r\n\t\tnew TimeAgo('en').format(Date.now(), 'approximate', { future: true }).should.equal('in a moment')\r\n\r\n\t\t// Non-\"now\" unit, \"long\" style.\r\n\t\t// const style = {\r\n\t\t// \tgradation: [{\r\n\t\t// \t\tfactor: 1,\r\n\t\t// \t\tunit: 'second'\r\n\t\t// \t}],\r\n\t\t// \tlabels: 'long'\r\n\t\t// }\r\n\t\t// new TimeAgo('en').format(Date.now(), style).should.equal('0 seconds ago')\r\n\t\t// new TimeAgo('en').format(Date.now(), style, { future: true }).should.equal('in 0 seconds')\r\n\r\n\t\t// Non-\"now\" unit, \"mini\" style.\r\n\t\tconst style2 = {\r\n\t\t\tstyle: [{\r\n\t\t\t\tunit: 'year'\r\n\t\t\t}],\r\n\t\t\tlabels: 'mini'\r\n\t\t}\r\n\t\tnew TimeAgo('ru').format(Date.now() - 5 * 365 * 24 * 60 * 60 * 1000, style2).should.equal('5 Ð»')\r\n\t\tnew TimeAgo('ru').format(Date.now() - 5 * 365 * 24 * 60 * 60 * 1000, style2, { future: true }).should.equal('5 Ð»')\r\n\t})\r\n\r\n\tit('should support the legacy properties: \"gradation\", \"flavour\", \"factor\", \"unit\", \"\\'tiny\\'\" labels style', () => {\r\n\t\t// Non-\"now\" unit, \"tiny\" style.\r\n\t\tconst style = {\r\n\t\t\tgradation: [{\r\n\t\t\t\tfactor: 5,\r\n\t\t\t\tunit: 'year'\r\n\t\t\t}],\r\n\t\t\tflavour: 'tiny'\r\n\t\t}\r\n\t\tnew TimeAgo('ru').format(Date.now() - 10 * 1000, style).should.equal('2 Ð³')\r\n\t\tnew TimeAgo('ru').format(Date.now() - 10 * 1000, style, { future: true }).should.equal('2 Ð³')\r\n\t})\r\n\r\n\tit('should have generated missing quantifier functions for locales that do not have it in CLDR data', () => {\r\n\t\tnew TimeAgo('ccp').format(Date.now() + 60 * 1000).should.equal('1 ð‘„Ÿð‘„¨ð‘„šð‘„¨ð‘„˜ð‘„¬')\r\n\t})\r\n\r\n\tit('should throw for non-existing locales', () => {\r\n\t\t(() => TimeAgo.addLocale()).should.throw('No locale data passed')\r\n\t})\r\n\r\n\tit('should choose \"future\" variant of a label for `0` if \"future: true\" option is passed', () => {\r\n\t\tTimeAgo.addLocale(english)\r\n\t\tconst secondLabels = english['mini'].second\r\n\t\tenglish['mini'].second = {\r\n\t\t\tpast: '{0} seconds ago',\r\n\t\t\tfuture: 'in {0} seconds'\r\n\t\t}\r\n\r\n\t\tnew TimeAgo('en').format(Date.now(), {\r\n\t\t\tsteps: [{\r\n\t\t\t\tunit: 'second'\r\n\t\t\t}],\r\n\t\t\t// Uses \"mini\" labels so that it doesn't use `Intl.RelativeTimeFormat`.\r\n\t\t\tlabels: 'mini'\r\n\t\t}).should.equal('0 seconds ago')\r\n\r\n\t\tnew TimeAgo('en').format(Date.now(), {\r\n\t\t\tsteps: [{\r\n\t\t\t\tunit: 'second'\r\n\t\t\t}],\r\n\t\t\t// Uses \"mini\" labels so that it doesn't use `Intl.RelativeTimeFormat`.\r\n\t\t\tlabels: 'mini'\r\n\t\t}, {\r\n\t\t\tfuture: true\r\n\t\t}).should.equal('in 0 seconds')\r\n\r\n\t\tenglish['mini'].second = secondLabels\r\n\t})\r\n\r\n\tit('should get time to next update (round: \"floor\")', () => {\r\n\t\tconst timeAgo = new TimeAgo('en')\r\n\t\t// in 1 second -> in 0 seconds.\r\n\t\ttimeAgo.format(1000, 'twitter', {\r\n\t\t\tgetTimeToNextUpdate: true,\r\n\t\t\tnow: 0,\r\n\t\t\tround: 'floor'\r\n\t\t}).should.deep.equal([\r\n\t\t\t'1s',\r\n\t\t\t1\r\n\t\t])\r\n\t})\r\n\r\n\tit('should get time to next update (round: \"round\")', () => {\r\n\t\tconst timeAgo = new TimeAgo('en')\r\n\t\t// in 1 second -> in 0 seconds.\r\n\t\ttimeAgo.format(1000, 'twitter', {\r\n\t\t\tgetTimeToNextUpdate: true,\r\n\t\t\tnow: 0\r\n\t\t}).should.deep.equal([\r\n\t\t\t'1s',\r\n\t\t\t501\r\n\t\t])\r\n\t})\r\n\r\n\tit('should get time to next update (\"mini-now\" style) (round: \"floor\")', () => {\r\n\t\tconst timeAgo = new TimeAgo('en')\r\n\t\t// In 1 minute.\r\n\t\ttimeAgo.format(60 * 1000, 'mini-now', {\r\n\t\t\tgetTimeToNextUpdate: true,\r\n\t\t\tnow: 0,\r\n\t\t\tround: 'floor'\r\n\t\t}).should.deep.equal([\r\n\t\t\t'1m',\r\n\t\t\t1\r\n\t\t])\r\n\t\t// Almost in 1 minute.\r\n\t\ttimeAgo.format(60 * 1000, 'mini-now', {\r\n\t\t\tgetTimeToNextUpdate: true,\r\n\t\t\tnow: 1,\r\n\t\t\tround: 'floor'\r\n\t\t}).should.deep.equal([\r\n\t\t\t'59s',\r\n\t\t\t1000\r\n\t\t])\r\n\t\t// In 1 second.\r\n\t\ttimeAgo.format(60 * 1000, 'mini-now', {\r\n\t\t\tgetTimeToNextUpdate: true,\r\n\t\t\tnow: 59 * 1000,\r\n\t\t\tround: 'floor'\r\n\t\t}).should.deep.equal([\r\n\t\t\t'1s',\r\n\t\t\t1\r\n\t\t])\r\n\t\t// Almost in 1 second.\r\n\t\ttimeAgo.format(60 * 1000, 'mini-now', {\r\n\t\t\tgetTimeToNextUpdate: true,\r\n\t\t\tnow: 59 * 1000 + 1,\r\n\t\t\tround: 'floor'\r\n\t\t}).should.deep.equal([\r\n\t\t\t'now',\r\n\t\t\t// Right after zero point.\r\n\t\t\t1000\r\n\t\t])\r\n\t\t// Zero point (future to past).\r\n\t\t// `future: true`.\r\n\t\ttimeAgo.format(60 * 1000, 'mini-now', {\r\n\t\t\tgetTimeToNextUpdate: true,\r\n\t\t\tnow: 60 * 1000,\r\n\t\t\tfuture: true,\r\n\t\t\tround: 'floor'\r\n\t\t}).should.deep.equal([\r\n\t\t\t'now',\r\n\t\t\t1\r\n\t\t])\r\n\t\t// Zero point (future to past).\r\n\t\t// `future: false`.\r\n\t\ttimeAgo.format(60 * 1000, 'mini-now', {\r\n\t\t\tgetTimeToNextUpdate: true,\r\n\t\t\tnow: 60 * 1000,\r\n\t\t\tround: 'floor'\r\n\t\t}).should.deep.equal([\r\n\t\t\t'now',\r\n\t\t\t1000\r\n\t\t])\r\n\t\t// Right after zero point (past).\r\n\t\ttimeAgo.format(60 * 1000, 'mini-now', {\r\n\t\t\tgetTimeToNextUpdate: true,\r\n\t\t\tnow: 60 * 1000 + 1,\r\n\t\t\tround: 'floor'\r\n\t\t}).should.deep.equal([\r\n\t\t\t'now',\r\n\t\t\t1000 - 1\r\n\t\t])\r\n\t\t// 1 second ago.\r\n\t\ttimeAgo.format(60 * 1000, 'mini-now', {\r\n\t\t\tgetTimeToNextUpdate: true,\r\n\t\t\tnow: 60 * 1000 + 1000,\r\n\t\t\tround: 'floor'\r\n\t\t}).should.deep.equal([\r\n\t\t\t'1s',\r\n\t\t\t1000\r\n\t\t])\r\n\t})\r\n\r\n\tit('should get time to next update (\"mini-now\" style) (round: \"round\")', () => {\r\n\t\tconst timeAgo = new TimeAgo('en')\r\n\t\t// In 1 minute.\r\n\t\ttimeAgo.format(60 * 1000, 'mini-now', {\r\n\t\t\tgetTimeToNextUpdate: true,\r\n\t\t\tnow: 0\r\n\t\t}).should.deep.equal([\r\n\t\t\t'1m',\r\n\t\t\t500 + 1\r\n\t\t])\r\n\t\t// Almost in 1 minute.\r\n\t\ttimeAgo.format(60 * 1000, 'mini-now', {\r\n\t\t\tgetTimeToNextUpdate: true,\r\n\t\t\tnow: 500 + 1\r\n\t\t}).should.deep.equal([\r\n\t\t\t'59s',\r\n\t\t\t1000\r\n\t\t])\r\n\t\t// In 1 second.\r\n\t\ttimeAgo.format(60 * 1000, 'mini-now', {\r\n\t\t\tgetTimeToNextUpdate: true,\r\n\t\t\tnow: 59.5 * 1000\r\n\t\t}).should.deep.equal([\r\n\t\t\t'1s',\r\n\t\t\t1\r\n\t\t])\r\n\t\t// Almost in 1 second.\r\n\t\ttimeAgo.format(60 * 1000, 'mini-now', {\r\n\t\t\tgetTimeToNextUpdate: true,\r\n\t\t\tnow: 59.5 * 1000 + 1\r\n\t\t}).should.deep.equal([\r\n\t\t\t'now',\r\n\t\t\t// Right after zero point.\r\n\t\t\t500\r\n\t\t])\r\n\t\t// Zero point (future to past).\r\n\t\t// `future: true`.\r\n\t\ttimeAgo.format(60 * 1000, 'mini-now', {\r\n\t\t\tgetTimeToNextUpdate: true,\r\n\t\t\tnow: 60 * 1000,\r\n\t\t\tfuture: true\r\n\t\t}).should.deep.equal([\r\n\t\t\t'now',\r\n\t\t\t1\r\n\t\t])\r\n\t\t// Zero point (future to past).\r\n\t\t// `future: false`.\r\n\t\ttimeAgo.format(60 * 1000, 'mini-now', {\r\n\t\t\tgetTimeToNextUpdate: true,\r\n\t\t\tnow: 60 * 1000\r\n\t\t}).should.deep.equal([\r\n\t\t\t'now',\r\n\t\t\t500\r\n\t\t])\r\n\t\t// Right after zero point (past).\r\n\t\ttimeAgo.format(60 * 1000, 'mini-now', {\r\n\t\t\tgetTimeToNextUpdate: true,\r\n\t\t\tnow: 60 * 1000 + 1\r\n\t\t}).should.deep.equal([\r\n\t\t\t'now',\r\n\t\t\t500 - 1\r\n\t\t])\r\n\t\t// 1 second ago.\r\n\t\ttimeAgo.format(60 * 1000, 'mini-now', {\r\n\t\t\tgetTimeToNextUpdate: true,\r\n\t\t\tnow: 60 * 1000 + 500\r\n\t\t}).should.deep.equal([\r\n\t\t\t'1s',\r\n\t\t\t1000\r\n\t\t])\r\n\t})\r\n\r\n\tit('should get time to next update (first step has non-zero \"minTime\") (round: \"floor\")', () => {\r\n\t\tconst timeAgo = new TimeAgo('en')\r\n\r\n\t\t// Future.\r\n\t\t// Inside the first step.\r\n\t\t// Updates soon.\r\n\t\ttimeAgo.format(60 * 1000, {\r\n\t\t\tsteps: [{\r\n\t\t\t\tformatAs: 'minute',\r\n\t\t\t\tminTime: 60\r\n\t\t\t}],\r\n\t\t\tlabels: 'mini',\r\n\t\t\tround: 'floor'\r\n\t\t}, {\r\n\t\t\tgetTimeToNextUpdate: true,\r\n\t\t\tnow: -0.5 * 1000\r\n\t\t}).should.deep.equal([\r\n\t\t\t'1m',\r\n\t\t\t0.5 * 1000 + 1\r\n\t\t])\r\n\r\n\t\t// Future.\r\n\t\t// Outside of the first step.\r\n\t\t// Updates right after zero point.\r\n\t\ttimeAgo.format(60 * 1000, {\r\n\t\t\tsteps: [{\r\n\t\t\t\tformatAs: 'minute',\r\n\t\t\t\tminTime: 60 * 1000\r\n\t\t\t}],\r\n\t\t\tlabels: 'mini',\r\n\t\t\tround: 'floor'\r\n\t\t}, {\r\n\t\t\tgetTimeToNextUpdate: true,\r\n\t\t\tnow: 1 * 1000\r\n\t\t}).should.deep.equal([\r\n\t\t\t'',\r\n\t\t\t59 * 1000 + 1\r\n\t\t])\r\n\r\n\t\t// Zero point.\r\n\t\t// Outside of the first step.\r\n\t\t// Updates at the first step's `minTime`.\r\n\t\ttimeAgo.format(60 * 1000, {\r\n\t\t\tsteps: [{\r\n\t\t\t\tformatAs: 'minute',\r\n\t\t\t\tminTime: 60\r\n\t\t\t}],\r\n\t\t\tlabels: 'mini',\r\n\t\t\tround: 'floor'\r\n\t\t}, {\r\n\t\t\tgetTimeToNextUpdate: true,\r\n\t\t\tnow: 60 * 1000\r\n\t\t}).should.deep.equal([\r\n\t\t\t'',\r\n\t\t\t60 * 1000\r\n\t\t])\r\n\r\n\t\t// Past.\r\n\t\t// Inside the first step.\r\n\t\t// Updates at the next minute.\r\n\t\ttimeAgo.format(60 * 1000, {\r\n\t\t\tsteps: [{\r\n\t\t\t\tformatAs: 'minute',\r\n\t\t\t\tminTime: 60\r\n\t\t\t}],\r\n\t\t\tlabels: 'mini',\r\n\t\t\tround: 'floor'\r\n\t\t}, {\r\n\t\t\tgetTimeToNextUpdate: true,\r\n\t\t\tnow: 60 * 1000 + 60 * 1000\r\n\t\t}).should.deep.equal([\r\n\t\t\t'1m',\r\n\t\t\t60 * 1000\r\n\t\t])\r\n\r\n\t\t// Almost in 1 minute.\r\n\t\ttimeAgo.format(60 * 1000, 'mini-now', {\r\n\t\t\tgetTimeToNextUpdate: true,\r\n\t\t\tnow: 1,\r\n\t\t\tround: 'floor'\r\n\t\t}).should.deep.equal([\r\n\t\t\t'59s',\r\n\t\t\t1000\r\n\t\t])\r\n\t\t// In 1 second.\r\n\t\ttimeAgo.format(60 * 1000, 'mini-now', {\r\n\t\t\tgetTimeToNextUpdate: true,\r\n\t\t\tnow: 59 * 1000,\r\n\t\t\tround: 'floor'\r\n\t\t}).should.deep.equal([\r\n\t\t\t'1s',\r\n\t\t\t1\r\n\t\t])\r\n\t\t// Almost in 1 second.\r\n\t\t// Updates right after the zero point.\r\n\t\ttimeAgo.format(60 * 1000, 'mini-now', {\r\n\t\t\tgetTimeToNextUpdate: true,\r\n\t\t\tnow: 59 * 1000 + 1,\r\n\t\t\tround: 'floor'\r\n\t\t}).should.deep.equal([\r\n\t\t\t'now',\r\n\t\t\t1000\r\n\t\t])\r\n\t\t// Zero point (future to past).\r\n\t\t// `future: true`.\r\n\t\t// Updates right after zero point.\r\n\t\ttimeAgo.format(60 * 1000, 'mini-now', {\r\n\t\t\tgetTimeToNextUpdate: true,\r\n\t\t\tnow: 60 * 1000,\r\n\t\t\tfuture: true,\r\n\t\t\tround: 'floor'\r\n\t\t}).should.deep.equal([\r\n\t\t\t'now',\r\n\t\t\t1\r\n\t\t])\r\n\t\t// Zero point (future to past).\r\n\t\t// `future: false`.\r\n\t\t// Updates at the next second.\r\n\t\ttimeAgo.format(60 * 1000, 'mini-now', {\r\n\t\t\tgetTimeToNextUpdate: true,\r\n\t\t\tnow: 60 * 1000,\r\n\t\t\tround: 'floor'\r\n\t\t}).should.deep.equal([\r\n\t\t\t'now',\r\n\t\t\t1000\r\n\t\t])\r\n\t\t// Right after zero point (past).\r\n\t\ttimeAgo.format(60 * 1000, 'mini-now', {\r\n\t\t\tgetTimeToNextUpdate: true,\r\n\t\t\tnow: 60 * 1000 + 1,\r\n\t\t\tround: 'floor'\r\n\t\t}).should.deep.equal([\r\n\t\t\t'now',\r\n\t\t\t1000 - 1\r\n\t\t])\r\n\t\t// 1 second ago.\r\n\t\ttimeAgo.format(60 * 1000, 'mini-now', {\r\n\t\t\tgetTimeToNextUpdate: true,\r\n\t\t\tnow: 60 * 1000 + 1000,\r\n\t\t\tround: 'floor'\r\n\t\t}).should.deep.equal([\r\n\t\t\t'1s',\r\n\t\t\t1000\r\n\t\t])\r\n\t})\r\n\r\n\tit('should pass `formatAs()` in `step.format()`', () => {\r\n\t\tconst timeAgo = new TimeAgo('en')\r\n\t\ttimeAgo.format(Date.now(), {\r\n\t\t\tlabels: 'long',\r\n\t\t\tsteps: [{\r\n\t\t\t\tformat(date, locale, { formatAs }) {\r\n\t\t\t\t\treturn formatAs('second', 1)\r\n\t\t\t\t}\r\n\t\t\t}]\r\n\t\t}).should.equal('in 1 second')\r\n\t})\r\n\r\n\tit('should support `polyfill: false` option', () => {\r\n\t\tconst timeAgo = new TimeAgo('en', { polyfill: false })\r\n\t\t// Still uses \"now\" labels, even when not polyfilled.\r\n\t\ttimeAgo.format(0, 'round', { now: 0 }).should.equal('just now')\r\n\t\ttimeAgo.format(1000, 'round', { now: 0 }).should.equal('in 1 second')\r\n\t})\r\n\r\n\tit('should not use Intl.NumberFormat if it is not available', () => {\r\n\t\tconst Intl = global.Intl\r\n\t\tglobal.Intl = undefined\r\n\t\tconst timeAgo = new TimeAgo('en')\r\n\t\ttimeAgo.format(1000, 'round', { now: 0 }).should.equal('in 1 second')\r\n\t\tglobal.Intl = Intl\r\n\t})\r\n\r\n\tit('should format `0` in past mode by default', () => {\r\n\t\tnew TimeAgo('en').format(0, {\r\n\t\t\tlabels: 'long',\r\n\t\t\tsteps: [{\r\n\t\t\t\tformatAs: 'second'\r\n\t\t\t}]\r\n\t\t}, { now: 0 }).should.equal('0 seconds ago')\r\n\t})\r\n\r\n\tit('should format `0` in future mode when `future: true` option was passed', () => {\r\n\t\tnew TimeAgo('en').format(0, {\r\n\t\t\tlabels: 'long',\r\n\t\t\tsteps: [{\r\n\t\t\t\tformatAs: 'second'\r\n\t\t\t}]\r\n\t\t}, { now: 0, future: true }).should.equal('in 0 seconds')\r\n\t})\r\n\r\n\tit('should throw if a step does not define `formatAs` or `format()`', () => {\r\n\t\tconst timeAgo = new TimeAgo('en')\r\n\t\texpect(() => timeAgo.format(Date.now() + 1000, {\r\n\t\t\tlabels: 'long',\r\n\t\t\tsteps: [{}]\r\n\t\t})).to.throw('Each step must define either `formatAs` or `format()`.')\r\n\t})\r\n\r\n\tit('should add default locale', () => {\r\n\t\tTimeAgo.getDefaultLocale().should.equal('en')\r\n\t\tTimeAgo.addDefaultLocale({\r\n\t\t\tlocale: 'el'\r\n\t\t})\r\n\t\tTimeAgo.getDefaultLocale().should.equal('el')\r\n\t\texpect(() => {\r\n\t\t\tTimeAgo.addDefaultLocale({\r\n\t\t\t\tlocale: 'el'\r\n\t\t\t})\r\n\t\t}).to.throw('`TimeAgo.addDefaultLocale()` can only be called once')\r\n\t\tTimeAgo.setDefaultLocale('en')\r\n\t})\r\n\r\n\tit('should support \"floor\" rounding', () => {\r\n\t\tconst timeAgo = new TimeAgo('en')\r\n\t\ttimeAgo.format(0.9 * 1000, 'twitter', { now: 0, round: 'floor' }).should.equal('0s')\r\n\t\ttimeAgo.format(1 * 1000, 'twitter', { now: 0, round: 'floor' }).should.equal('1s')\r\n\t\ttimeAgo.format(1.9 * 1000, 'twitter', { now: 0, round: 'floor' }).should.equal('1s')\r\n\t\ttimeAgo.format(2 * 1000, 'twitter', { now: 0, round: 'floor' }).should.equal('2s')\r\n\t\ttimeAgo.format(1.9 * 60 * 1000, 'twitter', { now: 0, round: 'floor' }).should.equal('1m')\r\n\t\ttimeAgo.format(2 * 60 * 1000, 'twitter', { now: 0, round: 'floor' }).should.equal('2m')\r\n\t})\r\n})\r\n\r\ndescribe('isStyleObject', () => {\r\n\tit('should detect a style object', () => {\r\n\t\tisStyleObject({\r\n\t\t\tgradation: []\r\n\t\t}).should.equal(true)\r\n\t\tisStyleObject({\r\n\t\t\tsteps: []\r\n\t\t}).should.equal(true)\r\n\t\tisStyleObject({\r\n\t\t\tflavour: 'long'\r\n\t\t}).should.equal(true)\r\n\t\tisStyleObject({\r\n\t\t\tflavour: ['long']\r\n\t\t}).should.equal(true)\r\n\t\tisStyleObject({\r\n\t\t\tlabels: 'long'\r\n\t\t}).should.equal(true)\r\n\t\tisStyleObject({\r\n\t\t\tlabels: ['long']\r\n\t\t}).should.equal(true)\r\n\t\tisStyleObject({\r\n\t\t\tunits: ['now']\r\n\t\t}).should.equal(true)\r\n\t\tisStyleObject({\r\n\t\t\tfuture: true,\r\n\t\t\tround: 'floor',\r\n\t\t\tnow: 0,\r\n\t\t\tgetTimeToNextUpdate: true\r\n\t\t}).should.equal(false)\r\n\t\tisStyleObject('round').should.equal(false)\r\n\t})\r\n})"],"file":"TimeAgo.test.js"}