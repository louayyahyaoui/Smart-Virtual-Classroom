{"ast":null,"code":"/**\r\n * DevExtreme (events/core/keyboard_processor.js)\r\n * Version: 20.2.7\r\n * Build date: Thu Apr 22 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.default = void 0;\n\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\n\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\n\nvar _class = _interopRequireDefault(require(\"../../core/class\"));\n\nvar _array = require(\"../../core/utils/array\");\n\nvar _index = require(\"../../events/utils/index\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar COMPOSITION_START_EVENT = \"compositionstart\";\nvar COMPOSITION_END_EVENT = \"compositionend\";\nvar KEYDOWN_EVENT = \"keydown\";\nvar NAMESPACE = \"KeyboardProcessor\";\n\nvar KeyboardProcessor = _class.default.inherit({\n  _keydown: (0, _index.addNamespace)(KEYDOWN_EVENT, NAMESPACE),\n  _compositionStart: (0, _index.addNamespace)(COMPOSITION_START_EVENT, NAMESPACE),\n  _compositionEnd: (0, _index.addNamespace)(COMPOSITION_END_EVENT, NAMESPACE),\n  ctor: function (options) {\n    var _this = this;\n\n    options = options || {};\n\n    if (options.element) {\n      this._element = (0, _renderer.default)(options.element);\n    }\n\n    if (options.focusTarget) {\n      this._focusTarget = options.focusTarget;\n    }\n\n    this._handler = options.handler;\n\n    if (this._element) {\n      this._processFunction = function (e) {\n        var isNotFocusTarget = _this._focusTarget && _this._focusTarget !== e.target && (0, _array.inArray)(e.target, _this._focusTarget) < 0;\n        var shouldSkipProcessing = _this._isComposingJustFinished && 229 === e.which || _this._isComposing || isNotFocusTarget;\n        _this._isComposingJustFinished = false;\n\n        if (!shouldSkipProcessing) {\n          _this.process(e);\n        }\n      };\n\n      this._toggleProcessingWithContext = this.toggleProcessing.bind(this);\n\n      _events_engine.default.on(this._element, this._keydown, this._processFunction);\n\n      _events_engine.default.on(this._element, this._compositionStart, this._toggleProcessingWithContext);\n\n      _events_engine.default.on(this._element, this._compositionEnd, this._toggleProcessingWithContext);\n    }\n  },\n  dispose: function () {\n    if (this._element) {\n      _events_engine.default.off(this._element, this._keydown, this._processFunction);\n\n      _events_engine.default.off(this._element, this._compositionStart, this._toggleProcessingWithContext);\n\n      _events_engine.default.off(this._element, this._compositionEnd, this._toggleProcessingWithContext);\n    }\n\n    this._element = void 0;\n    this._handler = void 0;\n  },\n  process: function (e) {\n    this._handler({\n      keyName: (0, _index.normalizeKeyName)(e),\n      key: e.key,\n      code: e.code,\n      ctrl: e.ctrlKey,\n      location: e.location,\n      metaKey: e.metaKey,\n      shift: e.shiftKey,\n      alt: e.altKey,\n      which: e.which,\n      originalEvent: e\n    });\n  },\n  toggleProcessing: function (_ref) {\n    var type = _ref.type;\n    this._isComposing = type === COMPOSITION_START_EVENT;\n    this._isComposingJustFinished = !this._isComposing;\n  }\n});\n\nvar _default = KeyboardProcessor;\nexports.default = _default;\nmodule.exports = exports.default;","map":{"version":3,"sources":["C:/Smart-Virtual-Classroom/client/node_modules/devextreme/events/core/keyboard_processor.js"],"names":["exports","default","_renderer","_interopRequireDefault","require","_events_engine","_class","_array","_index","obj","__esModule","COMPOSITION_START_EVENT","COMPOSITION_END_EVENT","KEYDOWN_EVENT","NAMESPACE","KeyboardProcessor","inherit","_keydown","addNamespace","_compositionStart","_compositionEnd","ctor","options","_this","element","_element","focusTarget","_focusTarget","_handler","handler","_processFunction","e","isNotFocusTarget","target","inArray","shouldSkipProcessing","_isComposingJustFinished","which","_isComposing","process","_toggleProcessingWithContext","toggleProcessing","bind","on","dispose","off","keyName","normalizeKeyName","key","code","ctrl","ctrlKey","location","metaKey","shift","shiftKey","alt","altKey","originalEvent","_ref","type","_default","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (events/core/keyboard_processor.js)\r\n * Version: 20.2.7\r\n * Build date: Thu Apr 22 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\r\nvar _class = _interopRequireDefault(require(\"../../core/class\"));\r\nvar _array = require(\"../../core/utils/array\");\r\nvar _index = require(\"../../events/utils/index\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar COMPOSITION_START_EVENT = \"compositionstart\";\r\nvar COMPOSITION_END_EVENT = \"compositionend\";\r\nvar KEYDOWN_EVENT = \"keydown\";\r\nvar NAMESPACE = \"KeyboardProcessor\";\r\nvar KeyboardProcessor = _class.default.inherit({\r\n    _keydown: (0, _index.addNamespace)(KEYDOWN_EVENT, NAMESPACE),\r\n    _compositionStart: (0, _index.addNamespace)(COMPOSITION_START_EVENT, NAMESPACE),\r\n    _compositionEnd: (0, _index.addNamespace)(COMPOSITION_END_EVENT, NAMESPACE),\r\n    ctor: function(options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        if (options.element) {\r\n            this._element = (0, _renderer.default)(options.element)\r\n        }\r\n        if (options.focusTarget) {\r\n            this._focusTarget = options.focusTarget\r\n        }\r\n        this._handler = options.handler;\r\n        if (this._element) {\r\n            this._processFunction = function(e) {\r\n                var isNotFocusTarget = _this._focusTarget && _this._focusTarget !== e.target && (0, _array.inArray)(e.target, _this._focusTarget) < 0;\r\n                var shouldSkipProcessing = _this._isComposingJustFinished && 229 === e.which || _this._isComposing || isNotFocusTarget;\r\n                _this._isComposingJustFinished = false;\r\n                if (!shouldSkipProcessing) {\r\n                    _this.process(e)\r\n                }\r\n            };\r\n            this._toggleProcessingWithContext = this.toggleProcessing.bind(this);\r\n            _events_engine.default.on(this._element, this._keydown, this._processFunction);\r\n            _events_engine.default.on(this._element, this._compositionStart, this._toggleProcessingWithContext);\r\n            _events_engine.default.on(this._element, this._compositionEnd, this._toggleProcessingWithContext)\r\n        }\r\n    },\r\n    dispose: function() {\r\n        if (this._element) {\r\n            _events_engine.default.off(this._element, this._keydown, this._processFunction);\r\n            _events_engine.default.off(this._element, this._compositionStart, this._toggleProcessingWithContext);\r\n            _events_engine.default.off(this._element, this._compositionEnd, this._toggleProcessingWithContext)\r\n        }\r\n        this._element = void 0;\r\n        this._handler = void 0\r\n    },\r\n    process: function(e) {\r\n        this._handler({\r\n            keyName: (0, _index.normalizeKeyName)(e),\r\n            key: e.key,\r\n            code: e.code,\r\n            ctrl: e.ctrlKey,\r\n            location: e.location,\r\n            metaKey: e.metaKey,\r\n            shift: e.shiftKey,\r\n            alt: e.altKey,\r\n            which: e.which,\r\n            originalEvent: e\r\n        })\r\n    },\r\n    toggleProcessing: function(_ref) {\r\n        var type = _ref.type;\r\n        this._isComposing = type === COMPOSITION_START_EVENT;\r\n        this._isComposingJustFinished = !this._isComposing\r\n    }\r\n});\r\nvar _default = KeyboardProcessor;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n"]},"metadata":{},"sourceType":"script"}