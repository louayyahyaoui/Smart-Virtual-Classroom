{"ast":null,"code":"/**\r\n * DevExtreme (events/core/emitter.feedback.js)\r\n * Version: 20.2.7\r\n * Build date: Thu Apr 22 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.inactive = exports.active = exports.lock = void 0;\n\nvar _class = _interopRequireDefault(require(\"../../core/class\"));\n\nvar _common = require(\"../../core/utils/common\");\n\nvar _dom = require(\"../../core/utils/dom\");\n\nvar _devices = _interopRequireDefault(require(\"../../core/devices\"));\n\nvar _index = require(\"../utils/index\");\n\nvar _pointer = _interopRequireDefault(require(\"../pointer\"));\n\nvar _emitter = _interopRequireDefault(require(\"./emitter\"));\n\nvar _emitter_registrator = _interopRequireDefault(require(\"./emitter_registrator\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar ACTIVE_EVENT_NAME = \"dxactive\";\nexports.active = ACTIVE_EVENT_NAME;\nvar INACTIVE_EVENT_NAME = \"dxinactive\";\nexports.inactive = INACTIVE_EVENT_NAME;\nvar ACTIVE_TIMEOUT = 30;\nvar INACTIVE_TIMEOUT = 400;\n\nvar FeedbackEvent = _class.default.inherit({\n  ctor: function (timeout, fire) {\n    this._timeout = timeout;\n    this._fire = fire;\n  },\n  start: function () {\n    var that = this;\n\n    this._schedule(function () {\n      that.force();\n    });\n  },\n  _schedule: function (fn) {\n    this.stop();\n    this._timer = setTimeout(fn, this._timeout);\n  },\n  stop: function () {\n    clearTimeout(this._timer);\n  },\n  force: function () {\n    if (this._fired) {\n      return;\n    }\n\n    this.stop();\n\n    this._fire();\n\n    this._fired = true;\n  },\n  fired: function () {\n    return this._fired;\n  }\n});\n\nvar activeFeedback;\n\nvar FeedbackEmitter = _emitter.default.inherit({\n  ctor: function () {\n    this.callBase.apply(this, arguments);\n    this._active = new FeedbackEvent(0, _common.noop);\n    this._inactive = new FeedbackEvent(0, _common.noop);\n  },\n  configure: function (data, eventName) {\n    switch (eventName) {\n      case ACTIVE_EVENT_NAME:\n        data.activeTimeout = data.timeout;\n        break;\n\n      case INACTIVE_EVENT_NAME:\n        data.inactiveTimeout = data.timeout;\n    }\n\n    this.callBase(data);\n  },\n  start: function (e) {\n    if (activeFeedback) {\n      var activeChildExists = (0, _dom.contains)(this.getElement().get(0), activeFeedback.getElement().get(0));\n      var childJustActivated = !activeFeedback._active.fired();\n\n      if (activeChildExists && childJustActivated) {\n        this._cancel();\n\n        return;\n      }\n\n      activeFeedback._inactive.force();\n    }\n\n    activeFeedback = this;\n\n    this._initEvents(e);\n\n    this._active.start();\n  },\n  _initEvents: function (e) {\n    var that = this;\n\n    var eventTarget = this._getEmitterTarget(e);\n\n    var mouseEvent = (0, _index.isMouseEvent)(e);\n\n    var isSimulator = _devices.default.isSimulator();\n\n    var deferFeedback = isSimulator || !mouseEvent;\n    var activeTimeout = (0, _common.ensureDefined)(this.activeTimeout, ACTIVE_TIMEOUT);\n    var inactiveTimeout = (0, _common.ensureDefined)(this.inactiveTimeout, INACTIVE_TIMEOUT);\n    this._active = new FeedbackEvent(deferFeedback ? activeTimeout : 0, function () {\n      that._fireEvent(ACTIVE_EVENT_NAME, e, {\n        target: eventTarget\n      });\n    });\n    this._inactive = new FeedbackEvent(deferFeedback ? inactiveTimeout : 0, function () {\n      that._fireEvent(INACTIVE_EVENT_NAME, e, {\n        target: eventTarget\n      });\n\n      activeFeedback = null;\n    });\n  },\n  cancel: function (e) {\n    this.end(e);\n  },\n  end: function (e) {\n    var skipTimers = e.type !== _pointer.default.up;\n\n    if (skipTimers) {\n      this._active.stop();\n    } else {\n      this._active.force();\n    }\n\n    this._inactive.start();\n\n    if (skipTimers) {\n      this._inactive.force();\n    }\n  },\n  dispose: function () {\n    this._active.stop();\n\n    this._inactive.stop();\n\n    if (activeFeedback === this) {\n      activeFeedback = null;\n    }\n\n    this.callBase();\n  },\n  lockInactive: function () {\n    this._active.force();\n\n    this._inactive.stop();\n\n    activeFeedback = null;\n\n    this._cancel();\n\n    return this._inactive.force.bind(this._inactive);\n  }\n});\n\nFeedbackEmitter.lock = function (deferred) {\n  var lockInactive = activeFeedback ? activeFeedback.lockInactive() : _common.noop;\n  deferred.done(lockInactive);\n};\n\n(0, _emitter_registrator.default)({\n  emitter: FeedbackEmitter,\n  events: [ACTIVE_EVENT_NAME, INACTIVE_EVENT_NAME]\n});\nvar lock = FeedbackEmitter.lock;\nexports.lock = lock;","map":{"version":3,"sources":["C:/Smart-Virtual-Classroom/client/node_modules/devextreme/events/core/emitter.feedback.js"],"names":["exports","inactive","active","lock","_class","_interopRequireDefault","require","_common","_dom","_devices","_index","_pointer","_emitter","_emitter_registrator","obj","__esModule","ACTIVE_EVENT_NAME","INACTIVE_EVENT_NAME","ACTIVE_TIMEOUT","INACTIVE_TIMEOUT","FeedbackEvent","default","inherit","ctor","timeout","fire","_timeout","_fire","start","that","_schedule","force","fn","stop","_timer","setTimeout","clearTimeout","_fired","fired","activeFeedback","FeedbackEmitter","callBase","apply","arguments","_active","noop","_inactive","configure","data","eventName","activeTimeout","inactiveTimeout","e","activeChildExists","contains","getElement","get","childJustActivated","_cancel","_initEvents","eventTarget","_getEmitterTarget","mouseEvent","isMouseEvent","isSimulator","deferFeedback","ensureDefined","_fireEvent","target","cancel","end","skipTimers","type","up","dispose","lockInactive","bind","deferred","done","emitter","events"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (events/core/emitter.feedback.js)\r\n * Version: 20.2.7\r\n * Build date: Thu Apr 22 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.inactive = exports.active = exports.lock = void 0;\r\nvar _class = _interopRequireDefault(require(\"../../core/class\"));\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _dom = require(\"../../core/utils/dom\");\r\nvar _devices = _interopRequireDefault(require(\"../../core/devices\"));\r\nvar _index = require(\"../utils/index\");\r\nvar _pointer = _interopRequireDefault(require(\"../pointer\"));\r\nvar _emitter = _interopRequireDefault(require(\"./emitter\"));\r\nvar _emitter_registrator = _interopRequireDefault(require(\"./emitter_registrator\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar ACTIVE_EVENT_NAME = \"dxactive\";\r\nexports.active = ACTIVE_EVENT_NAME;\r\nvar INACTIVE_EVENT_NAME = \"dxinactive\";\r\nexports.inactive = INACTIVE_EVENT_NAME;\r\nvar ACTIVE_TIMEOUT = 30;\r\nvar INACTIVE_TIMEOUT = 400;\r\nvar FeedbackEvent = _class.default.inherit({\r\n    ctor: function(timeout, fire) {\r\n        this._timeout = timeout;\r\n        this._fire = fire\r\n    },\r\n    start: function() {\r\n        var that = this;\r\n        this._schedule(function() {\r\n            that.force()\r\n        })\r\n    },\r\n    _schedule: function(fn) {\r\n        this.stop();\r\n        this._timer = setTimeout(fn, this._timeout)\r\n    },\r\n    stop: function() {\r\n        clearTimeout(this._timer)\r\n    },\r\n    force: function() {\r\n        if (this._fired) {\r\n            return\r\n        }\r\n        this.stop();\r\n        this._fire();\r\n        this._fired = true\r\n    },\r\n    fired: function() {\r\n        return this._fired\r\n    }\r\n});\r\nvar activeFeedback;\r\nvar FeedbackEmitter = _emitter.default.inherit({\r\n    ctor: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._active = new FeedbackEvent(0, _common.noop);\r\n        this._inactive = new FeedbackEvent(0, _common.noop)\r\n    },\r\n    configure: function(data, eventName) {\r\n        switch (eventName) {\r\n            case ACTIVE_EVENT_NAME:\r\n                data.activeTimeout = data.timeout;\r\n                break;\r\n            case INACTIVE_EVENT_NAME:\r\n                data.inactiveTimeout = data.timeout\r\n        }\r\n        this.callBase(data)\r\n    },\r\n    start: function(e) {\r\n        if (activeFeedback) {\r\n            var activeChildExists = (0, _dom.contains)(this.getElement().get(0), activeFeedback.getElement().get(0));\r\n            var childJustActivated = !activeFeedback._active.fired();\r\n            if (activeChildExists && childJustActivated) {\r\n                this._cancel();\r\n                return\r\n            }\r\n            activeFeedback._inactive.force()\r\n        }\r\n        activeFeedback = this;\r\n        this._initEvents(e);\r\n        this._active.start()\r\n    },\r\n    _initEvents: function(e) {\r\n        var that = this;\r\n        var eventTarget = this._getEmitterTarget(e);\r\n        var mouseEvent = (0, _index.isMouseEvent)(e);\r\n        var isSimulator = _devices.default.isSimulator();\r\n        var deferFeedback = isSimulator || !mouseEvent;\r\n        var activeTimeout = (0, _common.ensureDefined)(this.activeTimeout, ACTIVE_TIMEOUT);\r\n        var inactiveTimeout = (0, _common.ensureDefined)(this.inactiveTimeout, INACTIVE_TIMEOUT);\r\n        this._active = new FeedbackEvent(deferFeedback ? activeTimeout : 0, function() {\r\n            that._fireEvent(ACTIVE_EVENT_NAME, e, {\r\n                target: eventTarget\r\n            })\r\n        });\r\n        this._inactive = new FeedbackEvent(deferFeedback ? inactiveTimeout : 0, function() {\r\n            that._fireEvent(INACTIVE_EVENT_NAME, e, {\r\n                target: eventTarget\r\n            });\r\n            activeFeedback = null\r\n        })\r\n    },\r\n    cancel: function(e) {\r\n        this.end(e)\r\n    },\r\n    end: function(e) {\r\n        var skipTimers = e.type !== _pointer.default.up;\r\n        if (skipTimers) {\r\n            this._active.stop()\r\n        } else {\r\n            this._active.force()\r\n        }\r\n        this._inactive.start();\r\n        if (skipTimers) {\r\n            this._inactive.force()\r\n        }\r\n    },\r\n    dispose: function() {\r\n        this._active.stop();\r\n        this._inactive.stop();\r\n        if (activeFeedback === this) {\r\n            activeFeedback = null\r\n        }\r\n        this.callBase()\r\n    },\r\n    lockInactive: function() {\r\n        this._active.force();\r\n        this._inactive.stop();\r\n        activeFeedback = null;\r\n        this._cancel();\r\n        return this._inactive.force.bind(this._inactive)\r\n    }\r\n});\r\nFeedbackEmitter.lock = function(deferred) {\r\n    var lockInactive = activeFeedback ? activeFeedback.lockInactive() : _common.noop;\r\n    deferred.done(lockInactive)\r\n};\r\n(0, _emitter_registrator.default)({\r\n    emitter: FeedbackEmitter,\r\n    events: [ACTIVE_EVENT_NAME, INACTIVE_EVENT_NAME]\r\n});\r\nvar lock = FeedbackEmitter.lock;\r\nexports.lock = lock;\r\n"]},"metadata":{},"sourceType":"script"}