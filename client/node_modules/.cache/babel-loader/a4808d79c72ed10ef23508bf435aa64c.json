{"ast":null,"code":"/**\r\n * DevExtreme (data/data_source/utils.js)\r\n * Version: 20.2.6\r\n * Build date: Tue Mar 16 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.normalizeDataSourceOptions = exports.normalizeLoadResult = exports.mapDataRespectingGrouping = exports.normalizeStoreLoadOptionAccessorArguments = exports.isPending = exports.CANCELED_TOKEN = void 0;\n\nvar _ajax = _interopRequireDefault(require(\"../../core/utils/ajax\"));\n\nvar _abstract_store = _interopRequireDefault(require(\"../abstract_store\"));\n\nvar _array_store = _interopRequireDefault(require(\"../array_store\"));\n\nvar _iterator = require(\"../../core/utils/iterator\");\n\nvar _custom_store = _interopRequireDefault(require(\"../custom_store\"));\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _utils = _interopRequireDefault(require(\"../utils\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else {\n      if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (null == source) {\n    return {};\n  }\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n\n      if (excluded.indexOf(key) >= 0) {\n        continue;\n      }\n\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) {\n        continue;\n      }\n\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (null == source) {\n    return {};\n  }\n\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n\n    if (excluded.indexOf(key) >= 0) {\n      continue;\n    }\n\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar CANCELED_TOKEN = \"canceled\";\nexports.CANCELED_TOKEN = CANCELED_TOKEN;\n\nvar isPending = function (deferred) {\n  return \"pending\" === deferred.state();\n};\n\nexports.isPending = isPending;\n\nvar normalizeStoreLoadOptionAccessorArguments = function (originalArguments) {\n  switch (originalArguments.length) {\n    case 0:\n      return;\n\n    case 1:\n      return originalArguments[0];\n  }\n\n  return [].slice.call(originalArguments);\n};\n\nexports.normalizeStoreLoadOptionAccessorArguments = normalizeStoreLoadOptionAccessorArguments;\n\nvar mapGroup = function (group, level, mapper) {\n  return (0, _iterator.map)(group, function (item) {\n    var restItem = (item.items, _objectWithoutProperties(item, [\"items\"]));\n    return _objectSpread(_objectSpread({}, restItem), {}, {\n      items: mapRecursive(item.items, level - 1, mapper)\n    });\n  });\n};\n\nvar mapRecursive = function (items, level, mapper) {\n  if (!Array.isArray(items)) {\n    return items;\n  }\n\n  return level ? mapGroup(items, level, mapper) : (0, _iterator.map)(items, mapper);\n};\n\nvar mapDataRespectingGrouping = function (items, mapper, groupInfo) {\n  var level = groupInfo ? _utils.default.normalizeSortingInfo(groupInfo).length : 0;\n  return mapRecursive(items, level, mapper);\n};\n\nexports.mapDataRespectingGrouping = mapDataRespectingGrouping;\n\nvar normalizeLoadResult = function (data, extra) {\n  var _data;\n\n  if (null !== (_data = data) && void 0 !== _data && _data.data) {\n    extra = data;\n    data = data.data;\n  }\n\n  if (!Array.isArray(data)) {\n    data = [data];\n  }\n\n  return {\n    data: data,\n    extra: extra\n  };\n};\n\nexports.normalizeLoadResult = normalizeLoadResult;\n\nvar createCustomStoreFromLoadFunc = function (options) {\n  var storeConfig = {};\n  (0, _iterator.each)([\"useDefaultSearch\", \"key\", \"load\", \"loadMode\", \"cacheRawData\", \"byKey\", \"lookup\", \"totalCount\", \"insert\", \"update\", \"remove\"], function () {\n    storeConfig[this] = options[this];\n    delete options[this];\n  });\n  return new _custom_store.default(storeConfig);\n};\n\nvar createStoreFromConfig = function (storeConfig) {\n  var alias = storeConfig.type;\n  delete storeConfig.type;\n  return _abstract_store.default.create(alias, storeConfig);\n};\n\nvar createCustomStoreFromUrl = function (url, normalizationOptions) {\n  return new _custom_store.default({\n    load: function () {\n      return _ajax.default.sendRequest({\n        url: url,\n        dataType: \"json\"\n      });\n    },\n    loadMode: null === normalizationOptions || void 0 === normalizationOptions ? void 0 : normalizationOptions.fromUrlLoadMode\n  });\n};\n\nvar normalizeDataSourceOptions = function (options, normalizationOptions) {\n  var store;\n\n  if (\"string\" === typeof options) {\n    options = {\n      paginate: false,\n      store: createCustomStoreFromUrl(options, normalizationOptions)\n    };\n  }\n\n  if (void 0 === options) {\n    options = [];\n  }\n\n  if (Array.isArray(options) || options instanceof _abstract_store.default) {\n    options = {\n      store: options\n    };\n  } else {\n    options = (0, _extend.extend)({}, options);\n  }\n\n  if (void 0 === options.store) {\n    options.store = [];\n  }\n\n  store = options.store;\n\n  if (\"load\" in options) {\n    store = createCustomStoreFromLoadFunc(options);\n  } else {\n    if (Array.isArray(store)) {\n      store = new _array_store.default(store);\n    } else {\n      if ((0, _type.isPlainObject)(store)) {\n        store = createStoreFromConfig((0, _extend.extend)({}, store));\n      }\n    }\n  }\n\n  options.store = store;\n  return options;\n};\n\nexports.normalizeDataSourceOptions = normalizeDataSourceOptions;","map":{"version":3,"sources":["C:/Smart-Virtual-Classroom/client/node_modules/devextreme/data/data_source/utils.js"],"names":["exports","normalizeDataSourceOptions","normalizeLoadResult","mapDataRespectingGrouping","normalizeStoreLoadOptionAccessorArguments","isPending","CANCELED_TOKEN","_ajax","_interopRequireDefault","require","_abstract_store","_array_store","_iterator","_custom_store","_extend","_type","_utils","obj","__esModule","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","value","configurable","writable","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","indexOf","prototype","propertyIsEnumerable","call","sourceKeys","deferred","state","originalArguments","slice","mapGroup","group","level","mapper","map","item","restItem","items","mapRecursive","Array","isArray","groupInfo","default","normalizeSortingInfo","data","extra","_data","createCustomStoreFromLoadFunc","options","storeConfig","each","createStoreFromConfig","alias","type","create","createCustomStoreFromUrl","url","normalizationOptions","load","sendRequest","dataType","loadMode","fromUrlLoadMode","store","paginate","extend","isPlainObject"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (data/data_source/utils.js)\r\n * Version: 20.2.6\r\n * Build date: Tue Mar 16 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.normalizeDataSourceOptions = exports.normalizeLoadResult = exports.mapDataRespectingGrouping = exports.normalizeStoreLoadOptionAccessorArguments = exports.isPending = exports.CANCELED_TOKEN = void 0;\r\nvar _ajax = _interopRequireDefault(require(\"../../core/utils/ajax\"));\r\nvar _abstract_store = _interopRequireDefault(require(\"../abstract_store\"));\r\nvar _array_store = _interopRequireDefault(require(\"../array_store\"));\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _custom_store = _interopRequireDefault(require(\"../custom_store\"));\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _utils = _interopRequireDefault(require(\"../utils\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction ownKeys(object, enumerableOnly) {\r\n    var keys = Object.keys(object);\r\n    if (Object.getOwnPropertySymbols) {\r\n        var symbols = Object.getOwnPropertySymbols(object);\r\n        if (enumerableOnly) {\r\n            symbols = symbols.filter(function(sym) {\r\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable\r\n            })\r\n        }\r\n        keys.push.apply(keys, symbols)\r\n    }\r\n    return keys\r\n}\r\n\r\nfunction _objectSpread(target) {\r\n    for (var i = 1; i < arguments.length; i++) {\r\n        var source = null != arguments[i] ? arguments[i] : {};\r\n        if (i % 2) {\r\n            ownKeys(Object(source), true).forEach(function(key) {\r\n                _defineProperty(target, key, source[key])\r\n            })\r\n        } else {\r\n            if (Object.getOwnPropertyDescriptors) {\r\n                Object.defineProperties(target, Object.getOwnPropertyDescriptors(source))\r\n            } else {\r\n                ownKeys(Object(source)).forEach(function(key) {\r\n                    Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key))\r\n                })\r\n            }\r\n        }\r\n    }\r\n    return target\r\n}\r\n\r\nfunction _defineProperty(obj, key, value) {\r\n    if (key in obj) {\r\n        Object.defineProperty(obj, key, {\r\n            value: value,\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true\r\n        })\r\n    } else {\r\n        obj[key] = value\r\n    }\r\n    return obj\r\n}\r\n\r\nfunction _objectWithoutProperties(source, excluded) {\r\n    if (null == source) {\r\n        return {}\r\n    }\r\n    var target = _objectWithoutPropertiesLoose(source, excluded);\r\n    var key, i;\r\n    if (Object.getOwnPropertySymbols) {\r\n        var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\r\n        for (i = 0; i < sourceSymbolKeys.length; i++) {\r\n            key = sourceSymbolKeys[i];\r\n            if (excluded.indexOf(key) >= 0) {\r\n                continue\r\n            }\r\n            if (!Object.prototype.propertyIsEnumerable.call(source, key)) {\r\n                continue\r\n            }\r\n            target[key] = source[key]\r\n        }\r\n    }\r\n    return target\r\n}\r\n\r\nfunction _objectWithoutPropertiesLoose(source, excluded) {\r\n    if (null == source) {\r\n        return {}\r\n    }\r\n    var target = {};\r\n    var sourceKeys = Object.keys(source);\r\n    var key, i;\r\n    for (i = 0; i < sourceKeys.length; i++) {\r\n        key = sourceKeys[i];\r\n        if (excluded.indexOf(key) >= 0) {\r\n            continue\r\n        }\r\n        target[key] = source[key]\r\n    }\r\n    return target\r\n}\r\nvar CANCELED_TOKEN = \"canceled\";\r\nexports.CANCELED_TOKEN = CANCELED_TOKEN;\r\nvar isPending = function(deferred) {\r\n    return \"pending\" === deferred.state()\r\n};\r\nexports.isPending = isPending;\r\nvar normalizeStoreLoadOptionAccessorArguments = function(originalArguments) {\r\n    switch (originalArguments.length) {\r\n        case 0:\r\n            return;\r\n        case 1:\r\n            return originalArguments[0]\r\n    }\r\n    return [].slice.call(originalArguments)\r\n};\r\nexports.normalizeStoreLoadOptionAccessorArguments = normalizeStoreLoadOptionAccessorArguments;\r\nvar mapGroup = function(group, level, mapper) {\r\n    return (0, _iterator.map)(group, function(item) {\r\n        var restItem = (item.items, _objectWithoutProperties(item, [\"items\"]));\r\n        return _objectSpread(_objectSpread({}, restItem), {}, {\r\n            items: mapRecursive(item.items, level - 1, mapper)\r\n        })\r\n    })\r\n};\r\nvar mapRecursive = function(items, level, mapper) {\r\n    if (!Array.isArray(items)) {\r\n        return items\r\n    }\r\n    return level ? mapGroup(items, level, mapper) : (0, _iterator.map)(items, mapper)\r\n};\r\nvar mapDataRespectingGrouping = function(items, mapper, groupInfo) {\r\n    var level = groupInfo ? _utils.default.normalizeSortingInfo(groupInfo).length : 0;\r\n    return mapRecursive(items, level, mapper)\r\n};\r\nexports.mapDataRespectingGrouping = mapDataRespectingGrouping;\r\nvar normalizeLoadResult = function(data, extra) {\r\n    var _data;\r\n    if (null !== (_data = data) && void 0 !== _data && _data.data) {\r\n        extra = data;\r\n        data = data.data\r\n    }\r\n    if (!Array.isArray(data)) {\r\n        data = [data]\r\n    }\r\n    return {\r\n        data: data,\r\n        extra: extra\r\n    }\r\n};\r\nexports.normalizeLoadResult = normalizeLoadResult;\r\nvar createCustomStoreFromLoadFunc = function(options) {\r\n    var storeConfig = {};\r\n    (0, _iterator.each)([\"useDefaultSearch\", \"key\", \"load\", \"loadMode\", \"cacheRawData\", \"byKey\", \"lookup\", \"totalCount\", \"insert\", \"update\", \"remove\"], function() {\r\n        storeConfig[this] = options[this];\r\n        delete options[this]\r\n    });\r\n    return new _custom_store.default(storeConfig)\r\n};\r\nvar createStoreFromConfig = function(storeConfig) {\r\n    var alias = storeConfig.type;\r\n    delete storeConfig.type;\r\n    return _abstract_store.default.create(alias, storeConfig)\r\n};\r\nvar createCustomStoreFromUrl = function(url, normalizationOptions) {\r\n    return new _custom_store.default({\r\n        load: function() {\r\n            return _ajax.default.sendRequest({\r\n                url: url,\r\n                dataType: \"json\"\r\n            })\r\n        },\r\n        loadMode: null === normalizationOptions || void 0 === normalizationOptions ? void 0 : normalizationOptions.fromUrlLoadMode\r\n    })\r\n};\r\nvar normalizeDataSourceOptions = function(options, normalizationOptions) {\r\n    var store;\r\n    if (\"string\" === typeof options) {\r\n        options = {\r\n            paginate: false,\r\n            store: createCustomStoreFromUrl(options, normalizationOptions)\r\n        }\r\n    }\r\n    if (void 0 === options) {\r\n        options = []\r\n    }\r\n    if (Array.isArray(options) || options instanceof _abstract_store.default) {\r\n        options = {\r\n            store: options\r\n        }\r\n    } else {\r\n        options = (0, _extend.extend)({}, options)\r\n    }\r\n    if (void 0 === options.store) {\r\n        options.store = []\r\n    }\r\n    store = options.store;\r\n    if (\"load\" in options) {\r\n        store = createCustomStoreFromLoadFunc(options)\r\n    } else {\r\n        if (Array.isArray(store)) {\r\n            store = new _array_store.default(store)\r\n        } else {\r\n            if ((0, _type.isPlainObject)(store)) {\r\n                store = createStoreFromConfig((0, _extend.extend)({}, store))\r\n            }\r\n        }\r\n    }\r\n    options.store = store;\r\n    return options\r\n};\r\nexports.normalizeDataSourceOptions = normalizeDataSourceOptions;\r\n"]},"metadata":{},"sourceType":"script"}