{"ast":null,"code":"/**\r\n * DevExtreme (events/gesture/emitter.gesture.js)\r\n * Version: 20.2.7\r\n * Build date: Thu Apr 22 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.default = void 0;\n\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\n\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\n\nvar _devices = _interopRequireDefault(require(\"../../core/devices\"));\n\nvar _style = require(\"../../core/utils/style\");\n\nvar _call_once = _interopRequireDefault(require(\"../../core/utils/call_once\"));\n\nvar _dom = require(\"../../core/utils/dom\");\n\nvar _ready_callbacks = _interopRequireDefault(require(\"../../core/utils/ready_callbacks\"));\n\nvar _math = require(\"../../core/utils/math\");\n\nvar _common = require(\"../../core/utils/common\");\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _index = require(\"../utils/index\");\n\nvar _emitter = _interopRequireDefault(require(\"../core/emitter\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar ready = _ready_callbacks.default.add;\nvar abs = Math.abs;\nvar SLEEP = 0;\nvar INITED = 1;\nvar STARTED = 2;\nvar TOUCH_BOUNDARY = 10;\nvar IMMEDIATE_TOUCH_BOUNDARY = 0;\nvar IMMEDIATE_TIMEOUT = 180;\n\nvar supportPointerEvents = function () {\n  return (0, _style.styleProp)(\"pointer-events\");\n};\n\nvar setGestureCover = (0, _call_once.default)(function () {\n  var GESTURE_COVER_CLASS = \"dx-gesture-cover\";\n\n  var isDesktop = \"desktop\" === _devices.default.real().deviceType;\n\n  if (!supportPointerEvents() || !isDesktop) {\n    return _common.noop;\n  }\n\n  var $cover = (0, _renderer.default)(\"<div>\").addClass(GESTURE_COVER_CLASS).css(\"pointerEvents\", \"none\");\n\n  _events_engine.default.subscribeGlobal($cover, \"dxmousewheel\", function (e) {\n    e.preventDefault();\n  });\n\n  ready(function () {\n    $cover.appendTo(\"body\");\n  });\n  return function (toggle, cursor) {\n    $cover.css(\"pointerEvents\", toggle ? \"all\" : \"none\");\n    toggle && $cover.css(\"cursor\", cursor);\n  };\n});\n\nvar gestureCover = function (toggle, cursor) {\n  var gestureCoverStrategy = setGestureCover();\n  gestureCoverStrategy(toggle, cursor);\n};\n\nvar GestureEmitter = _emitter.default.inherit({\n  gesture: true,\n  configure: function (data) {\n    this.getElement().css(\"msTouchAction\", data.immediate ? \"pinch-zoom\" : \"\");\n    this.callBase(data);\n  },\n  allowInterruptionByMouseWheel: function () {\n    return this._stage !== STARTED;\n  },\n  getDirection: function () {\n    return this.direction;\n  },\n  _cancel: function () {\n    this.callBase.apply(this, arguments);\n\n    this._toggleGestureCover(false);\n\n    this._stage = SLEEP;\n  },\n  start: function (e) {\n    if (e._needSkipEvent || (0, _index.needSkipEvent)(e)) {\n      this._cancel(e);\n\n      return;\n    }\n\n    this._startEvent = (0, _index.createEvent)(e);\n    this._startEventData = (0, _index.eventData)(e);\n    this._stage = INITED;\n\n    this._init(e);\n\n    this._setupImmediateTimer();\n  },\n  _setupImmediateTimer: function () {\n    clearTimeout(this._immediateTimer);\n    this._immediateAccepted = false;\n\n    if (!this.immediate) {\n      return;\n    }\n\n    this._immediateTimer = setTimeout(function () {\n      this._immediateAccepted = true;\n    }.bind(this), IMMEDIATE_TIMEOUT);\n  },\n  move: function (e) {\n    if (this._stage === INITED && this._directionConfirmed(e)) {\n      this._stage = STARTED;\n\n      this._resetActiveElement();\n\n      this._toggleGestureCover(true);\n\n      this._clearSelection(e);\n\n      this._adjustStartEvent(e);\n\n      this._start(this._startEvent);\n\n      if (this._stage === SLEEP) {\n        return;\n      }\n\n      this._requestAccept(e);\n\n      this._move(e);\n\n      this._forgetAccept();\n    } else {\n      if (this._stage === STARTED) {\n        this._clearSelection(e);\n\n        this._move(e);\n      }\n    }\n  },\n  _directionConfirmed: function (e) {\n    var touchBoundary = this._getTouchBoundary(e);\n\n    var delta = (0, _index.eventDelta)(this._startEventData, (0, _index.eventData)(e));\n    var deltaX = abs(delta.x);\n    var deltaY = abs(delta.y);\n\n    var horizontalMove = this._validateMove(touchBoundary, deltaX, deltaY);\n\n    var verticalMove = this._validateMove(touchBoundary, deltaY, deltaX);\n\n    var direction = this.getDirection(e);\n    var bothAccepted = \"both\" === direction && (horizontalMove || verticalMove);\n    var horizontalAccepted = \"horizontal\" === direction && horizontalMove;\n    var verticalAccepted = \"vertical\" === direction && verticalMove;\n    return bothAccepted || horizontalAccepted || verticalAccepted || this._immediateAccepted;\n  },\n  _validateMove: function (touchBoundary, mainAxis, crossAxis) {\n    return mainAxis && mainAxis >= touchBoundary && (this.immediate ? mainAxis >= crossAxis : true);\n  },\n  _getTouchBoundary: function (e) {\n    return this.immediate || (0, _index.isDxMouseWheelEvent)(e) ? IMMEDIATE_TOUCH_BOUNDARY : TOUCH_BOUNDARY;\n  },\n  _adjustStartEvent: function (e) {\n    var touchBoundary = this._getTouchBoundary(e);\n\n    var delta = (0, _index.eventDelta)(this._startEventData, (0, _index.eventData)(e));\n    this._startEvent.pageX += (0, _math.sign)(delta.x) * touchBoundary;\n    this._startEvent.pageY += (0, _math.sign)(delta.y) * touchBoundary;\n  },\n  _resetActiveElement: function () {\n    if (\"ios\" === _devices.default.real().platform && this.getElement().find(\":focus\").length) {\n      (0, _dom.resetActiveElement)();\n    }\n  },\n  _toggleGestureCover: function (toggle) {\n    this._toggleGestureCoverImpl(toggle);\n  },\n  _toggleGestureCoverImpl: function (toggle) {\n    var isStarted = this._stage === STARTED;\n\n    if (isStarted) {\n      gestureCover(toggle, this.getElement().css(\"cursor\"));\n    }\n  },\n  _clearSelection: function (e) {\n    if ((0, _index.isDxMouseWheelEvent)(e) || (0, _index.isTouchEvent)(e)) {\n      return;\n    }\n\n    (0, _dom.clearSelection)();\n  },\n  end: function (e) {\n    this._toggleGestureCover(false);\n\n    if (this._stage === STARTED) {\n      this._end(e);\n    } else {\n      if (this._stage === INITED) {\n        this._stop(e);\n      }\n    }\n\n    this._stage = SLEEP;\n  },\n  dispose: function () {\n    clearTimeout(this._immediateTimer);\n    this.callBase.apply(this, arguments);\n\n    this._toggleGestureCover(false);\n  },\n  _init: _common.noop,\n  _start: _common.noop,\n  _move: _common.noop,\n  _stop: _common.noop,\n  _end: _common.noop\n});\n\nGestureEmitter.initialTouchBoundary = TOUCH_BOUNDARY;\n\nGestureEmitter.touchBoundary = function (newBoundary) {\n  if ((0, _type.isDefined)(newBoundary)) {\n    TOUCH_BOUNDARY = newBoundary;\n    return;\n  }\n\n  return TOUCH_BOUNDARY;\n};\n\nvar _default = GestureEmitter;\nexports.default = _default;\nmodule.exports = exports.default;","map":{"version":3,"sources":["C:/Smart-Virtual-Classroom/client/node_modules/devextreme/events/gesture/emitter.gesture.js"],"names":["exports","default","_renderer","_interopRequireDefault","require","_events_engine","_devices","_style","_call_once","_dom","_ready_callbacks","_math","_common","_type","_index","_emitter","obj","__esModule","ready","add","abs","Math","SLEEP","INITED","STARTED","TOUCH_BOUNDARY","IMMEDIATE_TOUCH_BOUNDARY","IMMEDIATE_TIMEOUT","supportPointerEvents","styleProp","setGestureCover","GESTURE_COVER_CLASS","isDesktop","real","deviceType","noop","$cover","addClass","css","subscribeGlobal","e","preventDefault","appendTo","toggle","cursor","gestureCover","gestureCoverStrategy","GestureEmitter","inherit","gesture","configure","data","getElement","immediate","callBase","allowInterruptionByMouseWheel","_stage","getDirection","direction","_cancel","apply","arguments","_toggleGestureCover","start","_needSkipEvent","needSkipEvent","_startEvent","createEvent","_startEventData","eventData","_init","_setupImmediateTimer","clearTimeout","_immediateTimer","_immediateAccepted","setTimeout","bind","move","_directionConfirmed","_resetActiveElement","_clearSelection","_adjustStartEvent","_start","_requestAccept","_move","_forgetAccept","touchBoundary","_getTouchBoundary","delta","eventDelta","deltaX","x","deltaY","y","horizontalMove","_validateMove","verticalMove","bothAccepted","horizontalAccepted","verticalAccepted","mainAxis","crossAxis","isDxMouseWheelEvent","pageX","sign","pageY","platform","find","length","resetActiveElement","_toggleGestureCoverImpl","isStarted","isTouchEvent","clearSelection","end","_end","_stop","dispose","initialTouchBoundary","newBoundary","isDefined","_default","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (events/gesture/emitter.gesture.js)\r\n * Version: 20.2.7\r\n * Build date: Thu Apr 22 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\r\nvar _devices = _interopRequireDefault(require(\"../../core/devices\"));\r\nvar _style = require(\"../../core/utils/style\");\r\nvar _call_once = _interopRequireDefault(require(\"../../core/utils/call_once\"));\r\nvar _dom = require(\"../../core/utils/dom\");\r\nvar _ready_callbacks = _interopRequireDefault(require(\"../../core/utils/ready_callbacks\"));\r\nvar _math = require(\"../../core/utils/math\");\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _index = require(\"../utils/index\");\r\nvar _emitter = _interopRequireDefault(require(\"../core/emitter\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar ready = _ready_callbacks.default.add;\r\nvar abs = Math.abs;\r\nvar SLEEP = 0;\r\nvar INITED = 1;\r\nvar STARTED = 2;\r\nvar TOUCH_BOUNDARY = 10;\r\nvar IMMEDIATE_TOUCH_BOUNDARY = 0;\r\nvar IMMEDIATE_TIMEOUT = 180;\r\nvar supportPointerEvents = function() {\r\n    return (0, _style.styleProp)(\"pointer-events\")\r\n};\r\nvar setGestureCover = (0, _call_once.default)(function() {\r\n    var GESTURE_COVER_CLASS = \"dx-gesture-cover\";\r\n    var isDesktop = \"desktop\" === _devices.default.real().deviceType;\r\n    if (!supportPointerEvents() || !isDesktop) {\r\n        return _common.noop\r\n    }\r\n    var $cover = (0, _renderer.default)(\"<div>\").addClass(GESTURE_COVER_CLASS).css(\"pointerEvents\", \"none\");\r\n    _events_engine.default.subscribeGlobal($cover, \"dxmousewheel\", function(e) {\r\n        e.preventDefault()\r\n    });\r\n    ready(function() {\r\n        $cover.appendTo(\"body\")\r\n    });\r\n    return function(toggle, cursor) {\r\n        $cover.css(\"pointerEvents\", toggle ? \"all\" : \"none\");\r\n        toggle && $cover.css(\"cursor\", cursor)\r\n    }\r\n});\r\nvar gestureCover = function(toggle, cursor) {\r\n    var gestureCoverStrategy = setGestureCover();\r\n    gestureCoverStrategy(toggle, cursor)\r\n};\r\nvar GestureEmitter = _emitter.default.inherit({\r\n    gesture: true,\r\n    configure: function(data) {\r\n        this.getElement().css(\"msTouchAction\", data.immediate ? \"pinch-zoom\" : \"\");\r\n        this.callBase(data)\r\n    },\r\n    allowInterruptionByMouseWheel: function() {\r\n        return this._stage !== STARTED\r\n    },\r\n    getDirection: function() {\r\n        return this.direction\r\n    },\r\n    _cancel: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._toggleGestureCover(false);\r\n        this._stage = SLEEP\r\n    },\r\n    start: function(e) {\r\n        if (e._needSkipEvent || (0, _index.needSkipEvent)(e)) {\r\n            this._cancel(e);\r\n            return\r\n        }\r\n        this._startEvent = (0, _index.createEvent)(e);\r\n        this._startEventData = (0, _index.eventData)(e);\r\n        this._stage = INITED;\r\n        this._init(e);\r\n        this._setupImmediateTimer()\r\n    },\r\n    _setupImmediateTimer: function() {\r\n        clearTimeout(this._immediateTimer);\r\n        this._immediateAccepted = false;\r\n        if (!this.immediate) {\r\n            return\r\n        }\r\n        this._immediateTimer = setTimeout(function() {\r\n            this._immediateAccepted = true\r\n        }.bind(this), IMMEDIATE_TIMEOUT)\r\n    },\r\n    move: function(e) {\r\n        if (this._stage === INITED && this._directionConfirmed(e)) {\r\n            this._stage = STARTED;\r\n            this._resetActiveElement();\r\n            this._toggleGestureCover(true);\r\n            this._clearSelection(e);\r\n            this._adjustStartEvent(e);\r\n            this._start(this._startEvent);\r\n            if (this._stage === SLEEP) {\r\n                return\r\n            }\r\n            this._requestAccept(e);\r\n            this._move(e);\r\n            this._forgetAccept()\r\n        } else {\r\n            if (this._stage === STARTED) {\r\n                this._clearSelection(e);\r\n                this._move(e)\r\n            }\r\n        }\r\n    },\r\n    _directionConfirmed: function(e) {\r\n        var touchBoundary = this._getTouchBoundary(e);\r\n        var delta = (0, _index.eventDelta)(this._startEventData, (0, _index.eventData)(e));\r\n        var deltaX = abs(delta.x);\r\n        var deltaY = abs(delta.y);\r\n        var horizontalMove = this._validateMove(touchBoundary, deltaX, deltaY);\r\n        var verticalMove = this._validateMove(touchBoundary, deltaY, deltaX);\r\n        var direction = this.getDirection(e);\r\n        var bothAccepted = \"both\" === direction && (horizontalMove || verticalMove);\r\n        var horizontalAccepted = \"horizontal\" === direction && horizontalMove;\r\n        var verticalAccepted = \"vertical\" === direction && verticalMove;\r\n        return bothAccepted || horizontalAccepted || verticalAccepted || this._immediateAccepted\r\n    },\r\n    _validateMove: function(touchBoundary, mainAxis, crossAxis) {\r\n        return mainAxis && mainAxis >= touchBoundary && (this.immediate ? mainAxis >= crossAxis : true)\r\n    },\r\n    _getTouchBoundary: function(e) {\r\n        return this.immediate || (0, _index.isDxMouseWheelEvent)(e) ? IMMEDIATE_TOUCH_BOUNDARY : TOUCH_BOUNDARY\r\n    },\r\n    _adjustStartEvent: function(e) {\r\n        var touchBoundary = this._getTouchBoundary(e);\r\n        var delta = (0, _index.eventDelta)(this._startEventData, (0, _index.eventData)(e));\r\n        this._startEvent.pageX += (0, _math.sign)(delta.x) * touchBoundary;\r\n        this._startEvent.pageY += (0, _math.sign)(delta.y) * touchBoundary\r\n    },\r\n    _resetActiveElement: function() {\r\n        if (\"ios\" === _devices.default.real().platform && this.getElement().find(\":focus\").length) {\r\n            (0, _dom.resetActiveElement)()\r\n        }\r\n    },\r\n    _toggleGestureCover: function(toggle) {\r\n        this._toggleGestureCoverImpl(toggle)\r\n    },\r\n    _toggleGestureCoverImpl: function(toggle) {\r\n        var isStarted = this._stage === STARTED;\r\n        if (isStarted) {\r\n            gestureCover(toggle, this.getElement().css(\"cursor\"))\r\n        }\r\n    },\r\n    _clearSelection: function(e) {\r\n        if ((0, _index.isDxMouseWheelEvent)(e) || (0, _index.isTouchEvent)(e)) {\r\n            return\r\n        }(0, _dom.clearSelection)()\r\n    },\r\n    end: function(e) {\r\n        this._toggleGestureCover(false);\r\n        if (this._stage === STARTED) {\r\n            this._end(e)\r\n        } else {\r\n            if (this._stage === INITED) {\r\n                this._stop(e)\r\n            }\r\n        }\r\n        this._stage = SLEEP\r\n    },\r\n    dispose: function() {\r\n        clearTimeout(this._immediateTimer);\r\n        this.callBase.apply(this, arguments);\r\n        this._toggleGestureCover(false)\r\n    },\r\n    _init: _common.noop,\r\n    _start: _common.noop,\r\n    _move: _common.noop,\r\n    _stop: _common.noop,\r\n    _end: _common.noop\r\n});\r\nGestureEmitter.initialTouchBoundary = TOUCH_BOUNDARY;\r\nGestureEmitter.touchBoundary = function(newBoundary) {\r\n    if ((0, _type.isDefined)(newBoundary)) {\r\n        TOUCH_BOUNDARY = newBoundary;\r\n        return\r\n    }\r\n    return TOUCH_BOUNDARY\r\n};\r\nvar _default = GestureEmitter;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n"]},"metadata":{},"sourceType":"script"}