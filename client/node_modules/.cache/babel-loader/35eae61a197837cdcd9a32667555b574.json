{"ast":null,"code":"/**\r\n * DevExtreme (ui/list/ui.list.base.js)\r\n * Version: 20.2.6\r\n * Build date: Tue Mar 16 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.setScrollView = setScrollView;\nexports.ListBase = void 0;\n\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\n\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\n\nvar _common = require(\"../../core/utils/common\");\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _icon = require(\"../../core/utils/icon\");\n\nvar _element = require(\"../../core/element\");\n\nvar _iterator = require(\"../../core/utils/iterator\");\n\nvar _data = require(\"../../core/utils/data\");\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _fx = _interopRequireDefault(require(\"../../animation/fx\"));\n\nvar _click = require(\"../../events/click\");\n\nvar _swipe = require(\"../../events/swipe\");\n\nvar _support = require(\"../../core/utils/support\");\n\nvar _message = _interopRequireDefault(require(\"../../localization/message\"));\n\nvar _utils = require(\"../widget/utils.ink_ripple\");\n\nvar _devices = _interopRequireDefault(require(\"../../core/devices\"));\n\nvar _item = _interopRequireDefault(require(\"./item\"));\n\nvar _button = _interopRequireDefault(require(\"../button\"));\n\nvar _index = require(\"../../events/utils/index\");\n\nvar _themes = require(\"../themes\");\n\nvar _window = require(\"../../core/utils/window\");\n\nvar _scroll_view = _interopRequireDefault(require(\"../scroll_view\"));\n\nvar _uiScrollable = require(\"../scroll_view/ui.scrollable.device\");\n\nvar _uiCollection_widget = _interopRequireDefault(require(\"../collection/ui.collection_widget.live_update\"));\n\nvar _bindable_template = require(\"../../core/templates/bindable_template\");\n\nvar _deferred = require(\"../../core/utils/deferred\");\n\nvar _grouped_data_converter_mixin = _interopRequireDefault(require(\"../shared/grouped_data_converter_mixin\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar LIST_CLASS = \"dx-list\";\nvar LIST_ITEM_CLASS = \"dx-list-item\";\nvar LIST_ITEM_SELECTOR = \".\" + LIST_ITEM_CLASS;\nvar LIST_ITEM_ICON_CONTAINER_CLASS = \"dx-list-item-icon-container\";\nvar LIST_ITEM_ICON_CLASS = \"dx-list-item-icon\";\nvar LIST_GROUP_CLASS = \"dx-list-group\";\nvar LIST_GROUP_HEADER_CLASS = \"dx-list-group-header\";\nvar LIST_GROUP_BODY_CLASS = \"dx-list-group-body\";\nvar LIST_COLLAPSIBLE_GROUPS_CLASS = \"dx-list-collapsible-groups\";\nvar LIST_GROUP_COLLAPSED_CLASS = \"dx-list-group-collapsed\";\nvar LIST_GROUP_HEADER_INDICATOR_CLASS = \"dx-list-group-header-indicator\";\nvar LIST_HAS_NEXT_CLASS = \"dx-has-next\";\nvar LIST_NEXT_BUTTON_CLASS = \"dx-list-next-button\";\nvar WRAP_ITEM_TEXT_CLASS = \"dx-wrap-item-text\";\nvar SELECT_ALL_ITEM_SELECTOR = \".dx-list-select-all\";\nvar LIST_ITEM_DATA_KEY = \"dxListItemData\";\nvar LIST_FEEDBACK_SHOW_TIMEOUT = 70;\nvar groupItemsGetter = (0, _data.compileGetter)(\"items\");\n\nvar _scrollView;\n\nvar ListBase = _uiCollection_widget.default.inherit({\n  _activeStateUnit: [LIST_ITEM_SELECTOR, SELECT_ALL_ITEM_SELECTOR].join(\",\"),\n  _supportedKeys: function () {\n    var that = this;\n\n    var moveFocusPerPage = function (direction) {\n      var $item = getEdgeVisibleItem(direction);\n      var isFocusedItem = $item.is(that.option(\"focusedElement\"));\n\n      if (isFocusedItem) {\n        scrollListTo($item, direction);\n        $item = getEdgeVisibleItem(direction);\n      }\n\n      that.option(\"focusedElement\", (0, _element.getPublicElement)($item));\n      that.scrollToItem($item);\n    };\n\n    function getEdgeVisibleItem(direction) {\n      var scrollTop = that.scrollTop();\n      var containerHeight = that.$element().height();\n      var $item = (0, _renderer.default)(that.option(\"focusedElement\"));\n      var isItemVisible = true;\n\n      if (!$item.length) {\n        return (0, _renderer.default)();\n      }\n\n      while (isItemVisible) {\n        var $nextItem = $item[direction]();\n\n        if (!$nextItem.length) {\n          break;\n        }\n\n        var nextItemLocation = $nextItem.position().top + $nextItem.outerHeight() / 2;\n        isItemVisible = nextItemLocation < containerHeight + scrollTop && nextItemLocation > scrollTop;\n\n        if (isItemVisible) {\n          $item = $nextItem;\n        }\n      }\n\n      return $item;\n    }\n\n    function scrollListTo($item, direction) {\n      var resultPosition = $item.position().top;\n\n      if (\"prev\" === direction) {\n        resultPosition = $item.position().top - that.$element().height() + $item.outerHeight();\n      }\n\n      that.scrollTo(resultPosition);\n    }\n\n    return (0, _extend.extend)(this.callBase(), {\n      leftArrow: _common.noop,\n      rightArrow: _common.noop,\n      pageUp: function () {\n        moveFocusPerPage(\"prev\");\n        return false;\n      },\n      pageDown: function () {\n        moveFocusPerPage(\"next\");\n        return false;\n      }\n    });\n  },\n  _getDefaultOptions: function () {\n    return (0, _extend.extend)(this.callBase(), {\n      hoverStateEnabled: true,\n      pullRefreshEnabled: false,\n      scrollingEnabled: true,\n      showScrollbar: \"onScroll\",\n      useNativeScrolling: true,\n      bounceEnabled: true,\n      scrollByContent: true,\n      scrollByThumb: false,\n      pullingDownText: _message.default.format(\"dxList-pullingDownText\"),\n      pulledDownText: _message.default.format(\"dxList-pulledDownText\"),\n      refreshingText: _message.default.format(\"dxList-refreshingText\"),\n      pageLoadingText: _message.default.format(\"dxList-pageLoadingText\"),\n      onScroll: null,\n      onPullRefresh: null,\n      onPageLoading: null,\n      pageLoadMode: \"scrollBottom\",\n      nextButtonText: _message.default.format(\"dxList-nextButtonText\"),\n      onItemSwipe: null,\n      grouped: false,\n      onGroupRendered: null,\n      collapsibleGroups: false,\n      groupTemplate: \"group\",\n      indicateLoading: true,\n      activeStateEnabled: true,\n      _itemAttributes: {\n        role: \"option\"\n      },\n      _listAttributes: {\n        role: \"listbox\"\n      },\n      useInkRipple: false,\n      wrapItemText: false,\n      _swipeEnabled: true,\n      _revertPageOnEmptyLoad: false,\n      showChevronExpr: function (data) {\n        return data ? data.showChevron : void 0;\n      },\n      badgeExpr: function (data) {\n        return data ? data.badge : void 0;\n      }\n    });\n  },\n  _defaultOptionsRules: function () {\n    var themeName = (0, _themes.current)();\n    return this.callBase().concat((0, _uiScrollable.deviceDependentOptions)(), [{\n      device: function () {\n        return !_support.nativeScrolling;\n      },\n      options: {\n        useNativeScrolling: false\n      }\n    }, {\n      device: function (_device) {\n        return !_support.nativeScrolling && !_devices.default.isSimulator() && \"desktop\" === _devices.default.real().deviceType && \"generic\" === _device.platform;\n      },\n      options: {\n        showScrollbar: \"onHover\",\n        pageLoadMode: \"nextButton\"\n      }\n    }, {\n      device: function () {\n        return \"desktop\" === _devices.default.real().deviceType && !_devices.default.isSimulator();\n      },\n      options: {\n        focusStateEnabled: true\n      }\n    }, {\n      device: function () {\n        return (0, _themes.isMaterial)(themeName);\n      },\n      options: {\n        pullingDownText: \"\",\n        pulledDownText: \"\",\n        refreshingText: \"\",\n        pageLoadingText: \"\",\n        useInkRipple: true\n      }\n    }]);\n  },\n  _visibilityChanged: function (visible) {\n    if (visible) {\n      this._updateLoadingState(true);\n    }\n  },\n  _itemClass: function () {\n    return LIST_ITEM_CLASS;\n  },\n  _itemDataKey: function () {\n    return LIST_ITEM_DATA_KEY;\n  },\n  _itemContainer: function () {\n    return this._$container;\n  },\n  _saveSelectionChangeEvent: function (e) {\n    this._selectionChangeEventInstance = e;\n  },\n  _getSelectionChangeEvent: function () {\n    return this._selectionChangeEventInstance;\n  },\n  _refreshItemElements: function () {\n    if (!this.option(\"grouped\")) {\n      this._itemElementsCache = this._itemContainer().children(this._itemSelector());\n    } else {\n      this._itemElementsCache = this._itemContainer().children(\".\" + LIST_GROUP_CLASS).children(\".\" + LIST_GROUP_BODY_CLASS).children(this._itemSelector());\n    }\n  },\n  _modifyByChanges: function () {\n    this.callBase.apply(this, arguments);\n\n    this._refreshItemElements();\n\n    this._updateLoadingState(true);\n  },\n  reorderItem: function (itemElement, toItemElement) {\n    var promise = this.callBase(itemElement, toItemElement);\n    return promise.done(function () {\n      this._refreshItemElements();\n    });\n  },\n  deleteItem: function (itemElement) {\n    var promise = this.callBase(itemElement);\n    return promise.done(function () {\n      this._refreshItemElements();\n    });\n  },\n  _itemElements: function () {\n    return this._itemElementsCache;\n  },\n  _itemSelectHandler: function (e) {\n    if (\"single\" === this.option(\"selectionMode\") && this.isItemSelected(e.currentTarget)) {\n      return;\n    }\n\n    this.callBase(e);\n  },\n  _allowDynamicItemsAppend: function () {\n    return true;\n  },\n  _resetDataSourcePageIndex: function () {\n    var currentDataSource = this.getDataSource();\n\n    if (currentDataSource && 0 !== currentDataSource.pageIndex()) {\n      currentDataSource.pageIndex(0);\n      currentDataSource.load();\n    }\n  },\n  _init: function () {\n    this.callBase();\n\n    this._resetDataSourcePageIndex();\n\n    this._$container = this.$element();\n\n    this._initScrollView();\n\n    this._feedbackShowTimeout = LIST_FEEDBACK_SHOW_TIMEOUT;\n\n    this._createGroupRenderAction();\n  },\n  _scrollBottomMode: function () {\n    return \"scrollBottom\" === this.option(\"pageLoadMode\");\n  },\n  _nextButtonMode: function () {\n    return \"nextButton\" === this.option(\"pageLoadMode\");\n  },\n  _dataSourceOptions: function () {\n    var scrollBottom = this._scrollBottomMode();\n\n    var nextButton = this._nextButtonMode();\n\n    return (0, _extend.extend)(this.callBase(), {\n      paginate: (0, _common.ensureDefined)(scrollBottom || nextButton, true)\n    });\n  },\n  _getGroupedOption: function () {\n    return this.option(\"grouped\");\n  },\n  _dataSourceFromUrlLoadMode: function () {\n    return \"raw\";\n  },\n  _initScrollView: function () {\n    var scrollingEnabled = this.option(\"scrollingEnabled\");\n    var pullRefreshEnabled = scrollingEnabled && this.option(\"pullRefreshEnabled\");\n    var autoPagingEnabled = scrollingEnabled && this._scrollBottomMode() && !!this._dataSource;\n    this._scrollView = this._createComponent(this.$element(), getScrollView(), {\n      disabled: this.option(\"disabled\") || !scrollingEnabled,\n      onScroll: this._scrollHandler.bind(this),\n      onPullDown: pullRefreshEnabled ? this._pullDownHandler.bind(this) : null,\n      onReachBottom: autoPagingEnabled ? this._scrollBottomHandler.bind(this) : null,\n      showScrollbar: this.option(\"showScrollbar\"),\n      useNative: this.option(\"useNativeScrolling\"),\n      bounceEnabled: this.option(\"bounceEnabled\"),\n      scrollByContent: this.option(\"scrollByContent\"),\n      scrollByThumb: this.option(\"scrollByThumb\"),\n      pullingDownText: this.option(\"pullingDownText\"),\n      pulledDownText: this.option(\"pulledDownText\"),\n      refreshingText: this.option(\"refreshingText\"),\n      reachBottomText: this.option(\"pageLoadingText\"),\n      useKeyboard: false\n    });\n    this._$container = (0, _renderer.default)(this._scrollView.content());\n\n    if (this.option(\"wrapItemText\")) {\n      this._$container.addClass(WRAP_ITEM_TEXT_CLASS);\n    }\n\n    this._createScrollViewActions();\n  },\n  _createScrollViewActions: function () {\n    this._scrollAction = this._createActionByOption(\"onScroll\");\n    this._pullRefreshAction = this._createActionByOption(\"onPullRefresh\");\n    this._pageLoadingAction = this._createActionByOption(\"onPageLoading\");\n  },\n  _scrollHandler: function (e) {\n    this._scrollAction && this._scrollAction(e);\n  },\n  _initTemplates: function () {\n    this._templateManager.addDefaultTemplates({\n      group: new _bindable_template.BindableTemplate(function ($container, data) {\n        if ((0, _type.isPlainObject)(data)) {\n          if (data.key) {\n            $container.text(data.key);\n          }\n        } else {\n          $container.text(String(data));\n        }\n      }, [\"key\"], this.option(\"integrationOptions.watchMethod\"))\n    });\n\n    this.callBase();\n  },\n  _prepareDefaultItemTemplate: function (data, $container) {\n    this.callBase(data, $container);\n\n    if (data.icon) {\n      var $icon = (0, _icon.getImageContainer)(data.icon).addClass(LIST_ITEM_ICON_CLASS);\n      var $iconContainer = (0, _renderer.default)(\"<div>\").addClass(LIST_ITEM_ICON_CONTAINER_CLASS);\n      $iconContainer.append($icon);\n      $container.prepend($iconContainer);\n    }\n  },\n  _getBindableFields: function () {\n    return [\"text\", \"html\", \"icon\"];\n  },\n  _updateLoadingState: function (tryLoadMore) {\n    var isDataLoaded = !tryLoadMore || this._isLastPage();\n\n    var scrollBottomMode = this._scrollBottomMode();\n\n    var stopLoading = isDataLoaded || !scrollBottomMode;\n    var hideLoadIndicator = stopLoading && !this._isDataSourceLoading();\n\n    if (stopLoading || this._scrollViewIsFull()) {\n      this._scrollView.release(hideLoadIndicator);\n\n      this._toggleNextButton(this._shouldRenderNextButton() && !this._isLastPage());\n\n      this._loadIndicationSuppressed(false);\n    } else {\n      this._infiniteDataLoading();\n    }\n  },\n  _shouldRenderNextButton: function () {\n    return this._nextButtonMode() && this._dataSource && this._dataSource.isLoaded();\n  },\n  _dataSourceLoadingChangedHandler: function (isLoading) {\n    if (this._loadIndicationSuppressed()) {\n      return;\n    }\n\n    if (isLoading && this.option(\"indicateLoading\")) {\n      this._showLoadingIndicatorTimer = setTimeout(function () {\n        var isEmpty = !this._itemElements().length;\n\n        if (this._scrollView && !isEmpty) {\n          this._scrollView.startLoading();\n        }\n      }.bind(this));\n    } else {\n      clearTimeout(this._showLoadingIndicatorTimer);\n      this._scrollView && this._scrollView.finishLoading();\n    }\n  },\n  _dataSourceChangedHandler: function (newItems) {\n    if (!this._shouldAppendItems() && (0, _window.hasWindow)()) {\n      this._scrollView && this._scrollView.scrollTo(0);\n    }\n\n    this.callBase.apply(this, arguments);\n  },\n  _refreshContent: function () {\n    this._prepareContent();\n\n    this._fireContentReadyAction();\n  },\n  _hideLoadingIfLoadIndicationOff: function () {\n    if (!this.option(\"indicateLoading\")) {\n      this._dataSourceLoadingChangedHandler(false);\n    }\n  },\n  _loadIndicationSuppressed: function (value) {\n    if (!arguments.length) {\n      return this._isLoadIndicationSuppressed;\n    }\n\n    this._isLoadIndicationSuppressed = value;\n  },\n  _scrollViewIsFull: function () {\n    return !this._scrollView || this._scrollView.isFull();\n  },\n  _pullDownHandler: function (e) {\n    this._pullRefreshAction(e);\n\n    if (this._dataSource && !this._isDataSourceLoading()) {\n      this._clearSelectedItems();\n\n      this._dataSource.pageIndex(0);\n\n      this._dataSource.reload();\n    } else {\n      this._updateLoadingState();\n    }\n  },\n  _infiniteDataLoading: function () {\n    var _this = this;\n\n    var isElementVisible = this.$element().is(\":visible\");\n\n    if (isElementVisible && !this._scrollViewIsFull() && !this._isDataSourceLoading() && !this._isLastPage()) {\n      clearTimeout(this._loadNextPageTimer);\n      this._loadNextPageTimer = setTimeout(function () {\n        _this._loadNextPage().done(_this._setPreviousPageIfNewIsEmpty.bind(_this));\n      });\n    }\n  },\n  _setPreviousPageIfNewIsEmpty: function (result) {\n    if (this.option(\"_revertPageOnEmptyLoad\")) {\n      var dataSource = this.getDataSource();\n      var pageIndex = null === dataSource || void 0 === dataSource ? void 0 : dataSource.pageIndex();\n\n      if (0 === (null === result || void 0 === result ? void 0 : result.length) && pageIndex > 0) {\n        this._fireContentReadyAction();\n\n        dataSource.pageIndex(pageIndex - 1);\n      }\n    }\n  },\n  _scrollBottomHandler: function (e) {\n    this._pageLoadingAction(e);\n\n    if (!this._isDataSourceLoading() && !this._isLastPage()) {\n      this._loadNextPage();\n    } else {\n      this._updateLoadingState();\n    }\n  },\n  _renderItems: function (items) {\n    if (this.option(\"grouped\")) {\n      (0, _iterator.each)(items, this._renderGroup.bind(this));\n\n      this._attachGroupCollapseEvent();\n\n      this._renderEmptyMessage();\n\n      if ((0, _themes.isMaterial)()) {\n        this.attachGroupHeaderInkRippleEvents();\n      }\n    } else {\n      this.callBase.apply(this, arguments);\n    }\n\n    this._refreshItemElements();\n\n    this._updateLoadingState(true);\n  },\n  _attachGroupCollapseEvent: function () {\n    var eventName = (0, _index.addNamespace)(_click.name, this.NAME);\n    var selector = \".\" + LIST_GROUP_HEADER_CLASS;\n    var $element = this.$element();\n    var collapsibleGroups = this.option(\"collapsibleGroups\");\n    $element.toggleClass(LIST_COLLAPSIBLE_GROUPS_CLASS, collapsibleGroups);\n\n    _events_engine.default.off($element, eventName, selector);\n\n    if (collapsibleGroups) {\n      _events_engine.default.on($element, eventName, selector, function (e) {\n        this._createAction(function (e) {\n          var $group = (0, _renderer.default)(e.event.currentTarget).parent();\n\n          this._collapseGroupHandler($group);\n\n          if (this.option(\"focusStateEnabled\")) {\n            this.option(\"focusedElement\", (0, _element.getPublicElement)($group.find(\".\" + LIST_ITEM_CLASS).eq(0)));\n          }\n        }.bind(this), {\n          validatingTargetName: \"element\"\n        })({\n          event: e\n        });\n      }.bind(this));\n    }\n  },\n  _collapseGroupHandler: function ($group, toggle) {\n    var deferred = new _deferred.Deferred();\n\n    if ($group.hasClass(LIST_GROUP_COLLAPSED_CLASS) === toggle) {\n      return deferred.resolve();\n    }\n\n    var $groupBody = $group.children(\".\" + LIST_GROUP_BODY_CLASS);\n    var startHeight = $groupBody.outerHeight();\n    var endHeight = 0 === startHeight ? $groupBody.height(\"auto\").outerHeight() : 0;\n    $group.toggleClass(LIST_GROUP_COLLAPSED_CLASS, toggle);\n\n    _fx.default.animate($groupBody, {\n      type: \"custom\",\n      from: {\n        height: startHeight\n      },\n      to: {\n        height: endHeight\n      },\n      duration: 200,\n      complete: function () {\n        this.updateDimensions();\n\n        this._updateLoadingState();\n\n        deferred.resolve();\n      }.bind(this)\n    });\n\n    return deferred.promise();\n  },\n  _dataSourceLoadErrorHandler: function () {\n    this._forgetNextPageLoading();\n\n    if (this._initialized) {\n      this._renderEmptyMessage();\n\n      this._updateLoadingState();\n    }\n  },\n  _initMarkup: function () {\n    this._itemElementsCache = (0, _renderer.default)();\n    this.$element().addClass(LIST_CLASS);\n    this.callBase();\n    this.option(\"useInkRipple\") && this._renderInkRipple();\n    this.setAria(\"role\", this.option(\"_listAttributes\").role);\n  },\n  _renderInkRipple: function () {\n    this._inkRipple = (0, _utils.render)();\n  },\n  _toggleActiveState: function ($element, value, e) {\n    this.callBase.apply(this, arguments);\n    var that = this;\n\n    if (!this._inkRipple) {\n      return;\n    }\n\n    var config = {\n      element: $element,\n      event: e\n    };\n\n    if (value) {\n      if ((0, _themes.isMaterial)()) {\n        this._inkRippleTimer = setTimeout(function () {\n          that._inkRipple.showWave(config);\n        }, LIST_FEEDBACK_SHOW_TIMEOUT / 2);\n      } else {\n        that._inkRipple.showWave(config);\n      }\n    } else {\n      clearTimeout(this._inkRippleTimer);\n\n      this._inkRipple.hideWave(config);\n    }\n  },\n  _postprocessRenderItem: function (args) {\n    this._refreshItemElements();\n\n    this.callBase.apply(this, arguments);\n\n    if (this.option(\"_swipeEnabled\")) {\n      this._attachSwipeEvent((0, _renderer.default)(args.itemElement));\n    }\n  },\n  _attachSwipeEvent: function ($itemElement) {\n    var endEventName = (0, _index.addNamespace)(_swipe.end, this.NAME);\n\n    _events_engine.default.on($itemElement, endEventName, this._itemSwipeEndHandler.bind(this));\n  },\n  _itemSwipeEndHandler: function (e) {\n    this._itemDXEventHandler(e, \"onItemSwipe\", {\n      direction: e.offset < 0 ? \"left\" : \"right\"\n    });\n  },\n  _nextButtonHandler: function (e) {\n    this._pageLoadingAction(e);\n\n    var source = this._dataSource;\n\n    if (source && !source.isLoading()) {\n      this._scrollView.toggleLoading(true);\n\n      this._$nextButton.detach();\n\n      this._loadIndicationSuppressed(true);\n\n      this._loadNextPage();\n    }\n  },\n  _renderGroup: function (index, group) {\n    var $groupElement = (0, _renderer.default)(\"<div>\").addClass(LIST_GROUP_CLASS).appendTo(this._itemContainer());\n    var $groupHeaderElement = (0, _renderer.default)(\"<div>\").addClass(LIST_GROUP_HEADER_CLASS).appendTo($groupElement);\n    var groupTemplateName = this.option(\"groupTemplate\");\n\n    var groupTemplate = this._getTemplate(group.template || groupTemplateName, group, index, $groupHeaderElement);\n\n    var renderArgs = {\n      index: index,\n      itemData: group,\n      container: (0, _element.getPublicElement)($groupHeaderElement)\n    };\n\n    this._createItemByTemplate(groupTemplate, renderArgs);\n\n    if ((0, _themes.isMaterial)()) {\n      (0, _renderer.default)(\"<div>\").addClass(LIST_GROUP_HEADER_INDICATOR_CLASS).prependTo($groupHeaderElement);\n    }\n\n    this._renderingGroupIndex = index;\n    var $groupBody = (0, _renderer.default)(\"<div>\").addClass(LIST_GROUP_BODY_CLASS).appendTo($groupElement);\n    (0, _iterator.each)(groupItemsGetter(group) || [], function (index, item) {\n      this._renderItem(index, item, $groupBody);\n    }.bind(this));\n\n    this._groupRenderAction({\n      groupElement: (0, _element.getPublicElement)($groupElement),\n      groupIndex: index,\n      groupData: group\n    });\n  },\n  downInkRippleHandler: function (e) {\n    this._toggleActiveState((0, _renderer.default)(e.currentTarget), true, e);\n  },\n  upInkRippleHandler: function (e) {\n    this._toggleActiveState((0, _renderer.default)(e.currentTarget), false);\n  },\n  attachGroupHeaderInkRippleEvents: function () {\n    var selector = \".\" + LIST_GROUP_HEADER_CLASS;\n    var $element = this.$element();\n    this._downInkRippleHandler = this._downInkRippleHandler || this.downInkRippleHandler.bind(this);\n    this._upInkRippleHandler = this._upInkRippleHandler || this.upInkRippleHandler.bind(this);\n    var downArguments = [$element, \"dxpointerdown\", selector, this._downInkRippleHandler];\n    var upArguments = [$element, \"dxpointerup dxpointerout\", selector, this._upInkRippleHandler];\n\n    _events_engine.default.off.apply(_events_engine.default, downArguments);\n\n    _events_engine.default.on.apply(_events_engine.default, downArguments);\n\n    _events_engine.default.off.apply(_events_engine.default, upArguments);\n\n    _events_engine.default.on.apply(_events_engine.default, upArguments);\n  },\n  _createGroupRenderAction: function () {\n    this._groupRenderAction = this._createActionByOption(\"onGroupRendered\");\n  },\n  _clean: function () {\n    clearTimeout(this._inkRippleTimer);\n\n    if (this._$nextButton) {\n      this._$nextButton.remove();\n\n      this._$nextButton = null;\n    }\n\n    delete this._inkRipple;\n    this.callBase.apply(this, arguments);\n  },\n  _dispose: function () {\n    clearTimeout(this._holdTimer);\n    clearTimeout(this._loadNextPageTimer);\n    clearTimeout(this._showLoadingIndicatorTimer);\n    this.callBase();\n  },\n  _toggleDisabledState: function (value) {\n    this.callBase(value);\n\n    this._scrollView.option(\"disabled\", value || !this.option(\"scrollingEnabled\"));\n  },\n  _toggleNextButton: function (value) {\n    var dataSource = this._dataSource;\n\n    var $nextButton = this._getNextButton();\n\n    this.$element().toggleClass(LIST_HAS_NEXT_CLASS, value);\n\n    if (value && dataSource && dataSource.isLoaded()) {\n      $nextButton.appendTo(this._itemContainer());\n    }\n\n    if (!value) {\n      $nextButton.detach();\n    }\n  },\n  _getNextButton: function () {\n    if (!this._$nextButton) {\n      this._$nextButton = this._createNextButton();\n    }\n\n    return this._$nextButton;\n  },\n  _createNextButton: function () {\n    var $result = (0, _renderer.default)(\"<div>\").addClass(LIST_NEXT_BUTTON_CLASS);\n    var $button = (0, _renderer.default)(\"<div>\").appendTo($result);\n\n    this._createComponent($button, _button.default, {\n      text: this.option(\"nextButtonText\"),\n      onClick: this._nextButtonHandler.bind(this),\n      type: (0, _themes.isMaterial)() ? \"default\" : void 0,\n      integrationOptions: {}\n    });\n\n    return $result;\n  },\n  _moveFocus: function () {\n    this.callBase.apply(this, arguments);\n    this.scrollToItem(this.option(\"focusedElement\"));\n  },\n  _refresh: function () {\n    if (!(0, _window.hasWindow)()) {\n      this.callBase();\n    } else {\n      var scrollTop = this._scrollView.scrollTop();\n\n      this.callBase();\n      scrollTop && this._scrollView.scrollTo(scrollTop);\n    }\n  },\n  _optionChanged: function (args) {\n    switch (args.name) {\n      case \"pageLoadMode\":\n        this._toggleNextButton(args.value);\n\n        this._initScrollView();\n\n        break;\n\n      case \"dataSource\":\n        this.callBase(args);\n\n        this._initScrollView();\n\n        break;\n\n      case \"pullingDownText\":\n      case \"pulledDownText\":\n      case \"refreshingText\":\n      case \"pageLoadingText\":\n      case \"showScrollbar\":\n      case \"bounceEnabled\":\n      case \"scrollByContent\":\n      case \"scrollByThumb\":\n      case \"useNativeScrolling\":\n      case \"scrollingEnabled\":\n      case \"pullRefreshEnabled\":\n        this._initScrollView();\n\n        this._updateLoadingState();\n\n        break;\n\n      case \"nextButtonText\":\n      case \"onItemSwipe\":\n      case \"useInkRipple\":\n        this._invalidate();\n\n        break;\n\n      case \"onScroll\":\n      case \"onPullRefresh\":\n      case \"onPageLoading\":\n        this._createScrollViewActions();\n\n        break;\n\n      case \"grouped\":\n      case \"collapsibleGroups\":\n      case \"groupTemplate\":\n        this._invalidate();\n\n        break;\n\n      case \"wrapItemText\":\n        this._$container.toggleClass(WRAP_ITEM_TEXT_CLASS, args.value);\n\n        break;\n\n      case \"onGroupRendered\":\n        this._createGroupRenderAction();\n\n        break;\n\n      case \"width\":\n      case \"height\":\n        this.callBase(args);\n\n        this._scrollView.update();\n\n        break;\n\n      case \"indicateLoading\":\n        this._hideLoadingIfLoadIndicationOff();\n\n        break;\n\n      case \"visible\":\n        this.callBase(args);\n\n        this._scrollView.update();\n\n        break;\n\n      case \"rtlEnabled\":\n        this._initScrollView();\n\n        this.callBase(args);\n        break;\n\n      case \"showChevronExpr\":\n      case \"badgeExpr\":\n        this._invalidate();\n\n        break;\n\n      case \"_swipeEnabled\":\n      case \"_revertPageOnEmptyLoad\":\n        break;\n\n      case \"_listAttributes\":\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  },\n  _extendActionArgs: function ($itemElement) {\n    if (!this.option(\"grouped\")) {\n      return this.callBase($itemElement);\n    }\n\n    var $group = $itemElement.closest(\".\" + LIST_GROUP_CLASS);\n    var $item = $group.find(\".\" + LIST_ITEM_CLASS);\n    return (0, _extend.extend)(this.callBase($itemElement), {\n      itemIndex: {\n        group: $group.index(),\n        item: $item.index($itemElement)\n      }\n    });\n  },\n  expandGroup: function (groupIndex) {\n    var deferred = new _deferred.Deferred();\n\n    var $group = this._itemContainer().find(\".\" + LIST_GROUP_CLASS).eq(groupIndex);\n\n    this._collapseGroupHandler($group, false).done(function () {\n      deferred.resolveWith(this);\n    }.bind(this));\n\n    return deferred.promise();\n  },\n  collapseGroup: function (groupIndex) {\n    var deferred = new _deferred.Deferred();\n\n    var $group = this._itemContainer().find(\".\" + LIST_GROUP_CLASS).eq(groupIndex);\n\n    this._collapseGroupHandler($group, true).done(function () {\n      deferred.resolveWith(this);\n    }.bind(this));\n\n    return deferred;\n  },\n  updateDimensions: function () {\n    var that = this;\n    var deferred = new _deferred.Deferred();\n\n    if (that._scrollView) {\n      that._scrollView.update().done(function () {\n        !that._scrollViewIsFull() && that._updateLoadingState(true);\n        deferred.resolveWith(that);\n      });\n    } else {\n      deferred.resolveWith(that);\n    }\n\n    return deferred.promise();\n  },\n  reload: function () {\n    this.callBase();\n    this.scrollTo(0);\n\n    this._pullDownHandler();\n  },\n  repaint: function () {\n    this.scrollTo(0);\n    this.callBase();\n  },\n  scrollTop: function () {\n    return this._scrollView.scrollOffset().top;\n  },\n  clientHeight: function () {\n    return this._scrollView.clientHeight();\n  },\n  scrollHeight: function () {\n    return this._scrollView.scrollHeight();\n  },\n  scrollBy: function (distance) {\n    this._scrollView.scrollBy(distance);\n  },\n  scrollTo: function (location) {\n    this._scrollView.scrollTo(location);\n  },\n  scrollToItem: function (itemElement) {\n    var $item = this._editStrategy.getItemElement(itemElement);\n\n    this._scrollView.scrollToElement($item);\n  }\n}).include(_grouped_data_converter_mixin.default);\n\nexports.ListBase = ListBase;\nListBase.ItemClass = _item.default;\n\nfunction getScrollView() {\n  return _scrollView || _scroll_view.default;\n}\n\nfunction setScrollView(value) {\n  _scrollView = value;\n}","map":{"version":3,"sources":["C:/Smart-Virtual-Classroom/client/node_modules/devextreme/ui/list/ui.list.base.js"],"names":["exports","setScrollView","ListBase","_renderer","_interopRequireDefault","require","_events_engine","_common","_type","_icon","_element","_iterator","_data","_extend","_fx","_click","_swipe","_support","_message","_utils","_devices","_item","_button","_index","_themes","_window","_scroll_view","_uiScrollable","_uiCollection_widget","_bindable_template","_deferred","_grouped_data_converter_mixin","obj","__esModule","LIST_CLASS","LIST_ITEM_CLASS","LIST_ITEM_SELECTOR","LIST_ITEM_ICON_CONTAINER_CLASS","LIST_ITEM_ICON_CLASS","LIST_GROUP_CLASS","LIST_GROUP_HEADER_CLASS","LIST_GROUP_BODY_CLASS","LIST_COLLAPSIBLE_GROUPS_CLASS","LIST_GROUP_COLLAPSED_CLASS","LIST_GROUP_HEADER_INDICATOR_CLASS","LIST_HAS_NEXT_CLASS","LIST_NEXT_BUTTON_CLASS","WRAP_ITEM_TEXT_CLASS","SELECT_ALL_ITEM_SELECTOR","LIST_ITEM_DATA_KEY","LIST_FEEDBACK_SHOW_TIMEOUT","groupItemsGetter","compileGetter","_scrollView","default","inherit","_activeStateUnit","join","_supportedKeys","that","moveFocusPerPage","direction","$item","getEdgeVisibleItem","isFocusedItem","is","option","scrollListTo","getPublicElement","scrollToItem","scrollTop","containerHeight","$element","height","isItemVisible","length","$nextItem","nextItemLocation","position","top","outerHeight","resultPosition","scrollTo","extend","callBase","leftArrow","noop","rightArrow","pageUp","pageDown","_getDefaultOptions","hoverStateEnabled","pullRefreshEnabled","scrollingEnabled","showScrollbar","useNativeScrolling","bounceEnabled","scrollByContent","scrollByThumb","pullingDownText","format","pulledDownText","refreshingText","pageLoadingText","onScroll","onPullRefresh","onPageLoading","pageLoadMode","nextButtonText","onItemSwipe","grouped","onGroupRendered","collapsibleGroups","groupTemplate","indicateLoading","activeStateEnabled","_itemAttributes","role","_listAttributes","useInkRipple","wrapItemText","_swipeEnabled","_revertPageOnEmptyLoad","showChevronExpr","data","showChevron","badgeExpr","badge","_defaultOptionsRules","themeName","current","concat","deviceDependentOptions","device","nativeScrolling","options","_device","isSimulator","real","deviceType","platform","focusStateEnabled","isMaterial","_visibilityChanged","visible","_updateLoadingState","_itemClass","_itemDataKey","_itemContainer","_$container","_saveSelectionChangeEvent","e","_selectionChangeEventInstance","_getSelectionChangeEvent","_refreshItemElements","_itemElementsCache","children","_itemSelector","_modifyByChanges","apply","arguments","reorderItem","itemElement","toItemElement","promise","done","deleteItem","_itemElements","_itemSelectHandler","isItemSelected","currentTarget","_allowDynamicItemsAppend","_resetDataSourcePageIndex","currentDataSource","getDataSource","pageIndex","load","_init","_initScrollView","_feedbackShowTimeout","_createGroupRenderAction","_scrollBottomMode","_nextButtonMode","_dataSourceOptions","scrollBottom","nextButton","paginate","ensureDefined","_getGroupedOption","_dataSourceFromUrlLoadMode","autoPagingEnabled","_dataSource","_createComponent","getScrollView","disabled","_scrollHandler","bind","onPullDown","_pullDownHandler","onReachBottom","_scrollBottomHandler","useNative","reachBottomText","useKeyboard","content","addClass","_createScrollViewActions","_scrollAction","_createActionByOption","_pullRefreshAction","_pageLoadingAction","_initTemplates","_templateManager","addDefaultTemplates","group","BindableTemplate","$container","isPlainObject","key","text","String","_prepareDefaultItemTemplate","icon","$icon","getImageContainer","$iconContainer","append","prepend","_getBindableFields","tryLoadMore","isDataLoaded","_isLastPage","scrollBottomMode","stopLoading","hideLoadIndicator","_isDataSourceLoading","_scrollViewIsFull","release","_toggleNextButton","_shouldRenderNextButton","_loadIndicationSuppressed","_infiniteDataLoading","isLoaded","_dataSourceLoadingChangedHandler","isLoading","_showLoadingIndicatorTimer","setTimeout","isEmpty","startLoading","clearTimeout","finishLoading","_dataSourceChangedHandler","newItems","_shouldAppendItems","hasWindow","_refreshContent","_prepareContent","_fireContentReadyAction","_hideLoadingIfLoadIndicationOff","value","_isLoadIndicationSuppressed","isFull","_clearSelectedItems","reload","_this","isElementVisible","_loadNextPageTimer","_loadNextPage","_setPreviousPageIfNewIsEmpty","result","dataSource","_renderItems","items","each","_renderGroup","_attachGroupCollapseEvent","_renderEmptyMessage","attachGroupHeaderInkRippleEvents","eventName","addNamespace","name","NAME","selector","toggleClass","off","on","_createAction","$group","event","parent","_collapseGroupHandler","find","eq","validatingTargetName","toggle","deferred","Deferred","hasClass","resolve","$groupBody","startHeight","endHeight","animate","type","from","to","duration","complete","updateDimensions","_dataSourceLoadErrorHandler","_forgetNextPageLoading","_initialized","_initMarkup","_renderInkRipple","setAria","_inkRipple","render","_toggleActiveState","config","element","_inkRippleTimer","showWave","hideWave","_postprocessRenderItem","args","_attachSwipeEvent","$itemElement","endEventName","end","_itemSwipeEndHandler","_itemDXEventHandler","offset","_nextButtonHandler","source","toggleLoading","_$nextButton","detach","index","$groupElement","appendTo","$groupHeaderElement","groupTemplateName","_getTemplate","template","renderArgs","itemData","container","_createItemByTemplate","prependTo","_renderingGroupIndex","item","_renderItem","_groupRenderAction","groupElement","groupIndex","groupData","downInkRippleHandler","upInkRippleHandler","_downInkRippleHandler","_upInkRippleHandler","downArguments","upArguments","_clean","remove","_dispose","_holdTimer","_toggleDisabledState","$nextButton","_getNextButton","_createNextButton","$result","$button","onClick","integrationOptions","_moveFocus","_refresh","_optionChanged","_invalidate","update","_extendActionArgs","closest","itemIndex","expandGroup","resolveWith","collapseGroup","repaint","scrollOffset","clientHeight","scrollHeight","scrollBy","distance","location","_editStrategy","getItemElement","scrollToElement","include","ItemClass"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/list/ui.list.base.js)\r\n * Version: 20.2.6\r\n * Build date: Tue Mar 16 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.setScrollView = setScrollView;\r\nexports.ListBase = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _icon = require(\"../../core/utils/icon\");\r\nvar _element = require(\"../../core/element\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _data = require(\"../../core/utils/data\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _fx = _interopRequireDefault(require(\"../../animation/fx\"));\r\nvar _click = require(\"../../events/click\");\r\nvar _swipe = require(\"../../events/swipe\");\r\nvar _support = require(\"../../core/utils/support\");\r\nvar _message = _interopRequireDefault(require(\"../../localization/message\"));\r\nvar _utils = require(\"../widget/utils.ink_ripple\");\r\nvar _devices = _interopRequireDefault(require(\"../../core/devices\"));\r\nvar _item = _interopRequireDefault(require(\"./item\"));\r\nvar _button = _interopRequireDefault(require(\"../button\"));\r\nvar _index = require(\"../../events/utils/index\");\r\nvar _themes = require(\"../themes\");\r\nvar _window = require(\"../../core/utils/window\");\r\nvar _scroll_view = _interopRequireDefault(require(\"../scroll_view\"));\r\nvar _uiScrollable = require(\"../scroll_view/ui.scrollable.device\");\r\nvar _uiCollection_widget = _interopRequireDefault(require(\"../collection/ui.collection_widget.live_update\"));\r\nvar _bindable_template = require(\"../../core/templates/bindable_template\");\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\nvar _grouped_data_converter_mixin = _interopRequireDefault(require(\"../shared/grouped_data_converter_mixin\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar LIST_CLASS = \"dx-list\";\r\nvar LIST_ITEM_CLASS = \"dx-list-item\";\r\nvar LIST_ITEM_SELECTOR = \".\" + LIST_ITEM_CLASS;\r\nvar LIST_ITEM_ICON_CONTAINER_CLASS = \"dx-list-item-icon-container\";\r\nvar LIST_ITEM_ICON_CLASS = \"dx-list-item-icon\";\r\nvar LIST_GROUP_CLASS = \"dx-list-group\";\r\nvar LIST_GROUP_HEADER_CLASS = \"dx-list-group-header\";\r\nvar LIST_GROUP_BODY_CLASS = \"dx-list-group-body\";\r\nvar LIST_COLLAPSIBLE_GROUPS_CLASS = \"dx-list-collapsible-groups\";\r\nvar LIST_GROUP_COLLAPSED_CLASS = \"dx-list-group-collapsed\";\r\nvar LIST_GROUP_HEADER_INDICATOR_CLASS = \"dx-list-group-header-indicator\";\r\nvar LIST_HAS_NEXT_CLASS = \"dx-has-next\";\r\nvar LIST_NEXT_BUTTON_CLASS = \"dx-list-next-button\";\r\nvar WRAP_ITEM_TEXT_CLASS = \"dx-wrap-item-text\";\r\nvar SELECT_ALL_ITEM_SELECTOR = \".dx-list-select-all\";\r\nvar LIST_ITEM_DATA_KEY = \"dxListItemData\";\r\nvar LIST_FEEDBACK_SHOW_TIMEOUT = 70;\r\nvar groupItemsGetter = (0, _data.compileGetter)(\"items\");\r\nvar _scrollView;\r\nvar ListBase = _uiCollection_widget.default.inherit({\r\n    _activeStateUnit: [LIST_ITEM_SELECTOR, SELECT_ALL_ITEM_SELECTOR].join(\",\"),\r\n    _supportedKeys: function() {\r\n        var that = this;\r\n        var moveFocusPerPage = function(direction) {\r\n            var $item = getEdgeVisibleItem(direction);\r\n            var isFocusedItem = $item.is(that.option(\"focusedElement\"));\r\n            if (isFocusedItem) {\r\n                scrollListTo($item, direction);\r\n                $item = getEdgeVisibleItem(direction)\r\n            }\r\n            that.option(\"focusedElement\", (0, _element.getPublicElement)($item));\r\n            that.scrollToItem($item)\r\n        };\r\n\r\n        function getEdgeVisibleItem(direction) {\r\n            var scrollTop = that.scrollTop();\r\n            var containerHeight = that.$element().height();\r\n            var $item = (0, _renderer.default)(that.option(\"focusedElement\"));\r\n            var isItemVisible = true;\r\n            if (!$item.length) {\r\n                return (0, _renderer.default)()\r\n            }\r\n            while (isItemVisible) {\r\n                var $nextItem = $item[direction]();\r\n                if (!$nextItem.length) {\r\n                    break\r\n                }\r\n                var nextItemLocation = $nextItem.position().top + $nextItem.outerHeight() / 2;\r\n                isItemVisible = nextItemLocation < containerHeight + scrollTop && nextItemLocation > scrollTop;\r\n                if (isItemVisible) {\r\n                    $item = $nextItem\r\n                }\r\n            }\r\n            return $item\r\n        }\r\n\r\n        function scrollListTo($item, direction) {\r\n            var resultPosition = $item.position().top;\r\n            if (\"prev\" === direction) {\r\n                resultPosition = $item.position().top - that.$element().height() + $item.outerHeight()\r\n            }\r\n            that.scrollTo(resultPosition)\r\n        }\r\n        return (0, _extend.extend)(this.callBase(), {\r\n            leftArrow: _common.noop,\r\n            rightArrow: _common.noop,\r\n            pageUp: function() {\r\n                moveFocusPerPage(\"prev\");\r\n                return false\r\n            },\r\n            pageDown: function() {\r\n                moveFocusPerPage(\"next\");\r\n                return false\r\n            }\r\n        })\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return (0, _extend.extend)(this.callBase(), {\r\n            hoverStateEnabled: true,\r\n            pullRefreshEnabled: false,\r\n            scrollingEnabled: true,\r\n            showScrollbar: \"onScroll\",\r\n            useNativeScrolling: true,\r\n            bounceEnabled: true,\r\n            scrollByContent: true,\r\n            scrollByThumb: false,\r\n            pullingDownText: _message.default.format(\"dxList-pullingDownText\"),\r\n            pulledDownText: _message.default.format(\"dxList-pulledDownText\"),\r\n            refreshingText: _message.default.format(\"dxList-refreshingText\"),\r\n            pageLoadingText: _message.default.format(\"dxList-pageLoadingText\"),\r\n            onScroll: null,\r\n            onPullRefresh: null,\r\n            onPageLoading: null,\r\n            pageLoadMode: \"scrollBottom\",\r\n            nextButtonText: _message.default.format(\"dxList-nextButtonText\"),\r\n            onItemSwipe: null,\r\n            grouped: false,\r\n            onGroupRendered: null,\r\n            collapsibleGroups: false,\r\n            groupTemplate: \"group\",\r\n            indicateLoading: true,\r\n            activeStateEnabled: true,\r\n            _itemAttributes: {\r\n                role: \"option\"\r\n            },\r\n            _listAttributes: {\r\n                role: \"listbox\"\r\n            },\r\n            useInkRipple: false,\r\n            wrapItemText: false,\r\n            _swipeEnabled: true,\r\n            _revertPageOnEmptyLoad: false,\r\n            showChevronExpr: function(data) {\r\n                return data ? data.showChevron : void 0\r\n            },\r\n            badgeExpr: function(data) {\r\n                return data ? data.badge : void 0\r\n            }\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        var themeName = (0, _themes.current)();\r\n        return this.callBase().concat((0, _uiScrollable.deviceDependentOptions)(), [{\r\n            device: function() {\r\n                return !_support.nativeScrolling\r\n            },\r\n            options: {\r\n                useNativeScrolling: false\r\n            }\r\n        }, {\r\n            device: function(_device) {\r\n                return !_support.nativeScrolling && !_devices.default.isSimulator() && \"desktop\" === _devices.default.real().deviceType && \"generic\" === _device.platform\r\n            },\r\n            options: {\r\n                showScrollbar: \"onHover\",\r\n                pageLoadMode: \"nextButton\"\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return \"desktop\" === _devices.default.real().deviceType && !_devices.default.isSimulator()\r\n            },\r\n            options: {\r\n                focusStateEnabled: true\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return (0, _themes.isMaterial)(themeName)\r\n            },\r\n            options: {\r\n                pullingDownText: \"\",\r\n                pulledDownText: \"\",\r\n                refreshingText: \"\",\r\n                pageLoadingText: \"\",\r\n                useInkRipple: true\r\n            }\r\n        }])\r\n    },\r\n    _visibilityChanged: function(visible) {\r\n        if (visible) {\r\n            this._updateLoadingState(true)\r\n        }\r\n    },\r\n    _itemClass: function() {\r\n        return LIST_ITEM_CLASS\r\n    },\r\n    _itemDataKey: function() {\r\n        return LIST_ITEM_DATA_KEY\r\n    },\r\n    _itemContainer: function() {\r\n        return this._$container\r\n    },\r\n    _saveSelectionChangeEvent: function(e) {\r\n        this._selectionChangeEventInstance = e\r\n    },\r\n    _getSelectionChangeEvent: function() {\r\n        return this._selectionChangeEventInstance\r\n    },\r\n    _refreshItemElements: function() {\r\n        if (!this.option(\"grouped\")) {\r\n            this._itemElementsCache = this._itemContainer().children(this._itemSelector())\r\n        } else {\r\n            this._itemElementsCache = this._itemContainer().children(\".\" + LIST_GROUP_CLASS).children(\".\" + LIST_GROUP_BODY_CLASS).children(this._itemSelector())\r\n        }\r\n    },\r\n    _modifyByChanges: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._refreshItemElements();\r\n        this._updateLoadingState(true)\r\n    },\r\n    reorderItem: function(itemElement, toItemElement) {\r\n        var promise = this.callBase(itemElement, toItemElement);\r\n        return promise.done(function() {\r\n            this._refreshItemElements()\r\n        })\r\n    },\r\n    deleteItem: function(itemElement) {\r\n        var promise = this.callBase(itemElement);\r\n        return promise.done(function() {\r\n            this._refreshItemElements()\r\n        })\r\n    },\r\n    _itemElements: function() {\r\n        return this._itemElementsCache\r\n    },\r\n    _itemSelectHandler: function(e) {\r\n        if (\"single\" === this.option(\"selectionMode\") && this.isItemSelected(e.currentTarget)) {\r\n            return\r\n        }\r\n        this.callBase(e)\r\n    },\r\n    _allowDynamicItemsAppend: function() {\r\n        return true\r\n    },\r\n    _resetDataSourcePageIndex: function() {\r\n        var currentDataSource = this.getDataSource();\r\n        if (currentDataSource && 0 !== currentDataSource.pageIndex()) {\r\n            currentDataSource.pageIndex(0);\r\n            currentDataSource.load()\r\n        }\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this._resetDataSourcePageIndex();\r\n        this._$container = this.$element();\r\n        this._initScrollView();\r\n        this._feedbackShowTimeout = LIST_FEEDBACK_SHOW_TIMEOUT;\r\n        this._createGroupRenderAction()\r\n    },\r\n    _scrollBottomMode: function() {\r\n        return \"scrollBottom\" === this.option(\"pageLoadMode\")\r\n    },\r\n    _nextButtonMode: function() {\r\n        return \"nextButton\" === this.option(\"pageLoadMode\")\r\n    },\r\n    _dataSourceOptions: function() {\r\n        var scrollBottom = this._scrollBottomMode();\r\n        var nextButton = this._nextButtonMode();\r\n        return (0, _extend.extend)(this.callBase(), {\r\n            paginate: (0, _common.ensureDefined)(scrollBottom || nextButton, true)\r\n        })\r\n    },\r\n    _getGroupedOption: function() {\r\n        return this.option(\"grouped\")\r\n    },\r\n    _dataSourceFromUrlLoadMode: function() {\r\n        return \"raw\"\r\n    },\r\n    _initScrollView: function() {\r\n        var scrollingEnabled = this.option(\"scrollingEnabled\");\r\n        var pullRefreshEnabled = scrollingEnabled && this.option(\"pullRefreshEnabled\");\r\n        var autoPagingEnabled = scrollingEnabled && this._scrollBottomMode() && !!this._dataSource;\r\n        this._scrollView = this._createComponent(this.$element(), getScrollView(), {\r\n            disabled: this.option(\"disabled\") || !scrollingEnabled,\r\n            onScroll: this._scrollHandler.bind(this),\r\n            onPullDown: pullRefreshEnabled ? this._pullDownHandler.bind(this) : null,\r\n            onReachBottom: autoPagingEnabled ? this._scrollBottomHandler.bind(this) : null,\r\n            showScrollbar: this.option(\"showScrollbar\"),\r\n            useNative: this.option(\"useNativeScrolling\"),\r\n            bounceEnabled: this.option(\"bounceEnabled\"),\r\n            scrollByContent: this.option(\"scrollByContent\"),\r\n            scrollByThumb: this.option(\"scrollByThumb\"),\r\n            pullingDownText: this.option(\"pullingDownText\"),\r\n            pulledDownText: this.option(\"pulledDownText\"),\r\n            refreshingText: this.option(\"refreshingText\"),\r\n            reachBottomText: this.option(\"pageLoadingText\"),\r\n            useKeyboard: false\r\n        });\r\n        this._$container = (0, _renderer.default)(this._scrollView.content());\r\n        if (this.option(\"wrapItemText\")) {\r\n            this._$container.addClass(WRAP_ITEM_TEXT_CLASS)\r\n        }\r\n        this._createScrollViewActions()\r\n    },\r\n    _createScrollViewActions: function() {\r\n        this._scrollAction = this._createActionByOption(\"onScroll\");\r\n        this._pullRefreshAction = this._createActionByOption(\"onPullRefresh\");\r\n        this._pageLoadingAction = this._createActionByOption(\"onPageLoading\")\r\n    },\r\n    _scrollHandler: function(e) {\r\n        this._scrollAction && this._scrollAction(e)\r\n    },\r\n    _initTemplates: function() {\r\n        this._templateManager.addDefaultTemplates({\r\n            group: new _bindable_template.BindableTemplate(function($container, data) {\r\n                if ((0, _type.isPlainObject)(data)) {\r\n                    if (data.key) {\r\n                        $container.text(data.key)\r\n                    }\r\n                } else {\r\n                    $container.text(String(data))\r\n                }\r\n            }, [\"key\"], this.option(\"integrationOptions.watchMethod\"))\r\n        });\r\n        this.callBase()\r\n    },\r\n    _prepareDefaultItemTemplate: function(data, $container) {\r\n        this.callBase(data, $container);\r\n        if (data.icon) {\r\n            var $icon = (0, _icon.getImageContainer)(data.icon).addClass(LIST_ITEM_ICON_CLASS);\r\n            var $iconContainer = (0, _renderer.default)(\"<div>\").addClass(LIST_ITEM_ICON_CONTAINER_CLASS);\r\n            $iconContainer.append($icon);\r\n            $container.prepend($iconContainer)\r\n        }\r\n    },\r\n    _getBindableFields: function() {\r\n        return [\"text\", \"html\", \"icon\"]\r\n    },\r\n    _updateLoadingState: function(tryLoadMore) {\r\n        var isDataLoaded = !tryLoadMore || this._isLastPage();\r\n        var scrollBottomMode = this._scrollBottomMode();\r\n        var stopLoading = isDataLoaded || !scrollBottomMode;\r\n        var hideLoadIndicator = stopLoading && !this._isDataSourceLoading();\r\n        if (stopLoading || this._scrollViewIsFull()) {\r\n            this._scrollView.release(hideLoadIndicator);\r\n            this._toggleNextButton(this._shouldRenderNextButton() && !this._isLastPage());\r\n            this._loadIndicationSuppressed(false)\r\n        } else {\r\n            this._infiniteDataLoading()\r\n        }\r\n    },\r\n    _shouldRenderNextButton: function() {\r\n        return this._nextButtonMode() && this._dataSource && this._dataSource.isLoaded()\r\n    },\r\n    _dataSourceLoadingChangedHandler: function(isLoading) {\r\n        if (this._loadIndicationSuppressed()) {\r\n            return\r\n        }\r\n        if (isLoading && this.option(\"indicateLoading\")) {\r\n            this._showLoadingIndicatorTimer = setTimeout(function() {\r\n                var isEmpty = !this._itemElements().length;\r\n                if (this._scrollView && !isEmpty) {\r\n                    this._scrollView.startLoading()\r\n                }\r\n            }.bind(this))\r\n        } else {\r\n            clearTimeout(this._showLoadingIndicatorTimer);\r\n            this._scrollView && this._scrollView.finishLoading()\r\n        }\r\n    },\r\n    _dataSourceChangedHandler: function(newItems) {\r\n        if (!this._shouldAppendItems() && (0, _window.hasWindow)()) {\r\n            this._scrollView && this._scrollView.scrollTo(0)\r\n        }\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _refreshContent: function() {\r\n        this._prepareContent();\r\n        this._fireContentReadyAction()\r\n    },\r\n    _hideLoadingIfLoadIndicationOff: function() {\r\n        if (!this.option(\"indicateLoading\")) {\r\n            this._dataSourceLoadingChangedHandler(false)\r\n        }\r\n    },\r\n    _loadIndicationSuppressed: function(value) {\r\n        if (!arguments.length) {\r\n            return this._isLoadIndicationSuppressed\r\n        }\r\n        this._isLoadIndicationSuppressed = value\r\n    },\r\n    _scrollViewIsFull: function() {\r\n        return !this._scrollView || this._scrollView.isFull()\r\n    },\r\n    _pullDownHandler: function(e) {\r\n        this._pullRefreshAction(e);\r\n        if (this._dataSource && !this._isDataSourceLoading()) {\r\n            this._clearSelectedItems();\r\n            this._dataSource.pageIndex(0);\r\n            this._dataSource.reload()\r\n        } else {\r\n            this._updateLoadingState()\r\n        }\r\n    },\r\n    _infiniteDataLoading: function() {\r\n        var _this = this;\r\n        var isElementVisible = this.$element().is(\":visible\");\r\n        if (isElementVisible && !this._scrollViewIsFull() && !this._isDataSourceLoading() && !this._isLastPage()) {\r\n            clearTimeout(this._loadNextPageTimer);\r\n            this._loadNextPageTimer = setTimeout(function() {\r\n                _this._loadNextPage().done(_this._setPreviousPageIfNewIsEmpty.bind(_this))\r\n            })\r\n        }\r\n    },\r\n    _setPreviousPageIfNewIsEmpty: function(result) {\r\n        if (this.option(\"_revertPageOnEmptyLoad\")) {\r\n            var dataSource = this.getDataSource();\r\n            var pageIndex = null === dataSource || void 0 === dataSource ? void 0 : dataSource.pageIndex();\r\n            if (0 === (null === result || void 0 === result ? void 0 : result.length) && pageIndex > 0) {\r\n                this._fireContentReadyAction();\r\n                dataSource.pageIndex(pageIndex - 1)\r\n            }\r\n        }\r\n    },\r\n    _scrollBottomHandler: function(e) {\r\n        this._pageLoadingAction(e);\r\n        if (!this._isDataSourceLoading() && !this._isLastPage()) {\r\n            this._loadNextPage()\r\n        } else {\r\n            this._updateLoadingState()\r\n        }\r\n    },\r\n    _renderItems: function(items) {\r\n        if (this.option(\"grouped\")) {\r\n            (0, _iterator.each)(items, this._renderGroup.bind(this));\r\n            this._attachGroupCollapseEvent();\r\n            this._renderEmptyMessage();\r\n            if ((0, _themes.isMaterial)()) {\r\n                this.attachGroupHeaderInkRippleEvents()\r\n            }\r\n        } else {\r\n            this.callBase.apply(this, arguments)\r\n        }\r\n        this._refreshItemElements();\r\n        this._updateLoadingState(true)\r\n    },\r\n    _attachGroupCollapseEvent: function() {\r\n        var eventName = (0, _index.addNamespace)(_click.name, this.NAME);\r\n        var selector = \".\" + LIST_GROUP_HEADER_CLASS;\r\n        var $element = this.$element();\r\n        var collapsibleGroups = this.option(\"collapsibleGroups\");\r\n        $element.toggleClass(LIST_COLLAPSIBLE_GROUPS_CLASS, collapsibleGroups);\r\n        _events_engine.default.off($element, eventName, selector);\r\n        if (collapsibleGroups) {\r\n            _events_engine.default.on($element, eventName, selector, function(e) {\r\n                this._createAction(function(e) {\r\n                    var $group = (0, _renderer.default)(e.event.currentTarget).parent();\r\n                    this._collapseGroupHandler($group);\r\n                    if (this.option(\"focusStateEnabled\")) {\r\n                        this.option(\"focusedElement\", (0, _element.getPublicElement)($group.find(\".\" + LIST_ITEM_CLASS).eq(0)))\r\n                    }\r\n                }.bind(this), {\r\n                    validatingTargetName: \"element\"\r\n                })({\r\n                    event: e\r\n                })\r\n            }.bind(this))\r\n        }\r\n    },\r\n    _collapseGroupHandler: function($group, toggle) {\r\n        var deferred = new _deferred.Deferred;\r\n        if ($group.hasClass(LIST_GROUP_COLLAPSED_CLASS) === toggle) {\r\n            return deferred.resolve()\r\n        }\r\n        var $groupBody = $group.children(\".\" + LIST_GROUP_BODY_CLASS);\r\n        var startHeight = $groupBody.outerHeight();\r\n        var endHeight = 0 === startHeight ? $groupBody.height(\"auto\").outerHeight() : 0;\r\n        $group.toggleClass(LIST_GROUP_COLLAPSED_CLASS, toggle);\r\n        _fx.default.animate($groupBody, {\r\n            type: \"custom\",\r\n            from: {\r\n                height: startHeight\r\n            },\r\n            to: {\r\n                height: endHeight\r\n            },\r\n            duration: 200,\r\n            complete: function() {\r\n                this.updateDimensions();\r\n                this._updateLoadingState();\r\n                deferred.resolve()\r\n            }.bind(this)\r\n        });\r\n        return deferred.promise()\r\n    },\r\n    _dataSourceLoadErrorHandler: function() {\r\n        this._forgetNextPageLoading();\r\n        if (this._initialized) {\r\n            this._renderEmptyMessage();\r\n            this._updateLoadingState()\r\n        }\r\n    },\r\n    _initMarkup: function() {\r\n        this._itemElementsCache = (0, _renderer.default)();\r\n        this.$element().addClass(LIST_CLASS);\r\n        this.callBase();\r\n        this.option(\"useInkRipple\") && this._renderInkRipple();\r\n        this.setAria(\"role\", this.option(\"_listAttributes\").role)\r\n    },\r\n    _renderInkRipple: function() {\r\n        this._inkRipple = (0, _utils.render)()\r\n    },\r\n    _toggleActiveState: function($element, value, e) {\r\n        this.callBase.apply(this, arguments);\r\n        var that = this;\r\n        if (!this._inkRipple) {\r\n            return\r\n        }\r\n        var config = {\r\n            element: $element,\r\n            event: e\r\n        };\r\n        if (value) {\r\n            if ((0, _themes.isMaterial)()) {\r\n                this._inkRippleTimer = setTimeout(function() {\r\n                    that._inkRipple.showWave(config)\r\n                }, LIST_FEEDBACK_SHOW_TIMEOUT / 2)\r\n            } else {\r\n                that._inkRipple.showWave(config)\r\n            }\r\n        } else {\r\n            clearTimeout(this._inkRippleTimer);\r\n            this._inkRipple.hideWave(config)\r\n        }\r\n    },\r\n    _postprocessRenderItem: function(args) {\r\n        this._refreshItemElements();\r\n        this.callBase.apply(this, arguments);\r\n        if (this.option(\"_swipeEnabled\")) {\r\n            this._attachSwipeEvent((0, _renderer.default)(args.itemElement))\r\n        }\r\n    },\r\n    _attachSwipeEvent: function($itemElement) {\r\n        var endEventName = (0, _index.addNamespace)(_swipe.end, this.NAME);\r\n        _events_engine.default.on($itemElement, endEventName, this._itemSwipeEndHandler.bind(this))\r\n    },\r\n    _itemSwipeEndHandler: function(e) {\r\n        this._itemDXEventHandler(e, \"onItemSwipe\", {\r\n            direction: e.offset < 0 ? \"left\" : \"right\"\r\n        })\r\n    },\r\n    _nextButtonHandler: function(e) {\r\n        this._pageLoadingAction(e);\r\n        var source = this._dataSource;\r\n        if (source && !source.isLoading()) {\r\n            this._scrollView.toggleLoading(true);\r\n            this._$nextButton.detach();\r\n            this._loadIndicationSuppressed(true);\r\n            this._loadNextPage()\r\n        }\r\n    },\r\n    _renderGroup: function(index, group) {\r\n        var $groupElement = (0, _renderer.default)(\"<div>\").addClass(LIST_GROUP_CLASS).appendTo(this._itemContainer());\r\n        var $groupHeaderElement = (0, _renderer.default)(\"<div>\").addClass(LIST_GROUP_HEADER_CLASS).appendTo($groupElement);\r\n        var groupTemplateName = this.option(\"groupTemplate\");\r\n        var groupTemplate = this._getTemplate(group.template || groupTemplateName, group, index, $groupHeaderElement);\r\n        var renderArgs = {\r\n            index: index,\r\n            itemData: group,\r\n            container: (0, _element.getPublicElement)($groupHeaderElement)\r\n        };\r\n        this._createItemByTemplate(groupTemplate, renderArgs);\r\n        if ((0, _themes.isMaterial)()) {\r\n            (0, _renderer.default)(\"<div>\").addClass(LIST_GROUP_HEADER_INDICATOR_CLASS).prependTo($groupHeaderElement)\r\n        }\r\n        this._renderingGroupIndex = index;\r\n        var $groupBody = (0, _renderer.default)(\"<div>\").addClass(LIST_GROUP_BODY_CLASS).appendTo($groupElement);\r\n        (0, _iterator.each)(groupItemsGetter(group) || [], function(index, item) {\r\n            this._renderItem(index, item, $groupBody)\r\n        }.bind(this));\r\n        this._groupRenderAction({\r\n            groupElement: (0, _element.getPublicElement)($groupElement),\r\n            groupIndex: index,\r\n            groupData: group\r\n        })\r\n    },\r\n    downInkRippleHandler: function(e) {\r\n        this._toggleActiveState((0, _renderer.default)(e.currentTarget), true, e)\r\n    },\r\n    upInkRippleHandler: function(e) {\r\n        this._toggleActiveState((0, _renderer.default)(e.currentTarget), false)\r\n    },\r\n    attachGroupHeaderInkRippleEvents: function() {\r\n        var selector = \".\" + LIST_GROUP_HEADER_CLASS;\r\n        var $element = this.$element();\r\n        this._downInkRippleHandler = this._downInkRippleHandler || this.downInkRippleHandler.bind(this);\r\n        this._upInkRippleHandler = this._upInkRippleHandler || this.upInkRippleHandler.bind(this);\r\n        var downArguments = [$element, \"dxpointerdown\", selector, this._downInkRippleHandler];\r\n        var upArguments = [$element, \"dxpointerup dxpointerout\", selector, this._upInkRippleHandler];\r\n        _events_engine.default.off.apply(_events_engine.default, downArguments);\r\n        _events_engine.default.on.apply(_events_engine.default, downArguments);\r\n        _events_engine.default.off.apply(_events_engine.default, upArguments);\r\n        _events_engine.default.on.apply(_events_engine.default, upArguments)\r\n    },\r\n    _createGroupRenderAction: function() {\r\n        this._groupRenderAction = this._createActionByOption(\"onGroupRendered\")\r\n    },\r\n    _clean: function() {\r\n        clearTimeout(this._inkRippleTimer);\r\n        if (this._$nextButton) {\r\n            this._$nextButton.remove();\r\n            this._$nextButton = null\r\n        }\r\n        delete this._inkRipple;\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _dispose: function() {\r\n        clearTimeout(this._holdTimer);\r\n        clearTimeout(this._loadNextPageTimer);\r\n        clearTimeout(this._showLoadingIndicatorTimer);\r\n        this.callBase()\r\n    },\r\n    _toggleDisabledState: function(value) {\r\n        this.callBase(value);\r\n        this._scrollView.option(\"disabled\", value || !this.option(\"scrollingEnabled\"))\r\n    },\r\n    _toggleNextButton: function(value) {\r\n        var dataSource = this._dataSource;\r\n        var $nextButton = this._getNextButton();\r\n        this.$element().toggleClass(LIST_HAS_NEXT_CLASS, value);\r\n        if (value && dataSource && dataSource.isLoaded()) {\r\n            $nextButton.appendTo(this._itemContainer())\r\n        }\r\n        if (!value) {\r\n            $nextButton.detach()\r\n        }\r\n    },\r\n    _getNextButton: function() {\r\n        if (!this._$nextButton) {\r\n            this._$nextButton = this._createNextButton()\r\n        }\r\n        return this._$nextButton\r\n    },\r\n    _createNextButton: function() {\r\n        var $result = (0, _renderer.default)(\"<div>\").addClass(LIST_NEXT_BUTTON_CLASS);\r\n        var $button = (0, _renderer.default)(\"<div>\").appendTo($result);\r\n        this._createComponent($button, _button.default, {\r\n            text: this.option(\"nextButtonText\"),\r\n            onClick: this._nextButtonHandler.bind(this),\r\n            type: (0, _themes.isMaterial)() ? \"default\" : void 0,\r\n            integrationOptions: {}\r\n        });\r\n        return $result\r\n    },\r\n    _moveFocus: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this.scrollToItem(this.option(\"focusedElement\"))\r\n    },\r\n    _refresh: function() {\r\n        if (!(0, _window.hasWindow)()) {\r\n            this.callBase()\r\n        } else {\r\n            var scrollTop = this._scrollView.scrollTop();\r\n            this.callBase();\r\n            scrollTop && this._scrollView.scrollTo(scrollTop)\r\n        }\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"pageLoadMode\":\r\n                this._toggleNextButton(args.value);\r\n                this._initScrollView();\r\n                break;\r\n            case \"dataSource\":\r\n                this.callBase(args);\r\n                this._initScrollView();\r\n                break;\r\n            case \"pullingDownText\":\r\n            case \"pulledDownText\":\r\n            case \"refreshingText\":\r\n            case \"pageLoadingText\":\r\n            case \"showScrollbar\":\r\n            case \"bounceEnabled\":\r\n            case \"scrollByContent\":\r\n            case \"scrollByThumb\":\r\n            case \"useNativeScrolling\":\r\n            case \"scrollingEnabled\":\r\n            case \"pullRefreshEnabled\":\r\n                this._initScrollView();\r\n                this._updateLoadingState();\r\n                break;\r\n            case \"nextButtonText\":\r\n            case \"onItemSwipe\":\r\n            case \"useInkRipple\":\r\n                this._invalidate();\r\n                break;\r\n            case \"onScroll\":\r\n            case \"onPullRefresh\":\r\n            case \"onPageLoading\":\r\n                this._createScrollViewActions();\r\n                break;\r\n            case \"grouped\":\r\n            case \"collapsibleGroups\":\r\n            case \"groupTemplate\":\r\n                this._invalidate();\r\n                break;\r\n            case \"wrapItemText\":\r\n                this._$container.toggleClass(WRAP_ITEM_TEXT_CLASS, args.value);\r\n                break;\r\n            case \"onGroupRendered\":\r\n                this._createGroupRenderAction();\r\n                break;\r\n            case \"width\":\r\n            case \"height\":\r\n                this.callBase(args);\r\n                this._scrollView.update();\r\n                break;\r\n            case \"indicateLoading\":\r\n                this._hideLoadingIfLoadIndicationOff();\r\n                break;\r\n            case \"visible\":\r\n                this.callBase(args);\r\n                this._scrollView.update();\r\n                break;\r\n            case \"rtlEnabled\":\r\n                this._initScrollView();\r\n                this.callBase(args);\r\n                break;\r\n            case \"showChevronExpr\":\r\n            case \"badgeExpr\":\r\n                this._invalidate();\r\n                break;\r\n            case \"_swipeEnabled\":\r\n            case \"_revertPageOnEmptyLoad\":\r\n                break;\r\n            case \"_listAttributes\":\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _extendActionArgs: function($itemElement) {\r\n        if (!this.option(\"grouped\")) {\r\n            return this.callBase($itemElement)\r\n        }\r\n        var $group = $itemElement.closest(\".\" + LIST_GROUP_CLASS);\r\n        var $item = $group.find(\".\" + LIST_ITEM_CLASS);\r\n        return (0, _extend.extend)(this.callBase($itemElement), {\r\n            itemIndex: {\r\n                group: $group.index(),\r\n                item: $item.index($itemElement)\r\n            }\r\n        })\r\n    },\r\n    expandGroup: function(groupIndex) {\r\n        var deferred = new _deferred.Deferred;\r\n        var $group = this._itemContainer().find(\".\" + LIST_GROUP_CLASS).eq(groupIndex);\r\n        this._collapseGroupHandler($group, false).done(function() {\r\n            deferred.resolveWith(this)\r\n        }.bind(this));\r\n        return deferred.promise()\r\n    },\r\n    collapseGroup: function(groupIndex) {\r\n        var deferred = new _deferred.Deferred;\r\n        var $group = this._itemContainer().find(\".\" + LIST_GROUP_CLASS).eq(groupIndex);\r\n        this._collapseGroupHandler($group, true).done(function() {\r\n            deferred.resolveWith(this)\r\n        }.bind(this));\r\n        return deferred\r\n    },\r\n    updateDimensions: function() {\r\n        var that = this;\r\n        var deferred = new _deferred.Deferred;\r\n        if (that._scrollView) {\r\n            that._scrollView.update().done(function() {\r\n                !that._scrollViewIsFull() && that._updateLoadingState(true);\r\n                deferred.resolveWith(that)\r\n            })\r\n        } else {\r\n            deferred.resolveWith(that)\r\n        }\r\n        return deferred.promise()\r\n    },\r\n    reload: function() {\r\n        this.callBase();\r\n        this.scrollTo(0);\r\n        this._pullDownHandler()\r\n    },\r\n    repaint: function() {\r\n        this.scrollTo(0);\r\n        this.callBase()\r\n    },\r\n    scrollTop: function() {\r\n        return this._scrollView.scrollOffset().top\r\n    },\r\n    clientHeight: function() {\r\n        return this._scrollView.clientHeight()\r\n    },\r\n    scrollHeight: function() {\r\n        return this._scrollView.scrollHeight()\r\n    },\r\n    scrollBy: function(distance) {\r\n        this._scrollView.scrollBy(distance)\r\n    },\r\n    scrollTo: function(location) {\r\n        this._scrollView.scrollTo(location)\r\n    },\r\n    scrollToItem: function(itemElement) {\r\n        var $item = this._editStrategy.getItemElement(itemElement);\r\n        this._scrollView.scrollToElement($item)\r\n    }\r\n}).include(_grouped_data_converter_mixin.default);\r\nexports.ListBase = ListBase;\r\nListBase.ItemClass = _item.default;\r\n\r\nfunction getScrollView() {\r\n    return _scrollView || _scroll_view.default\r\n}\r\n\r\nfunction setScrollView(value) {\r\n    _scrollView = value\r\n}\r\n"]},"metadata":{},"sourceType":"script"}