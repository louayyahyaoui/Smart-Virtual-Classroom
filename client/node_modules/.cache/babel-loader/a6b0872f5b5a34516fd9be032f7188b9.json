{"ast":null,"code":"/**\r\n * DevExtreme (core/templates/bindable_template.js)\r\n * Version: 20.2.6\r\n * Build date: Tue Mar 16 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.BindableTemplate = void 0;\n\nvar _renderer = _interopRequireDefault(require(\"../renderer\"));\n\nvar _template_base = require(\"./template_base\");\n\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\n\nvar _remove_event = _interopRequireDefault(require(\"../remove_event\"));\n\nvar _type = require(\"../utils/type\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n\n  _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function (o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nvar watchChanges = function () {\n  var globalWatch = function (data, watchMethod, callback) {\n    return watchMethod(function () {\n      return data;\n    }, callback);\n  };\n\n  var fieldsWatch = function (data, watchMethod, fields, fieldsMap, callback) {\n    var resolvedData = {};\n    var missedFields = fields.slice();\n    var watchHandlers = fields.map(function (name) {\n      var fieldGetter = fieldsMap[name];\n      return watchMethod(fieldGetter ? function () {\n        return fieldGetter(data);\n      } : function () {\n        return data[name];\n      }, function (value) {\n        resolvedData[name] = value;\n\n        if (missedFields.length) {\n          var index = missedFields.indexOf(name);\n\n          if (index >= 0) {\n            missedFields.splice(index, 1);\n          }\n        }\n\n        if (!missedFields.length) {\n          callback(resolvedData);\n        }\n      });\n    });\n    return function () {\n      watchHandlers.forEach(function (dispose) {\n        return dispose();\n      });\n    };\n  };\n\n  return function (rawData, watchMethod, fields, fieldsMap, callback) {\n    var fieldsDispose;\n    var globalDispose = globalWatch(rawData, watchMethod, function (dataWithRawFields) {\n      fieldsDispose && fieldsDispose();\n\n      if ((0, _type.isPrimitive)(dataWithRawFields)) {\n        callback(dataWithRawFields);\n        return;\n      }\n\n      fieldsDispose = fieldsWatch(dataWithRawFields, watchMethod, fields, fieldsMap, callback);\n    });\n    return function () {\n      fieldsDispose && fieldsDispose();\n      globalDispose && globalDispose();\n    };\n  };\n}();\n\nvar BindableTemplate = function (_TemplateBase) {\n  _inheritsLoose(BindableTemplate, _TemplateBase);\n\n  function BindableTemplate(render, fields, watchMethod, fieldsMap) {\n    var _this;\n\n    _this = _TemplateBase.call(this) || this;\n    _this._render = render;\n    _this._fields = fields;\n    _this._fieldsMap = fieldsMap || {};\n    _this._watchMethod = watchMethod;\n    return _this;\n  }\n\n  var _proto = BindableTemplate.prototype;\n\n  _proto._renderCore = function (options) {\n    var _this2 = this;\n\n    var $container = (0, _renderer.default)(options.container);\n    var dispose = watchChanges(options.model, this._watchMethod, this._fields, this._fieldsMap, function (data) {\n      $container.empty();\n\n      _this2._render($container, data, options.model);\n    });\n\n    _events_engine.default.on($container, _remove_event.default, dispose);\n\n    return $container.contents();\n  };\n\n  return BindableTemplate;\n}(_template_base.TemplateBase);\n\nexports.BindableTemplate = BindableTemplate;","map":{"version":3,"sources":["C:/Smart-Virtual-Classroom/client/node_modules/devextreme/core/templates/bindable_template.js"],"names":["exports","BindableTemplate","_renderer","_interopRequireDefault","require","_template_base","_events_engine","_remove_event","_type","obj","__esModule","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","__proto__","watchChanges","globalWatch","data","watchMethod","callback","fieldsWatch","fields","fieldsMap","resolvedData","missedFields","slice","watchHandlers","map","name","fieldGetter","value","length","index","indexOf","splice","forEach","dispose","rawData","fieldsDispose","globalDispose","dataWithRawFields","isPrimitive","_TemplateBase","render","_this","call","_render","_fields","_fieldsMap","_watchMethod","_proto","_renderCore","options","_this2","$container","default","container","model","empty","on","contents","TemplateBase"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (core/templates/bindable_template.js)\r\n * Version: 20.2.6\r\n * Build date: Tue Mar 16 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.BindableTemplate = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../renderer\"));\r\nvar _template_base = require(\"./template_base\");\r\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\r\nvar _remove_event = _interopRequireDefault(require(\"../remove_event\"));\r\nvar _type = require(\"../utils/type\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _inheritsLoose(subClass, superClass) {\r\n    subClass.prototype = Object.create(superClass.prototype);\r\n    subClass.prototype.constructor = subClass;\r\n    _setPrototypeOf(subClass, superClass)\r\n}\r\n\r\nfunction _setPrototypeOf(o, p) {\r\n    _setPrototypeOf = Object.setPrototypeOf || function(o, p) {\r\n        o.__proto__ = p;\r\n        return o\r\n    };\r\n    return _setPrototypeOf(o, p)\r\n}\r\nvar watchChanges = function() {\r\n    var globalWatch = function(data, watchMethod, callback) {\r\n        return watchMethod(function() {\r\n            return data\r\n        }, callback)\r\n    };\r\n    var fieldsWatch = function(data, watchMethod, fields, fieldsMap, callback) {\r\n        var resolvedData = {};\r\n        var missedFields = fields.slice();\r\n        var watchHandlers = fields.map(function(name) {\r\n            var fieldGetter = fieldsMap[name];\r\n            return watchMethod(fieldGetter ? function() {\r\n                return fieldGetter(data)\r\n            } : function() {\r\n                return data[name]\r\n            }, function(value) {\r\n                resolvedData[name] = value;\r\n                if (missedFields.length) {\r\n                    var index = missedFields.indexOf(name);\r\n                    if (index >= 0) {\r\n                        missedFields.splice(index, 1)\r\n                    }\r\n                }\r\n                if (!missedFields.length) {\r\n                    callback(resolvedData)\r\n                }\r\n            })\r\n        });\r\n        return function() {\r\n            watchHandlers.forEach(function(dispose) {\r\n                return dispose()\r\n            })\r\n        }\r\n    };\r\n    return function(rawData, watchMethod, fields, fieldsMap, callback) {\r\n        var fieldsDispose;\r\n        var globalDispose = globalWatch(rawData, watchMethod, function(dataWithRawFields) {\r\n            fieldsDispose && fieldsDispose();\r\n            if ((0, _type.isPrimitive)(dataWithRawFields)) {\r\n                callback(dataWithRawFields);\r\n                return\r\n            }\r\n            fieldsDispose = fieldsWatch(dataWithRawFields, watchMethod, fields, fieldsMap, callback)\r\n        });\r\n        return function() {\r\n            fieldsDispose && fieldsDispose();\r\n            globalDispose && globalDispose()\r\n        }\r\n    }\r\n}();\r\nvar BindableTemplate = function(_TemplateBase) {\r\n    _inheritsLoose(BindableTemplate, _TemplateBase);\r\n\r\n    function BindableTemplate(render, fields, watchMethod, fieldsMap) {\r\n        var _this;\r\n        _this = _TemplateBase.call(this) || this;\r\n        _this._render = render;\r\n        _this._fields = fields;\r\n        _this._fieldsMap = fieldsMap || {};\r\n        _this._watchMethod = watchMethod;\r\n        return _this\r\n    }\r\n    var _proto = BindableTemplate.prototype;\r\n    _proto._renderCore = function(options) {\r\n        var _this2 = this;\r\n        var $container = (0, _renderer.default)(options.container);\r\n        var dispose = watchChanges(options.model, this._watchMethod, this._fields, this._fieldsMap, function(data) {\r\n            $container.empty();\r\n            _this2._render($container, data, options.model)\r\n        });\r\n        _events_engine.default.on($container, _remove_event.default, dispose);\r\n        return $container.contents()\r\n    };\r\n    return BindableTemplate\r\n}(_template_base.TemplateBase);\r\nexports.BindableTemplate = BindableTemplate;\r\n"]},"metadata":{},"sourceType":"script"}