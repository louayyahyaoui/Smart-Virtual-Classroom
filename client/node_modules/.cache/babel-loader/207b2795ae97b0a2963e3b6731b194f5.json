{"ast":null,"code":"/**\r\n * DevExtreme (ui/date_box/ui.date_box.strategy.calendar.js)\r\n * Version: 20.2.6\r\n * Build date: Tue Mar 16 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.default = void 0;\n\nvar _calendar = _interopRequireDefault(require(\"../calendar\"));\n\nvar _uiDate_box = _interopRequireDefault(require(\"./ui.date_box.strategy\"));\n\nvar _date = _interopRequireDefault(require(\"../../core/utils/date\"));\n\nvar _common = require(\"../../core/utils/common\");\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _message = _interopRequireDefault(require(\"../../localization/message\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar CalendarStrategy = _uiDate_box.default.inherit({\n  NAME: \"Calendar\",\n  supportedKeys: function () {\n    var homeEndHandler = function (e) {\n      if (this.option(\"opened\")) {\n        e.preventDefault();\n        return true;\n      }\n\n      return false;\n    };\n\n    return {\n      rightArrow: function () {\n        if (this.option(\"opened\")) {\n          return true;\n        }\n      },\n      leftArrow: function () {\n        if (this.option(\"opened\")) {\n          return true;\n        }\n      },\n      enter: function (e) {\n        if (this.dateBox.option(\"opened\")) {\n          e.preventDefault();\n\n          if (this._widget.option(\"zoomLevel\") === this._widget.option(\"maxZoomLevel\")) {\n            var viewValue = this._getContouredValue();\n\n            var lastActionElement = this._lastActionElement;\n\n            if (viewValue && \"calendar\" === lastActionElement) {\n              this.dateBoxValue(viewValue, e);\n            }\n\n            this.dateBox.close();\n\n            this.dateBox._valueChangeEventHandler(e);\n          } else {\n            return true;\n          }\n        } else {\n          this.dateBox._valueChangeEventHandler(e);\n        }\n      }.bind(this),\n      home: homeEndHandler,\n      end: homeEndHandler\n    };\n  },\n  getDisplayFormat: function (displayFormat) {\n    return displayFormat || \"shortdate\";\n  },\n  _getWidgetName: function () {\n    return _calendar.default;\n  },\n  _getContouredValue: function () {\n    return this._widget._view.option(\"contouredDate\");\n  },\n  getKeyboardListener: function () {\n    return this._widget;\n  },\n  _getWidgetOptions: function () {\n    var disabledDates = this.dateBox.option(\"disabledDates\");\n    return (0, _extend.extend)(this.dateBox.option(\"calendarOptions\"), {\n      value: this.dateBoxValue() || null,\n      dateSerializationFormat: null,\n      min: this.dateBox.dateOption(\"min\"),\n      max: this.dateBox.dateOption(\"max\"),\n      onValueChanged: this._valueChangedHandler.bind(this),\n      onCellClick: this._cellClickHandler.bind(this),\n      tabIndex: null,\n      disabledDates: (0, _type.isFunction)(disabledDates) ? this._injectComponent(disabledDates.bind(this.dateBox)) : disabledDates,\n      onContouredChanged: this._refreshActiveDescendant.bind(this),\n      hasFocus: function () {\n        return true;\n      }\n    });\n  },\n  _injectComponent: function (func) {\n    var that = this;\n    return function (params) {\n      (0, _extend.extend)(params, {\n        component: that.dateBox\n      });\n      return func(params);\n    };\n  },\n  _refreshActiveDescendant: function (e) {\n    this._lastActionElement = \"calendar\";\n    this.dateBox.setAria(\"activedescendant\", e.actionValue);\n  },\n  popupConfig: function (_popupConfig) {\n    var _this = this;\n\n    var toolbarItems = _popupConfig.toolbarItems;\n    var buttonsLocation = this.dateBox.option(\"buttonsLocation\");\n    var position = [];\n\n    if (\"default\" !== buttonsLocation) {\n      position = (0, _common.splitPair)(buttonsLocation);\n    } else {\n      position = [\"bottom\", \"center\"];\n    }\n\n    if (\"useButtons\" === this.dateBox.option(\"applyValueMode\") && this._isCalendarVisible()) {\n      toolbarItems.unshift({\n        widget: \"dxButton\",\n        toolbar: position[0],\n        location: \"after\" === position[1] ? \"before\" : position[1],\n        options: {\n          onInitialized: function (e) {\n            e.component.registerKeyHandler(\"escape\", this._escapeHandler.bind(this));\n          }.bind(this),\n          onClick: function (args) {\n            _this._widget._toTodayView(args);\n          },\n          text: _message.default.format(\"dxCalendar-todayButtonText\"),\n          type: \"today\"\n        }\n      });\n    }\n\n    return (0, _extend.extend)(true, _popupConfig, {\n      toolbarItems: toolbarItems,\n      position: {\n        collision: \"flipfit flip\"\n      },\n      width: \"auto\"\n    });\n  },\n  _isCalendarVisible: function () {\n    return (0, _type.isEmptyObject)(this.dateBox.option(\"calendarOptions\")) || false !== this.dateBox.option(\"calendarOptions.visible\");\n  },\n  _escapeHandler: function () {\n    this.dateBox.close();\n    this.dateBox.focus();\n  },\n  _valueChangedHandler: function (e) {\n    var dateBox = this.dateBox;\n    var value = e.value;\n    var prevValue = e.previousValue;\n\n    if (_date.default.sameDate(value, prevValue)) {\n      return;\n    }\n\n    if (\"instantly\" === dateBox.option(\"applyValueMode\")) {\n      this.dateBoxValue(this.getValue(), e.event);\n    }\n  },\n  _updateValue: function () {\n    if (!this._widget) {\n      return;\n    }\n\n    this._widget.option(\"value\", this.dateBoxValue());\n  },\n  textChangedHandler: function () {\n    this._lastActionElement = \"input\";\n\n    if (this.dateBox.option(\"opened\") && this._widget) {\n      this._updateValue(true);\n    }\n  },\n  _cellClickHandler: function (e) {\n    var dateBox = this.dateBox;\n\n    if (\"instantly\" === dateBox.option(\"applyValueMode\")) {\n      dateBox.option(\"opened\", false);\n      this.dateBoxValue(this.getValue(), e.event);\n    }\n  }\n});\n\nvar _default = CalendarStrategy;\nexports.default = _default;\nmodule.exports = exports.default;","map":{"version":3,"sources":["C:/Smart-Virtual-Classroom/client/node_modules/devextreme/ui/date_box/ui.date_box.strategy.calendar.js"],"names":["exports","default","_calendar","_interopRequireDefault","require","_uiDate_box","_date","_common","_type","_extend","_message","obj","__esModule","CalendarStrategy","inherit","NAME","supportedKeys","homeEndHandler","e","option","preventDefault","rightArrow","leftArrow","enter","dateBox","_widget","viewValue","_getContouredValue","lastActionElement","_lastActionElement","dateBoxValue","close","_valueChangeEventHandler","bind","home","end","getDisplayFormat","displayFormat","_getWidgetName","_view","getKeyboardListener","_getWidgetOptions","disabledDates","extend","value","dateSerializationFormat","min","dateOption","max","onValueChanged","_valueChangedHandler","onCellClick","_cellClickHandler","tabIndex","isFunction","_injectComponent","onContouredChanged","_refreshActiveDescendant","hasFocus","func","that","params","component","setAria","actionValue","popupConfig","_popupConfig","_this","toolbarItems","buttonsLocation","position","splitPair","_isCalendarVisible","unshift","widget","toolbar","location","options","onInitialized","registerKeyHandler","_escapeHandler","onClick","args","_toTodayView","text","format","type","collision","width","isEmptyObject","focus","prevValue","previousValue","sameDate","getValue","event","_updateValue","textChangedHandler","_default","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/date_box/ui.date_box.strategy.calendar.js)\r\n * Version: 20.2.6\r\n * Build date: Tue Mar 16 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _calendar = _interopRequireDefault(require(\"../calendar\"));\r\nvar _uiDate_box = _interopRequireDefault(require(\"./ui.date_box.strategy\"));\r\nvar _date = _interopRequireDefault(require(\"../../core/utils/date\"));\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _message = _interopRequireDefault(require(\"../../localization/message\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar CalendarStrategy = _uiDate_box.default.inherit({\r\n    NAME: \"Calendar\",\r\n    supportedKeys: function() {\r\n        var homeEndHandler = function(e) {\r\n            if (this.option(\"opened\")) {\r\n                e.preventDefault();\r\n                return true\r\n            }\r\n            return false\r\n        };\r\n        return {\r\n            rightArrow: function() {\r\n                if (this.option(\"opened\")) {\r\n                    return true\r\n                }\r\n            },\r\n            leftArrow: function() {\r\n                if (this.option(\"opened\")) {\r\n                    return true\r\n                }\r\n            },\r\n            enter: function(e) {\r\n                if (this.dateBox.option(\"opened\")) {\r\n                    e.preventDefault();\r\n                    if (this._widget.option(\"zoomLevel\") === this._widget.option(\"maxZoomLevel\")) {\r\n                        var viewValue = this._getContouredValue();\r\n                        var lastActionElement = this._lastActionElement;\r\n                        if (viewValue && \"calendar\" === lastActionElement) {\r\n                            this.dateBoxValue(viewValue, e)\r\n                        }\r\n                        this.dateBox.close();\r\n                        this.dateBox._valueChangeEventHandler(e)\r\n                    } else {\r\n                        return true\r\n                    }\r\n                } else {\r\n                    this.dateBox._valueChangeEventHandler(e)\r\n                }\r\n            }.bind(this),\r\n            home: homeEndHandler,\r\n            end: homeEndHandler\r\n        }\r\n    },\r\n    getDisplayFormat: function(displayFormat) {\r\n        return displayFormat || \"shortdate\"\r\n    },\r\n    _getWidgetName: function() {\r\n        return _calendar.default\r\n    },\r\n    _getContouredValue: function() {\r\n        return this._widget._view.option(\"contouredDate\")\r\n    },\r\n    getKeyboardListener: function() {\r\n        return this._widget\r\n    },\r\n    _getWidgetOptions: function() {\r\n        var disabledDates = this.dateBox.option(\"disabledDates\");\r\n        return (0, _extend.extend)(this.dateBox.option(\"calendarOptions\"), {\r\n            value: this.dateBoxValue() || null,\r\n            dateSerializationFormat: null,\r\n            min: this.dateBox.dateOption(\"min\"),\r\n            max: this.dateBox.dateOption(\"max\"),\r\n            onValueChanged: this._valueChangedHandler.bind(this),\r\n            onCellClick: this._cellClickHandler.bind(this),\r\n            tabIndex: null,\r\n            disabledDates: (0, _type.isFunction)(disabledDates) ? this._injectComponent(disabledDates.bind(this.dateBox)) : disabledDates,\r\n            onContouredChanged: this._refreshActiveDescendant.bind(this),\r\n            hasFocus: function() {\r\n                return true\r\n            }\r\n        })\r\n    },\r\n    _injectComponent: function(func) {\r\n        var that = this;\r\n        return function(params) {\r\n            (0, _extend.extend)(params, {\r\n                component: that.dateBox\r\n            });\r\n            return func(params)\r\n        }\r\n    },\r\n    _refreshActiveDescendant: function(e) {\r\n        this._lastActionElement = \"calendar\";\r\n        this.dateBox.setAria(\"activedescendant\", e.actionValue)\r\n    },\r\n    popupConfig: function(_popupConfig) {\r\n        var _this = this;\r\n        var toolbarItems = _popupConfig.toolbarItems;\r\n        var buttonsLocation = this.dateBox.option(\"buttonsLocation\");\r\n        var position = [];\r\n        if (\"default\" !== buttonsLocation) {\r\n            position = (0, _common.splitPair)(buttonsLocation)\r\n        } else {\r\n            position = [\"bottom\", \"center\"]\r\n        }\r\n        if (\"useButtons\" === this.dateBox.option(\"applyValueMode\") && this._isCalendarVisible()) {\r\n            toolbarItems.unshift({\r\n                widget: \"dxButton\",\r\n                toolbar: position[0],\r\n                location: \"after\" === position[1] ? \"before\" : position[1],\r\n                options: {\r\n                    onInitialized: function(e) {\r\n                        e.component.registerKeyHandler(\"escape\", this._escapeHandler.bind(this))\r\n                    }.bind(this),\r\n                    onClick: function(args) {\r\n                        _this._widget._toTodayView(args)\r\n                    },\r\n                    text: _message.default.format(\"dxCalendar-todayButtonText\"),\r\n                    type: \"today\"\r\n                }\r\n            })\r\n        }\r\n        return (0, _extend.extend)(true, _popupConfig, {\r\n            toolbarItems: toolbarItems,\r\n            position: {\r\n                collision: \"flipfit flip\"\r\n            },\r\n            width: \"auto\"\r\n        })\r\n    },\r\n    _isCalendarVisible: function() {\r\n        return (0, _type.isEmptyObject)(this.dateBox.option(\"calendarOptions\")) || false !== this.dateBox.option(\"calendarOptions.visible\")\r\n    },\r\n    _escapeHandler: function() {\r\n        this.dateBox.close();\r\n        this.dateBox.focus()\r\n    },\r\n    _valueChangedHandler: function(e) {\r\n        var dateBox = this.dateBox;\r\n        var value = e.value;\r\n        var prevValue = e.previousValue;\r\n        if (_date.default.sameDate(value, prevValue)) {\r\n            return\r\n        }\r\n        if (\"instantly\" === dateBox.option(\"applyValueMode\")) {\r\n            this.dateBoxValue(this.getValue(), e.event)\r\n        }\r\n    },\r\n    _updateValue: function() {\r\n        if (!this._widget) {\r\n            return\r\n        }\r\n        this._widget.option(\"value\", this.dateBoxValue())\r\n    },\r\n    textChangedHandler: function() {\r\n        this._lastActionElement = \"input\";\r\n        if (this.dateBox.option(\"opened\") && this._widget) {\r\n            this._updateValue(true)\r\n        }\r\n    },\r\n    _cellClickHandler: function(e) {\r\n        var dateBox = this.dateBox;\r\n        if (\"instantly\" === dateBox.option(\"applyValueMode\")) {\r\n            dateBox.option(\"opened\", false);\r\n            this.dateBoxValue(this.getValue(), e.event)\r\n        }\r\n    }\r\n});\r\nvar _default = CalendarStrategy;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n"]},"metadata":{},"sourceType":"script"}