{"ast":null,"code":"/**\r\n * DevExtreme (ui/collection/item.js)\r\n * Version: 20.2.7\r\n * Build date: Thu Apr 22 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.default = void 0;\n\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\n\nvar _class = _interopRequireDefault(require(\"../../core/class\"));\n\nvar _iterator = require(\"../../core/utils/iterator\");\n\nvar _public_component = require(\"../../core/utils/public_component\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar INVISIBLE_STATE_CLASS = \"dx-state-invisible\";\nvar DISABLED_STATE_CLASS = \"dx-state-disabled\";\nvar ITEM_CONTENT_PLACEHOLDER_CLASS = \"dx-item-content-placeholder\";\n\nvar forcibleWatcher = function (watchMethod, fn, callback) {\n  var filteredCallback = function () {\n    var oldValue;\n    return function (value) {\n      if (oldValue !== value) {\n        callback(value, oldValue);\n        oldValue = value;\n      }\n    };\n  }();\n\n  return {\n    dispose: watchMethod(fn, filteredCallback),\n    force: function () {\n      filteredCallback(fn());\n    }\n  };\n};\n\nvar CollectionItem = _class.default.inherit({\n  ctor: function ($element, options, rawData) {\n    this._$element = $element;\n    this._options = options;\n    this._rawData = rawData;\n    (0, _public_component.attachInstanceToElement)($element, this, this._dispose);\n\n    this._render();\n  },\n  _render: function () {\n    var $placeholder = (0, _renderer.default)(\"<div>\").addClass(ITEM_CONTENT_PLACEHOLDER_CLASS);\n\n    this._$element.append($placeholder);\n\n    this._watchers = [];\n\n    this._renderWatchers();\n  },\n  _renderWatchers: function () {\n    this._startWatcher(\"disabled\", this._renderDisabled.bind(this));\n\n    this._startWatcher(\"visible\", this._renderVisible.bind(this));\n  },\n  _startWatcher: function (field, render) {\n    var rawData = this._rawData;\n\n    var exprGetter = this._options.fieldGetter(field);\n\n    var watcher = forcibleWatcher(this._options.watchMethod(), function () {\n      return exprGetter(rawData);\n    }, function (value, oldValue) {\n      this._dirty = true;\n      render(value, oldValue);\n    }.bind(this));\n\n    this._watchers.push(watcher);\n  },\n  setDataField: function () {\n    this._dirty = false;\n    (0, _iterator.each)(this._watchers, function (_, watcher) {\n      watcher.force();\n    });\n\n    if (this._dirty) {\n      return true;\n    }\n  },\n  _renderDisabled: function (value, oldValue) {\n    this._$element.toggleClass(DISABLED_STATE_CLASS, !!value);\n\n    this._updateOwnerFocus(value);\n  },\n  _updateOwnerFocus: function (isDisabled) {\n    var ownerComponent = this._options.owner;\n\n    if (ownerComponent && isDisabled) {\n      ownerComponent._resetItemFocus(this._$element);\n    }\n  },\n  _renderVisible: function (value, oldValue) {\n    this._$element.toggleClass(INVISIBLE_STATE_CLASS, void 0 !== value && !value);\n  },\n  _dispose: function () {\n    (0, _iterator.each)(this._watchers, function (_, watcher) {\n      watcher.dispose();\n    });\n  }\n});\n\nCollectionItem.getInstance = function ($element) {\n  return (0, _public_component.getInstanceByElement)($element, this);\n};\n\nvar _default = CollectionItem;\nexports.default = _default;\nmodule.exports = exports.default;","map":{"version":3,"sources":["C:/Smart-Virtual-Classroom/client/node_modules/devextreme/ui/collection/item.js"],"names":["exports","default","_renderer","_interopRequireDefault","require","_class","_iterator","_public_component","obj","__esModule","INVISIBLE_STATE_CLASS","DISABLED_STATE_CLASS","ITEM_CONTENT_PLACEHOLDER_CLASS","forcibleWatcher","watchMethod","fn","callback","filteredCallback","oldValue","value","dispose","force","CollectionItem","inherit","ctor","$element","options","rawData","_$element","_options","_rawData","attachInstanceToElement","_dispose","_render","$placeholder","addClass","append","_watchers","_renderWatchers","_startWatcher","_renderDisabled","bind","_renderVisible","field","render","exprGetter","fieldGetter","watcher","_dirty","push","setDataField","each","_","toggleClass","_updateOwnerFocus","isDisabled","ownerComponent","owner","_resetItemFocus","getInstance","getInstanceByElement","_default","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/collection/item.js)\r\n * Version: 20.2.7\r\n * Build date: Thu Apr 22 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _class = _interopRequireDefault(require(\"../../core/class\"));\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _public_component = require(\"../../core/utils/public_component\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar INVISIBLE_STATE_CLASS = \"dx-state-invisible\";\r\nvar DISABLED_STATE_CLASS = \"dx-state-disabled\";\r\nvar ITEM_CONTENT_PLACEHOLDER_CLASS = \"dx-item-content-placeholder\";\r\nvar forcibleWatcher = function(watchMethod, fn, callback) {\r\n    var filteredCallback = function() {\r\n        var oldValue;\r\n        return function(value) {\r\n            if (oldValue !== value) {\r\n                callback(value, oldValue);\r\n                oldValue = value\r\n            }\r\n        }\r\n    }();\r\n    return {\r\n        dispose: watchMethod(fn, filteredCallback),\r\n        force: function() {\r\n            filteredCallback(fn())\r\n        }\r\n    }\r\n};\r\nvar CollectionItem = _class.default.inherit({\r\n    ctor: function($element, options, rawData) {\r\n        this._$element = $element;\r\n        this._options = options;\r\n        this._rawData = rawData;\r\n        (0, _public_component.attachInstanceToElement)($element, this, this._dispose);\r\n        this._render()\r\n    },\r\n    _render: function() {\r\n        var $placeholder = (0, _renderer.default)(\"<div>\").addClass(ITEM_CONTENT_PLACEHOLDER_CLASS);\r\n        this._$element.append($placeholder);\r\n        this._watchers = [];\r\n        this._renderWatchers()\r\n    },\r\n    _renderWatchers: function() {\r\n        this._startWatcher(\"disabled\", this._renderDisabled.bind(this));\r\n        this._startWatcher(\"visible\", this._renderVisible.bind(this))\r\n    },\r\n    _startWatcher: function(field, render) {\r\n        var rawData = this._rawData;\r\n        var exprGetter = this._options.fieldGetter(field);\r\n        var watcher = forcibleWatcher(this._options.watchMethod(), function() {\r\n            return exprGetter(rawData)\r\n        }, function(value, oldValue) {\r\n            this._dirty = true;\r\n            render(value, oldValue)\r\n        }.bind(this));\r\n        this._watchers.push(watcher)\r\n    },\r\n    setDataField: function() {\r\n        this._dirty = false;\r\n        (0, _iterator.each)(this._watchers, function(_, watcher) {\r\n            watcher.force()\r\n        });\r\n        if (this._dirty) {\r\n            return true\r\n        }\r\n    },\r\n    _renderDisabled: function(value, oldValue) {\r\n        this._$element.toggleClass(DISABLED_STATE_CLASS, !!value);\r\n        this._updateOwnerFocus(value)\r\n    },\r\n    _updateOwnerFocus: function(isDisabled) {\r\n        var ownerComponent = this._options.owner;\r\n        if (ownerComponent && isDisabled) {\r\n            ownerComponent._resetItemFocus(this._$element)\r\n        }\r\n    },\r\n    _renderVisible: function(value, oldValue) {\r\n        this._$element.toggleClass(INVISIBLE_STATE_CLASS, void 0 !== value && !value)\r\n    },\r\n    _dispose: function() {\r\n        (0, _iterator.each)(this._watchers, function(_, watcher) {\r\n            watcher.dispose()\r\n        })\r\n    }\r\n});\r\nCollectionItem.getInstance = function($element) {\r\n    return (0, _public_component.getInstanceByElement)($element, this)\r\n};\r\nvar _default = CollectionItem;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n"]},"metadata":{},"sourceType":"script"}