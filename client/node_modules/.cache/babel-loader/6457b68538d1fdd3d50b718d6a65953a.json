{"ast":null,"code":"/**\r\n * DevExtreme (ui/list/ui.list.edit.provider.js)\r\n * Version: 20.2.7\r\n * Build date: Thu Apr 22 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.default = void 0;\n\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\n\nvar _common = require(\"../../core/utils/common\");\n\nvar _class = _interopRequireDefault(require(\"../../core/class\"));\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _iterator = require(\"../../core/utils/iterator\");\n\nvar _ui = _interopRequireDefault(require(\"../widget/ui.errors\"));\n\nvar _uiListEdit = require(\"./ui.list.edit.decorator_registry\");\n\nrequire(\"./ui.list.edit.decorator.static\");\n\nrequire(\"./ui.list.edit.decorator.switchable.button\");\n\nrequire(\"./ui.list.edit.decorator.switchable.slide\");\n\nrequire(\"./ui.list.edit.decorator.swipe\");\n\nrequire(\"./ui.list.edit.decorator.context\");\n\nrequire(\"./ui.list.edit.decorator.selection\");\n\nrequire(\"./ui.list.edit.decorator.reorder\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar editOptionsRegistry = [];\n\nvar registerOption = function (enabledFunc, decoratorTypeFunc, decoratorSubTypeFunc) {\n  editOptionsRegistry.push({\n    enabled: enabledFunc,\n    decoratorType: decoratorTypeFunc,\n    decoratorSubType: decoratorSubTypeFunc\n  });\n};\n\nregisterOption(function () {\n  return this.option(\"menuItems\").length;\n}, function () {\n  return \"menu\";\n}, function () {\n  return this.option(\"menuMode\");\n});\nregisterOption(function () {\n  return !this.option(\"menuItems\").length && this.option(\"allowItemDeleting\");\n}, function () {\n  var mode = this.option(\"itemDeleteMode\");\n  return \"toggle\" === mode || \"slideButton\" === mode || \"swipe\" === mode || \"static\" === mode ? \"delete\" : \"menu\";\n}, function () {\n  var mode = this.option(\"itemDeleteMode\");\n\n  if (\"slideItem\" === mode) {\n    mode = \"slide\";\n  }\n\n  if (\"hold\" === mode) {\n    mode = \"context\";\n  }\n\n  return mode;\n});\nregisterOption(function () {\n  return \"none\" !== this.option(\"selectionMode\") && this.option(\"showSelectionControls\");\n}, function () {\n  return \"selection\";\n}, function () {\n  return \"default\";\n});\nregisterOption(function () {\n  return this.option(\"itemDragging.allowReordering\") || this.option(\"itemDragging.allowDropInsideItem\") || this.option(\"itemDragging.group\");\n}, function () {\n  return \"reorder\";\n}, function () {\n  return \"default\";\n});\nvar LIST_ITEM_BEFORE_BAG_CLASS = \"dx-list-item-before-bag\";\nvar LIST_ITEM_AFTER_BAG_CLASS = \"dx-list-item-after-bag\";\nvar DECORATOR_BEFORE_BAG_CREATE_METHOD = \"beforeBag\";\nvar DECORATOR_AFTER_BAG_CREATE_METHOD = \"afterBag\";\nvar DECORATOR_MODIFY_ELEMENT_METHOD = \"modifyElement\";\nvar DECORATOR_AFTER_RENDER_METHOD = \"afterRender\";\nvar DECORATOR_GET_EXCLUDED_SELECTORS_METHOD = \"getExcludedSelectors\";\n\nvar EditProvider = _class.default.inherit({\n  ctor: function (list) {\n    this._list = list;\n\n    this._fetchRequiredDecorators();\n  },\n  dispose: function () {\n    if (this._decorators && this._decorators.length) {\n      (0, _iterator.each)(this._decorators, function (_, decorator) {\n        decorator.dispose();\n      });\n    }\n  },\n  _fetchRequiredDecorators: function () {\n    this._decorators = [];\n    (0, _iterator.each)(editOptionsRegistry, function (_, option) {\n      var optionEnabled = option.enabled.call(this._list);\n\n      if (optionEnabled) {\n        var decoratorType = option.decoratorType.call(this._list);\n        var decoratorSubType = option.decoratorSubType.call(this._list);\n\n        var decorator = this._createDecorator(decoratorType, decoratorSubType);\n\n        this._decorators.push(decorator);\n      }\n    }.bind(this));\n  },\n  _createDecorator: function (type, subType) {\n    var decoratorClass = this._findDecorator(type, subType);\n\n    return new decoratorClass(this._list);\n  },\n  _findDecorator: function (type, subType) {\n    var foundDecorator = _uiListEdit.registry[type][subType];\n\n    if (!foundDecorator) {\n      throw _ui.default.Error(\"E1012\", type, subType);\n    }\n\n    return foundDecorator;\n  },\n  modifyItemElement: function (args) {\n    var $itemElement = (0, _renderer.default)(args.itemElement);\n    var config = {\n      $itemElement: $itemElement\n    };\n\n    this._prependBeforeBags($itemElement, config);\n\n    this._appendAfterBags($itemElement, config);\n\n    this._applyDecorators(DECORATOR_MODIFY_ELEMENT_METHOD, config);\n  },\n  afterItemsRendered: function () {\n    this._applyDecorators(DECORATOR_AFTER_RENDER_METHOD);\n  },\n  _prependBeforeBags: function ($itemElement, config) {\n    var $beforeBags = this._collectDecoratorsMarkup(DECORATOR_BEFORE_BAG_CREATE_METHOD, config, LIST_ITEM_BEFORE_BAG_CLASS);\n\n    $itemElement.prepend($beforeBags);\n  },\n  _appendAfterBags: function ($itemElement, config) {\n    var $afterBags = this._collectDecoratorsMarkup(DECORATOR_AFTER_BAG_CREATE_METHOD, config, LIST_ITEM_AFTER_BAG_CLASS);\n\n    $itemElement.append($afterBags);\n  },\n  _collectDecoratorsMarkup: function (method, config, containerClass) {\n    var $collector = (0, _renderer.default)(\"<div>\");\n    (0, _iterator.each)(this._decorators, function () {\n      var $container = (0, _renderer.default)(\"<div>\").addClass(containerClass);\n      this[method]((0, _extend.extend)({\n        $container: $container\n      }, config));\n\n      if ($container.children().length) {\n        $collector.append($container);\n      }\n    });\n    return $collector.children();\n  },\n  _applyDecorators: function (method, config) {\n    (0, _iterator.each)(this._decorators, function () {\n      this[method](config);\n    });\n  },\n  _handlerExists: function (name) {\n    if (!this._decorators) {\n      return false;\n    }\n\n    var decorators = this._decorators;\n    var length = decorators.length;\n\n    for (var i = 0; i < length; i++) {\n      if (decorators[i][name] !== _common.noop) {\n        return true;\n      }\n    }\n\n    return false;\n  },\n  _eventHandler: function (name, $itemElement, e) {\n    if (!this._decorators) {\n      return false;\n    }\n\n    var response = false;\n    var decorators = this._decorators;\n    var length = decorators.length;\n\n    for (var i = 0; i < length; i++) {\n      response = decorators[i][name]($itemElement, e);\n\n      if (response) {\n        break;\n      }\n    }\n\n    return response;\n  },\n  handleClick: function ($itemElement, e) {\n    return this._eventHandler(\"handleClick\", $itemElement, e);\n  },\n  handleKeyboardEvents: function (currentFocusedIndex, moveFocusUp) {\n    return this._eventHandler(\"handleKeyboardEvents\", currentFocusedIndex, moveFocusUp);\n  },\n  handleEnterPressing: function (e) {\n    return this._eventHandler(\"handleEnterPressing\", e);\n  },\n  contextMenuHandlerExists: function () {\n    return this._handlerExists(\"handleContextMenu\");\n  },\n  handleContextMenu: function ($itemElement, e) {\n    return this._eventHandler(\"handleContextMenu\", $itemElement, e);\n  },\n  getExcludedItemSelectors: function () {\n    var excludedSelectors = [];\n\n    this._applyDecorators(DECORATOR_GET_EXCLUDED_SELECTORS_METHOD, excludedSelectors);\n\n    return excludedSelectors.join(\",\");\n  }\n});\n\nvar _default = EditProvider;\nexports.default = _default;\nmodule.exports = exports.default;","map":{"version":3,"sources":["C:/Smart-Virtual-Classroom/client/node_modules/devextreme/ui/list/ui.list.edit.provider.js"],"names":["exports","default","_renderer","_interopRequireDefault","require","_common","_class","_extend","_iterator","_ui","_uiListEdit","obj","__esModule","editOptionsRegistry","registerOption","enabledFunc","decoratorTypeFunc","decoratorSubTypeFunc","push","enabled","decoratorType","decoratorSubType","option","length","mode","LIST_ITEM_BEFORE_BAG_CLASS","LIST_ITEM_AFTER_BAG_CLASS","DECORATOR_BEFORE_BAG_CREATE_METHOD","DECORATOR_AFTER_BAG_CREATE_METHOD","DECORATOR_MODIFY_ELEMENT_METHOD","DECORATOR_AFTER_RENDER_METHOD","DECORATOR_GET_EXCLUDED_SELECTORS_METHOD","EditProvider","inherit","ctor","list","_list","_fetchRequiredDecorators","dispose","_decorators","each","_","decorator","optionEnabled","call","_createDecorator","bind","type","subType","decoratorClass","_findDecorator","foundDecorator","registry","Error","modifyItemElement","args","$itemElement","itemElement","config","_prependBeforeBags","_appendAfterBags","_applyDecorators","afterItemsRendered","$beforeBags","_collectDecoratorsMarkup","prepend","$afterBags","append","method","containerClass","$collector","$container","addClass","extend","children","_handlerExists","name","decorators","i","noop","_eventHandler","e","response","handleClick","handleKeyboardEvents","currentFocusedIndex","moveFocusUp","handleEnterPressing","contextMenuHandlerExists","handleContextMenu","getExcludedItemSelectors","excludedSelectors","join","_default","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/list/ui.list.edit.provider.js)\r\n * Version: 20.2.7\r\n * Build date: Thu Apr 22 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _class = _interopRequireDefault(require(\"../../core/class\"));\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _ui = _interopRequireDefault(require(\"../widget/ui.errors\"));\r\nvar _uiListEdit = require(\"./ui.list.edit.decorator_registry\");\r\nrequire(\"./ui.list.edit.decorator.static\");\r\nrequire(\"./ui.list.edit.decorator.switchable.button\");\r\nrequire(\"./ui.list.edit.decorator.switchable.slide\");\r\nrequire(\"./ui.list.edit.decorator.swipe\");\r\nrequire(\"./ui.list.edit.decorator.context\");\r\nrequire(\"./ui.list.edit.decorator.selection\");\r\nrequire(\"./ui.list.edit.decorator.reorder\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar editOptionsRegistry = [];\r\nvar registerOption = function(enabledFunc, decoratorTypeFunc, decoratorSubTypeFunc) {\r\n    editOptionsRegistry.push({\r\n        enabled: enabledFunc,\r\n        decoratorType: decoratorTypeFunc,\r\n        decoratorSubType: decoratorSubTypeFunc\r\n    })\r\n};\r\nregisterOption(function() {\r\n    return this.option(\"menuItems\").length\r\n}, function() {\r\n    return \"menu\"\r\n}, function() {\r\n    return this.option(\"menuMode\")\r\n});\r\nregisterOption(function() {\r\n    return !this.option(\"menuItems\").length && this.option(\"allowItemDeleting\")\r\n}, function() {\r\n    var mode = this.option(\"itemDeleteMode\");\r\n    return \"toggle\" === mode || \"slideButton\" === mode || \"swipe\" === mode || \"static\" === mode ? \"delete\" : \"menu\"\r\n}, function() {\r\n    var mode = this.option(\"itemDeleteMode\");\r\n    if (\"slideItem\" === mode) {\r\n        mode = \"slide\"\r\n    }\r\n    if (\"hold\" === mode) {\r\n        mode = \"context\"\r\n    }\r\n    return mode\r\n});\r\nregisterOption(function() {\r\n    return \"none\" !== this.option(\"selectionMode\") && this.option(\"showSelectionControls\")\r\n}, function() {\r\n    return \"selection\"\r\n}, function() {\r\n    return \"default\"\r\n});\r\nregisterOption(function() {\r\n    return this.option(\"itemDragging.allowReordering\") || this.option(\"itemDragging.allowDropInsideItem\") || this.option(\"itemDragging.group\")\r\n}, function() {\r\n    return \"reorder\"\r\n}, function() {\r\n    return \"default\"\r\n});\r\nvar LIST_ITEM_BEFORE_BAG_CLASS = \"dx-list-item-before-bag\";\r\nvar LIST_ITEM_AFTER_BAG_CLASS = \"dx-list-item-after-bag\";\r\nvar DECORATOR_BEFORE_BAG_CREATE_METHOD = \"beforeBag\";\r\nvar DECORATOR_AFTER_BAG_CREATE_METHOD = \"afterBag\";\r\nvar DECORATOR_MODIFY_ELEMENT_METHOD = \"modifyElement\";\r\nvar DECORATOR_AFTER_RENDER_METHOD = \"afterRender\";\r\nvar DECORATOR_GET_EXCLUDED_SELECTORS_METHOD = \"getExcludedSelectors\";\r\nvar EditProvider = _class.default.inherit({\r\n    ctor: function(list) {\r\n        this._list = list;\r\n        this._fetchRequiredDecorators()\r\n    },\r\n    dispose: function() {\r\n        if (this._decorators && this._decorators.length) {\r\n            (0, _iterator.each)(this._decorators, function(_, decorator) {\r\n                decorator.dispose()\r\n            })\r\n        }\r\n    },\r\n    _fetchRequiredDecorators: function() {\r\n        this._decorators = [];\r\n        (0, _iterator.each)(editOptionsRegistry, function(_, option) {\r\n            var optionEnabled = option.enabled.call(this._list);\r\n            if (optionEnabled) {\r\n                var decoratorType = option.decoratorType.call(this._list);\r\n                var decoratorSubType = option.decoratorSubType.call(this._list);\r\n                var decorator = this._createDecorator(decoratorType, decoratorSubType);\r\n                this._decorators.push(decorator)\r\n            }\r\n        }.bind(this))\r\n    },\r\n    _createDecorator: function(type, subType) {\r\n        var decoratorClass = this._findDecorator(type, subType);\r\n        return new decoratorClass(this._list)\r\n    },\r\n    _findDecorator: function(type, subType) {\r\n        var foundDecorator = _uiListEdit.registry[type][subType];\r\n        if (!foundDecorator) {\r\n            throw _ui.default.Error(\"E1012\", type, subType)\r\n        }\r\n        return foundDecorator\r\n    },\r\n    modifyItemElement: function(args) {\r\n        var $itemElement = (0, _renderer.default)(args.itemElement);\r\n        var config = {\r\n            $itemElement: $itemElement\r\n        };\r\n        this._prependBeforeBags($itemElement, config);\r\n        this._appendAfterBags($itemElement, config);\r\n        this._applyDecorators(DECORATOR_MODIFY_ELEMENT_METHOD, config)\r\n    },\r\n    afterItemsRendered: function() {\r\n        this._applyDecorators(DECORATOR_AFTER_RENDER_METHOD)\r\n    },\r\n    _prependBeforeBags: function($itemElement, config) {\r\n        var $beforeBags = this._collectDecoratorsMarkup(DECORATOR_BEFORE_BAG_CREATE_METHOD, config, LIST_ITEM_BEFORE_BAG_CLASS);\r\n        $itemElement.prepend($beforeBags)\r\n    },\r\n    _appendAfterBags: function($itemElement, config) {\r\n        var $afterBags = this._collectDecoratorsMarkup(DECORATOR_AFTER_BAG_CREATE_METHOD, config, LIST_ITEM_AFTER_BAG_CLASS);\r\n        $itemElement.append($afterBags)\r\n    },\r\n    _collectDecoratorsMarkup: function(method, config, containerClass) {\r\n        var $collector = (0, _renderer.default)(\"<div>\");\r\n        (0, _iterator.each)(this._decorators, function() {\r\n            var $container = (0, _renderer.default)(\"<div>\").addClass(containerClass);\r\n            this[method]((0, _extend.extend)({\r\n                $container: $container\r\n            }, config));\r\n            if ($container.children().length) {\r\n                $collector.append($container)\r\n            }\r\n        });\r\n        return $collector.children()\r\n    },\r\n    _applyDecorators: function(method, config) {\r\n        (0, _iterator.each)(this._decorators, function() {\r\n            this[method](config)\r\n        })\r\n    },\r\n    _handlerExists: function(name) {\r\n        if (!this._decorators) {\r\n            return false\r\n        }\r\n        var decorators = this._decorators;\r\n        var length = decorators.length;\r\n        for (var i = 0; i < length; i++) {\r\n            if (decorators[i][name] !== _common.noop) {\r\n                return true\r\n            }\r\n        }\r\n        return false\r\n    },\r\n    _eventHandler: function(name, $itemElement, e) {\r\n        if (!this._decorators) {\r\n            return false\r\n        }\r\n        var response = false;\r\n        var decorators = this._decorators;\r\n        var length = decorators.length;\r\n        for (var i = 0; i < length; i++) {\r\n            response = decorators[i][name]($itemElement, e);\r\n            if (response) {\r\n                break\r\n            }\r\n        }\r\n        return response\r\n    },\r\n    handleClick: function($itemElement, e) {\r\n        return this._eventHandler(\"handleClick\", $itemElement, e)\r\n    },\r\n    handleKeyboardEvents: function(currentFocusedIndex, moveFocusUp) {\r\n        return this._eventHandler(\"handleKeyboardEvents\", currentFocusedIndex, moveFocusUp)\r\n    },\r\n    handleEnterPressing: function(e) {\r\n        return this._eventHandler(\"handleEnterPressing\", e)\r\n    },\r\n    contextMenuHandlerExists: function() {\r\n        return this._handlerExists(\"handleContextMenu\")\r\n    },\r\n    handleContextMenu: function($itemElement, e) {\r\n        return this._eventHandler(\"handleContextMenu\", $itemElement, e)\r\n    },\r\n    getExcludedItemSelectors: function() {\r\n        var excludedSelectors = [];\r\n        this._applyDecorators(DECORATOR_GET_EXCLUDED_SELECTORS_METHOD, excludedSelectors);\r\n        return excludedSelectors.join(\",\")\r\n    }\r\n});\r\nvar _default = EditProvider;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n"]},"metadata":{},"sourceType":"script"}