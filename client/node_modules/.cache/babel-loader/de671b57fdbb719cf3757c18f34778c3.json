{"ast":null,"code":"/**\r\n * DevExtreme (ui/widget/ui.widget.js)\r\n * Version: 20.2.7\r\n * Build date: Thu Apr 22 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.default = void 0;\n\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\n\nvar _action = _interopRequireDefault(require(\"../../core/action\"));\n\nvar _dom_component = _interopRequireDefault(require(\"../../core/dom_component\"));\n\nvar _short = require(\"../../events/short\");\n\nvar _common = require(\"../../core/utils/common\");\n\nvar _iterator = require(\"../../core/utils/iterator\");\n\nvar _extend2 = require(\"../../core/utils/extend\");\n\nvar _selectors = require(\"./selectors\");\n\nvar _array = require(\"../../core/utils/array\");\n\nvar _type = require(\"../../core/utils/type\");\n\nrequire(\"../../events/click\");\n\nrequire(\"../../events/core/emitter.feedback\");\n\nrequire(\"../../events/hover\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction setAttribute(name, value, target) {\n  name = \"role\" === name || \"id\" === name ? name : \"aria-\".concat(name);\n  value = (0, _type.isDefined)(value) ? value.toString() : null;\n  target.attr(name, value);\n}\n\nvar Widget = _dom_component.default.inherit({\n  _feedbackHideTimeout: 400,\n  _feedbackShowTimeout: 30,\n  _supportedKeys: function () {\n    return {};\n  },\n  _getDefaultOptions: function () {\n    return (0, _extend2.extend)(this.callBase(), {\n      hoveredElement: null,\n      isActive: false,\n      disabled: false,\n      visible: true,\n      hint: void 0,\n      activeStateEnabled: false,\n      onContentReady: null,\n      hoverStateEnabled: false,\n      focusStateEnabled: false,\n      tabIndex: 0,\n      accessKey: null,\n      onFocusIn: null,\n      onFocusOut: null,\n      onKeyboardHandled: null,\n      ignoreParentReadOnly: false\n    });\n  },\n  _init: function () {\n    this.callBase();\n\n    this._initContentReadyAction();\n  },\n  _innerWidgetOptionChanged: function (innerWidget, args) {\n    var options = Widget.getOptionsFromContainer(args);\n    innerWidget && innerWidget.option(options);\n\n    this._options.cache(args.name, options);\n  },\n  _bindInnerWidgetOptions: function (innerWidget, optionsContainer) {\n    var _this = this;\n\n    var syncOptions = function () {\n      return _this._options.silent(optionsContainer, (0, _extend2.extend)({}, innerWidget.option()));\n    };\n\n    syncOptions();\n    innerWidget.on(\"optionChanged\", syncOptions);\n  },\n  _getAriaTarget: function () {\n    return this._focusTarget();\n  },\n  _initContentReadyAction: function () {\n    this._contentReadyAction = this._createActionByOption(\"onContentReady\", {\n      excludeValidators: [\"disabled\", \"readOnly\"]\n    });\n  },\n  _initMarkup: function () {\n    var _this$option = this.option(),\n        disabled = _this$option.disabled,\n        visible = _this$option.visible;\n\n    this.$element().addClass(\"dx-widget\");\n\n    this._toggleDisabledState(disabled);\n\n    this._toggleVisibility(visible);\n\n    this._renderHint();\n\n    this._isFocusable() && this._renderFocusTarget();\n    this.callBase();\n  },\n  _render: function () {\n    this.callBase();\n\n    this._renderContent();\n\n    this._renderFocusState();\n\n    this._attachFeedbackEvents();\n\n    this._attachHoverEvents();\n\n    this._toggleIndependentState();\n  },\n  _renderHint: function () {\n    var _this$option2 = this.option(),\n        hint = _this$option2.hint;\n\n    this.$element().attr(\"title\", hint || null);\n  },\n  _renderContent: function () {\n    var _this2 = this;\n\n    (0, _common.deferRender)(function () {\n      return !_this2._disposed ? _this2._renderContentImpl() : void 0;\n    }).done(function () {\n      return !_this2._disposed ? _this2._fireContentReadyAction() : void 0;\n    });\n  },\n  _renderContentImpl: _common.noop,\n  _fireContentReadyAction: (0, _common.deferRenderer)(function () {\n    return this._contentReadyAction();\n  }),\n  _dispose: function () {\n    this._contentReadyAction = null;\n\n    this._detachKeyboardEvents();\n\n    this.callBase();\n  },\n  _resetActiveState: function () {\n    this._toggleActiveState(this._eventBindingTarget(), false);\n  },\n  _clean: function () {\n    this._cleanFocusState();\n\n    this._resetActiveState();\n\n    this.callBase();\n    this.$element().empty();\n  },\n  _toggleVisibility: function (visible) {\n    this.$element().toggleClass(\"dx-state-invisible\", !visible);\n    this.setAria(\"hidden\", !visible || void 0);\n  },\n  _renderFocusState: function () {\n    this._attachKeyboardEvents();\n\n    if (this._isFocusable()) {\n      this._renderFocusTarget();\n\n      this._attachFocusEvents();\n\n      this._renderAccessKey();\n    }\n  },\n  _renderAccessKey: function () {\n    var $el = this._focusTarget();\n\n    var _this$option3 = this.option(),\n        accessKey = _this$option3.accessKey;\n\n    $el.attr(\"accesskey\", accessKey);\n  },\n  _isFocusable: function () {\n    var _this$option4 = this.option(),\n        focusStateEnabled = _this$option4.focusStateEnabled,\n        disabled = _this$option4.disabled;\n\n    return focusStateEnabled && !disabled;\n  },\n  _eventBindingTarget: function () {\n    return this.$element();\n  },\n  _focusTarget: function () {\n    return this._getActiveElement();\n  },\n  _getActiveElement: function () {\n    var activeElement = this._eventBindingTarget();\n\n    if (this._activeStateUnit) {\n      return activeElement.find(this._activeStateUnit).not(\".dx-state-disabled\");\n    }\n\n    return activeElement;\n  },\n  _renderFocusTarget: function () {\n    var _this$option5 = this.option(),\n        tabIndex = _this$option5.tabIndex;\n\n    this._focusTarget().attr(\"tabIndex\", tabIndex);\n  },\n  _keyboardEventBindingTarget: function () {\n    return this._eventBindingTarget();\n  },\n  _refreshFocusEvent: function () {\n    this._detachFocusEvents();\n\n    this._attachFocusEvents();\n  },\n  _focusEventTarget: function () {\n    return this._focusTarget();\n  },\n  _focusInHandler: function (event) {\n    var _this3 = this;\n\n    if (!event.isDefaultPrevented()) {\n      this._createActionByOption(\"onFocusIn\", {\n        beforeExecute: function () {\n          return _this3._updateFocusState(event, true);\n        },\n        excludeValidators: [\"readOnly\"]\n      })({\n        event: event\n      });\n    }\n  },\n  _focusOutHandler: function (event) {\n    var _this4 = this;\n\n    if (!event.isDefaultPrevented()) {\n      this._createActionByOption(\"onFocusOut\", {\n        beforeExecute: function () {\n          return _this4._updateFocusState(event, false);\n        },\n        excludeValidators: [\"readOnly\", \"disabled\"]\n      })({\n        event: event\n      });\n    }\n  },\n  _updateFocusState: function (_ref, isFocused) {\n    var target = _ref.target;\n\n    if ((0, _array.inArray)(target, this._focusTarget()) !== -1) {\n      this._toggleFocusClass(isFocused, (0, _renderer.default)(target));\n    }\n  },\n  _toggleFocusClass: function (isFocused, $element) {\n    var $focusTarget = $element && $element.length ? $element : this._focusTarget();\n    $focusTarget.toggleClass(\"dx-state-focused\", isFocused);\n  },\n  _hasFocusClass: function (element) {\n    var $focusTarget = (0, _renderer.default)(element || this._focusTarget());\n    return $focusTarget.hasClass(\"dx-state-focused\");\n  },\n  _isFocused: function () {\n    return this._hasFocusClass();\n  },\n  _getKeyboardListeners: function () {\n    return [];\n  },\n  _attachKeyboardEvents: function () {\n    var _this5 = this;\n\n    this._detachKeyboardEvents();\n\n    var _this$option6 = this.option(),\n        focusStateEnabled = _this$option6.focusStateEnabled,\n        onKeyboardHandled = _this$option6.onKeyboardHandled;\n\n    var hasChildListeners = this._getKeyboardListeners().length;\n\n    var hasKeyboardEventHandler = !!onKeyboardHandled;\n    var shouldAttach = focusStateEnabled || hasChildListeners || hasKeyboardEventHandler;\n\n    if (shouldAttach) {\n      this._keyboardListenerId = _short.keyboard.on(this._keyboardEventBindingTarget(), this._focusTarget(), function (opts) {\n        return _this5._keyboardHandler(opts);\n      });\n    }\n  },\n  _keyboardHandler: function (options, onlyChildProcessing) {\n    if (!onlyChildProcessing) {\n      var originalEvent = options.originalEvent,\n          keyName = options.keyName,\n          which = options.which;\n\n      var keys = this._supportedKeys(originalEvent);\n\n      var func = keys[keyName] || keys[which];\n\n      if (void 0 !== func) {\n        var handler = func.bind(this);\n        var result = handler(originalEvent, options);\n\n        if (!result) {\n          return false;\n        }\n      }\n    }\n\n    var keyboardListeners = this._getKeyboardListeners();\n\n    var _this$option7 = this.option(),\n        onKeyboardHandled = _this$option7.onKeyboardHandled;\n\n    keyboardListeners.forEach(function (listener) {\n      return listener && listener._keyboardHandler(options);\n    });\n    onKeyboardHandled && onKeyboardHandled(options);\n    return true;\n  },\n  _refreshFocusState: function () {\n    this._cleanFocusState();\n\n    this._renderFocusState();\n  },\n  _cleanFocusState: function () {\n    var $element = this._focusTarget();\n\n    $element.removeAttr(\"tabIndex\");\n\n    this._toggleFocusClass(false);\n\n    this._detachFocusEvents();\n\n    this._detachKeyboardEvents();\n  },\n  _detachKeyboardEvents: function () {\n    _short.keyboard.off(this._keyboardListenerId);\n\n    this._keyboardListenerId = null;\n  },\n  _attachHoverEvents: function () {\n    var _this6 = this;\n\n    var _this$option8 = this.option(),\n        hoverStateEnabled = _this$option8.hoverStateEnabled;\n\n    var selector = this._activeStateUnit;\n    var namespace = \"UIFeedback\";\n\n    var $el = this._eventBindingTarget();\n\n    _short.hover.off($el, {\n      selector: selector,\n      namespace: namespace\n    });\n\n    if (hoverStateEnabled) {\n      _short.hover.on($el, new _action.default(function (_ref2) {\n        var event = _ref2.event,\n            element = _ref2.element;\n\n        _this6._hoverStartHandler(event);\n\n        _this6.option(\"hoveredElement\", (0, _renderer.default)(element));\n      }, {\n        excludeValidators: [\"readOnly\"]\n      }), function (event) {\n        _this6.option(\"hoveredElement\", null);\n\n        _this6._hoverEndHandler(event);\n      }, {\n        selector: selector,\n        namespace: namespace\n      });\n    }\n  },\n  _attachFeedbackEvents: function () {\n    var _this7 = this;\n\n    var _this$option9 = this.option(),\n        activeStateEnabled = _this$option9.activeStateEnabled;\n\n    var selector = this._activeStateUnit;\n    var namespace = \"UIFeedback\";\n\n    var $el = this._eventBindingTarget();\n\n    _short.active.off($el, {\n      namespace: namespace,\n      selector: selector\n    });\n\n    if (activeStateEnabled) {\n      _short.active.on($el, new _action.default(function (_ref3) {\n        var event = _ref3.event,\n            element = _ref3.element;\n        return _this7._toggleActiveState((0, _renderer.default)(element), true, event);\n      }), new _action.default(function (_ref4) {\n        var event = _ref4.event,\n            element = _ref4.element;\n        return _this7._toggleActiveState((0, _renderer.default)(element), false, event);\n      }, {\n        excludeValidators: [\"disabled\", \"readOnly\"]\n      }), {\n        showTimeout: this._feedbackShowTimeout,\n        hideTimeout: this._feedbackHideTimeout,\n        selector: selector,\n        namespace: namespace\n      });\n    }\n  },\n  _detachFocusEvents: function () {\n    var $el = this._focusEventTarget();\n\n    _short.focus.off($el, {\n      namespace: \"\".concat(this.NAME, \"Focus\")\n    });\n  },\n  _attachFocusEvents: function () {\n    var _this8 = this;\n\n    var $el = this._focusEventTarget();\n\n    _short.focus.on($el, function (e) {\n      return _this8._focusInHandler(e);\n    }, function (e) {\n      return _this8._focusOutHandler(e);\n    }, {\n      namespace: \"\".concat(this.NAME, \"Focus\"),\n      isFocusable: function (index, el) {\n        return (0, _renderer.default)(el).is(_selectors.focusable);\n      }\n    });\n  },\n  _hoverStartHandler: _common.noop,\n  _hoverEndHandler: _common.noop,\n  _toggleActiveState: function ($element, value) {\n    this.option(\"isActive\", value);\n    $element.toggleClass(\"dx-state-active\", value);\n  },\n  _updatedHover: function () {\n    var hoveredElement = this._options.silent(\"hoveredElement\");\n\n    this._hover(hoveredElement, hoveredElement);\n  },\n  _findHoverTarget: function ($el) {\n    return $el && $el.closest(this._activeStateUnit || this._eventBindingTarget());\n  },\n  _hover: function ($el, $previous) {\n    var _this$option10 = this.option(),\n        hoverStateEnabled = _this$option10.hoverStateEnabled,\n        disabled = _this$option10.disabled,\n        isActive = _this$option10.isActive;\n\n    $previous = this._findHoverTarget($previous);\n    $previous && $previous.toggleClass(\"dx-state-hover\", false);\n\n    if ($el && hoverStateEnabled && !disabled && !isActive) {\n      var newHoveredElement = this._findHoverTarget($el);\n\n      newHoveredElement && newHoveredElement.toggleClass(\"dx-state-hover\", true);\n    }\n  },\n  _toggleDisabledState: function (value) {\n    this.$element().toggleClass(\"dx-state-disabled\", Boolean(value));\n    this.setAria(\"disabled\", value || void 0);\n  },\n  _toggleIndependentState: function () {\n    this.$element().toggleClass(\"dx-state-independent\", this.option(\"ignoreParentReadOnly\"));\n  },\n  _setWidgetOption: function (widgetName, args) {\n    var _this9 = this;\n\n    if (!this[widgetName]) {\n      return;\n    }\n\n    if ((0, _type.isPlainObject)(args[0])) {\n      (0, _iterator.each)(args[0], function (option, value) {\n        return _this9._setWidgetOption(widgetName, [option, value]);\n      });\n      return;\n    }\n\n    var optionName = args[0];\n    var value = args[1];\n\n    if (1 === args.length) {\n      value = this.option(optionName);\n    }\n\n    var widgetOptionMap = this[\"\".concat(widgetName, \"OptionMap\")];\n    this[widgetName].option(widgetOptionMap ? widgetOptionMap(optionName) : optionName, value);\n  },\n  _optionChanged: function (args) {\n    var name = args.name,\n        value = args.value,\n        previousValue = args.previousValue;\n\n    switch (name) {\n      case \"disabled\":\n        this._toggleDisabledState(value);\n\n        this._updatedHover();\n\n        this._refreshFocusState();\n\n        break;\n\n      case \"hint\":\n        this._renderHint();\n\n        break;\n\n      case \"ignoreParentReadOnly\":\n        this._toggleIndependentState();\n\n        break;\n\n      case \"activeStateEnabled\":\n        this._attachFeedbackEvents();\n\n        break;\n\n      case \"hoverStateEnabled\":\n        this._attachHoverEvents();\n\n        this._updatedHover();\n\n        break;\n\n      case \"tabIndex\":\n      case \"focusStateEnabled\":\n        this._refreshFocusState();\n\n        break;\n\n      case \"onFocusIn\":\n      case \"onFocusOut\":\n        break;\n\n      case \"accessKey\":\n        this._renderAccessKey();\n\n        break;\n\n      case \"hoveredElement\":\n        this._hover(value, previousValue);\n\n        break;\n\n      case \"isActive\":\n        this._updatedHover();\n\n        break;\n\n      case \"visible\":\n        this._toggleVisibility(value);\n\n        if (this._isVisibilityChangeSupported()) {\n          this._checkVisibilityChanged(value ? \"shown\" : \"hiding\");\n        }\n\n        break;\n\n      case \"onKeyboardHandled\":\n        this._attachKeyboardEvents();\n\n        break;\n\n      case \"onContentReady\":\n        this._initContentReadyAction();\n\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  },\n  _isVisible: function () {\n    var _this$option11 = this.option(),\n        visible = _this$option11.visible;\n\n    return this.callBase() && visible;\n  },\n  beginUpdate: function () {\n    this._ready(false);\n\n    this.callBase();\n  },\n  endUpdate: function () {\n    this.callBase();\n\n    if (this._initialized) {\n      this._ready(true);\n    }\n  },\n  _ready: function (value) {\n    if (0 === arguments.length) {\n      return this._isReady;\n    }\n\n    this._isReady = value;\n  },\n  setAria: function () {\n    if (!(0, _type.isPlainObject)(arguments.length <= 0 ? void 0 : arguments[0])) {\n      setAttribute(arguments.length <= 0 ? void 0 : arguments[0], arguments.length <= 1 ? void 0 : arguments[1], (arguments.length <= 2 ? void 0 : arguments[2]) || this._getAriaTarget());\n    } else {\n      var target = (arguments.length <= 1 ? void 0 : arguments[1]) || this._getAriaTarget();\n\n      (0, _iterator.each)(arguments.length <= 0 ? void 0 : arguments[0], function (name, value) {\n        return setAttribute(name, value, target);\n      });\n    }\n  },\n  isReady: function () {\n    return this._ready();\n  },\n  repaint: function () {\n    this._refresh();\n  },\n  focus: function () {\n    _short.focus.trigger(this._focusTarget());\n  },\n  registerKeyHandler: function (key, handler) {\n    var currentKeys = this._supportedKeys();\n\n    this._supportedKeys = function () {\n      return (0, _extend2.extend)(currentKeys, _defineProperty({}, key, handler));\n    };\n  }\n});\n\nWidget.getOptionsFromContainer = function (_ref5) {\n  var name = _ref5.name,\n      fullName = _ref5.fullName,\n      value = _ref5.value;\n  var options = {};\n\n  if (name === fullName) {\n    options = value;\n  } else {\n    var option = fullName.split(\".\").pop();\n    options[option] = value;\n  }\n\n  return options;\n};\n\nvar _default = Widget;\nexports.default = _default;\nmodule.exports = exports.default;","map":{"version":3,"sources":["C:/Smart-Virtual-Classroom/client/node_modules/devextreme/ui/widget/ui.widget.js"],"names":["exports","default","_renderer","_interopRequireDefault","require","_action","_dom_component","_short","_common","_iterator","_extend2","_selectors","_array","_type","obj","__esModule","_defineProperty","key","value","Object","defineProperty","enumerable","configurable","writable","setAttribute","name","target","concat","isDefined","toString","attr","Widget","inherit","_feedbackHideTimeout","_feedbackShowTimeout","_supportedKeys","_getDefaultOptions","extend","callBase","hoveredElement","isActive","disabled","visible","hint","activeStateEnabled","onContentReady","hoverStateEnabled","focusStateEnabled","tabIndex","accessKey","onFocusIn","onFocusOut","onKeyboardHandled","ignoreParentReadOnly","_init","_initContentReadyAction","_innerWidgetOptionChanged","innerWidget","args","options","getOptionsFromContainer","option","_options","cache","_bindInnerWidgetOptions","optionsContainer","_this","syncOptions","silent","on","_getAriaTarget","_focusTarget","_contentReadyAction","_createActionByOption","excludeValidators","_initMarkup","_this$option","$element","addClass","_toggleDisabledState","_toggleVisibility","_renderHint","_isFocusable","_renderFocusTarget","_render","_renderContent","_renderFocusState","_attachFeedbackEvents","_attachHoverEvents","_toggleIndependentState","_this$option2","_this2","deferRender","_disposed","_renderContentImpl","done","_fireContentReadyAction","noop","deferRenderer","_dispose","_detachKeyboardEvents","_resetActiveState","_toggleActiveState","_eventBindingTarget","_clean","_cleanFocusState","empty","toggleClass","setAria","_attachKeyboardEvents","_attachFocusEvents","_renderAccessKey","$el","_this$option3","_this$option4","_getActiveElement","activeElement","_activeStateUnit","find","not","_this$option5","_keyboardEventBindingTarget","_refreshFocusEvent","_detachFocusEvents","_focusEventTarget","_focusInHandler","event","_this3","isDefaultPrevented","beforeExecute","_updateFocusState","_focusOutHandler","_this4","_ref","isFocused","inArray","_toggleFocusClass","$focusTarget","length","_hasFocusClass","element","hasClass","_isFocused","_getKeyboardListeners","_this5","_this$option6","hasChildListeners","hasKeyboardEventHandler","shouldAttach","_keyboardListenerId","keyboard","opts","_keyboardHandler","onlyChildProcessing","originalEvent","keyName","which","keys","func","handler","bind","result","keyboardListeners","_this$option7","forEach","listener","_refreshFocusState","removeAttr","off","_this6","_this$option8","selector","namespace","hover","_ref2","_hoverStartHandler","_hoverEndHandler","_this7","_this$option9","active","_ref3","_ref4","showTimeout","hideTimeout","focus","NAME","_this8","e","isFocusable","index","el","is","focusable","_updatedHover","_hover","_findHoverTarget","closest","$previous","_this$option10","newHoveredElement","Boolean","_setWidgetOption","widgetName","_this9","isPlainObject","each","optionName","widgetOptionMap","_optionChanged","previousValue","_isVisibilityChangeSupported","_checkVisibilityChanged","_isVisible","_this$option11","beginUpdate","_ready","endUpdate","_initialized","arguments","_isReady","isReady","repaint","_refresh","trigger","registerKeyHandler","currentKeys","_ref5","fullName","split","pop","_default","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/widget/ui.widget.js)\r\n * Version: 20.2.7\r\n * Build date: Thu Apr 22 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _action = _interopRequireDefault(require(\"../../core/action\"));\r\nvar _dom_component = _interopRequireDefault(require(\"../../core/dom_component\"));\r\nvar _short = require(\"../../events/short\");\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _extend2 = require(\"../../core/utils/extend\");\r\nvar _selectors = require(\"./selectors\");\r\nvar _array = require(\"../../core/utils/array\");\r\nvar _type = require(\"../../core/utils/type\");\r\nrequire(\"../../events/click\");\r\nrequire(\"../../events/core/emitter.feedback\");\r\nrequire(\"../../events/hover\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _defineProperty(obj, key, value) {\r\n    if (key in obj) {\r\n        Object.defineProperty(obj, key, {\r\n            value: value,\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true\r\n        })\r\n    } else {\r\n        obj[key] = value\r\n    }\r\n    return obj\r\n}\r\n\r\nfunction setAttribute(name, value, target) {\r\n    name = \"role\" === name || \"id\" === name ? name : \"aria-\".concat(name);\r\n    value = (0, _type.isDefined)(value) ? value.toString() : null;\r\n    target.attr(name, value)\r\n}\r\nvar Widget = _dom_component.default.inherit({\r\n    _feedbackHideTimeout: 400,\r\n    _feedbackShowTimeout: 30,\r\n    _supportedKeys: function() {\r\n        return {}\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return (0, _extend2.extend)(this.callBase(), {\r\n            hoveredElement: null,\r\n            isActive: false,\r\n            disabled: false,\r\n            visible: true,\r\n            hint: void 0,\r\n            activeStateEnabled: false,\r\n            onContentReady: null,\r\n            hoverStateEnabled: false,\r\n            focusStateEnabled: false,\r\n            tabIndex: 0,\r\n            accessKey: null,\r\n            onFocusIn: null,\r\n            onFocusOut: null,\r\n            onKeyboardHandled: null,\r\n            ignoreParentReadOnly: false\r\n        })\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this._initContentReadyAction()\r\n    },\r\n    _innerWidgetOptionChanged: function(innerWidget, args) {\r\n        var options = Widget.getOptionsFromContainer(args);\r\n        innerWidget && innerWidget.option(options);\r\n        this._options.cache(args.name, options)\r\n    },\r\n    _bindInnerWidgetOptions: function(innerWidget, optionsContainer) {\r\n        var _this = this;\r\n        var syncOptions = function() {\r\n            return _this._options.silent(optionsContainer, (0, _extend2.extend)({}, innerWidget.option()))\r\n        };\r\n        syncOptions();\r\n        innerWidget.on(\"optionChanged\", syncOptions)\r\n    },\r\n    _getAriaTarget: function() {\r\n        return this._focusTarget()\r\n    },\r\n    _initContentReadyAction: function() {\r\n        this._contentReadyAction = this._createActionByOption(\"onContentReady\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        })\r\n    },\r\n    _initMarkup: function() {\r\n        var _this$option = this.option(),\r\n            disabled = _this$option.disabled,\r\n            visible = _this$option.visible;\r\n        this.$element().addClass(\"dx-widget\");\r\n        this._toggleDisabledState(disabled);\r\n        this._toggleVisibility(visible);\r\n        this._renderHint();\r\n        this._isFocusable() && this._renderFocusTarget();\r\n        this.callBase()\r\n    },\r\n    _render: function() {\r\n        this.callBase();\r\n        this._renderContent();\r\n        this._renderFocusState();\r\n        this._attachFeedbackEvents();\r\n        this._attachHoverEvents();\r\n        this._toggleIndependentState()\r\n    },\r\n    _renderHint: function() {\r\n        var _this$option2 = this.option(),\r\n            hint = _this$option2.hint;\r\n        this.$element().attr(\"title\", hint || null)\r\n    },\r\n    _renderContent: function() {\r\n        var _this2 = this;\r\n        (0, _common.deferRender)(function() {\r\n            return !_this2._disposed ? _this2._renderContentImpl() : void 0\r\n        }).done(function() {\r\n            return !_this2._disposed ? _this2._fireContentReadyAction() : void 0\r\n        })\r\n    },\r\n    _renderContentImpl: _common.noop,\r\n    _fireContentReadyAction: (0, _common.deferRenderer)(function() {\r\n        return this._contentReadyAction()\r\n    }),\r\n    _dispose: function() {\r\n        this._contentReadyAction = null;\r\n        this._detachKeyboardEvents();\r\n        this.callBase()\r\n    },\r\n    _resetActiveState: function() {\r\n        this._toggleActiveState(this._eventBindingTarget(), false)\r\n    },\r\n    _clean: function() {\r\n        this._cleanFocusState();\r\n        this._resetActiveState();\r\n        this.callBase();\r\n        this.$element().empty()\r\n    },\r\n    _toggleVisibility: function(visible) {\r\n        this.$element().toggleClass(\"dx-state-invisible\", !visible);\r\n        this.setAria(\"hidden\", !visible || void 0)\r\n    },\r\n    _renderFocusState: function() {\r\n        this._attachKeyboardEvents();\r\n        if (this._isFocusable()) {\r\n            this._renderFocusTarget();\r\n            this._attachFocusEvents();\r\n            this._renderAccessKey()\r\n        }\r\n    },\r\n    _renderAccessKey: function() {\r\n        var $el = this._focusTarget();\r\n        var _this$option3 = this.option(),\r\n            accessKey = _this$option3.accessKey;\r\n        $el.attr(\"accesskey\", accessKey)\r\n    },\r\n    _isFocusable: function() {\r\n        var _this$option4 = this.option(),\r\n            focusStateEnabled = _this$option4.focusStateEnabled,\r\n            disabled = _this$option4.disabled;\r\n        return focusStateEnabled && !disabled\r\n    },\r\n    _eventBindingTarget: function() {\r\n        return this.$element()\r\n    },\r\n    _focusTarget: function() {\r\n        return this._getActiveElement()\r\n    },\r\n    _getActiveElement: function() {\r\n        var activeElement = this._eventBindingTarget();\r\n        if (this._activeStateUnit) {\r\n            return activeElement.find(this._activeStateUnit).not(\".dx-state-disabled\")\r\n        }\r\n        return activeElement\r\n    },\r\n    _renderFocusTarget: function() {\r\n        var _this$option5 = this.option(),\r\n            tabIndex = _this$option5.tabIndex;\r\n        this._focusTarget().attr(\"tabIndex\", tabIndex)\r\n    },\r\n    _keyboardEventBindingTarget: function() {\r\n        return this._eventBindingTarget()\r\n    },\r\n    _refreshFocusEvent: function() {\r\n        this._detachFocusEvents();\r\n        this._attachFocusEvents()\r\n    },\r\n    _focusEventTarget: function() {\r\n        return this._focusTarget()\r\n    },\r\n    _focusInHandler: function(event) {\r\n        var _this3 = this;\r\n        if (!event.isDefaultPrevented()) {\r\n            this._createActionByOption(\"onFocusIn\", {\r\n                beforeExecute: function() {\r\n                    return _this3._updateFocusState(event, true)\r\n                },\r\n                excludeValidators: [\"readOnly\"]\r\n            })({\r\n                event: event\r\n            })\r\n        }\r\n    },\r\n    _focusOutHandler: function(event) {\r\n        var _this4 = this;\r\n        if (!event.isDefaultPrevented()) {\r\n            this._createActionByOption(\"onFocusOut\", {\r\n                beforeExecute: function() {\r\n                    return _this4._updateFocusState(event, false)\r\n                },\r\n                excludeValidators: [\"readOnly\", \"disabled\"]\r\n            })({\r\n                event: event\r\n            })\r\n        }\r\n    },\r\n    _updateFocusState: function(_ref, isFocused) {\r\n        var target = _ref.target;\r\n        if ((0, _array.inArray)(target, this._focusTarget()) !== -1) {\r\n            this._toggleFocusClass(isFocused, (0, _renderer.default)(target))\r\n        }\r\n    },\r\n    _toggleFocusClass: function(isFocused, $element) {\r\n        var $focusTarget = $element && $element.length ? $element : this._focusTarget();\r\n        $focusTarget.toggleClass(\"dx-state-focused\", isFocused)\r\n    },\r\n    _hasFocusClass: function(element) {\r\n        var $focusTarget = (0, _renderer.default)(element || this._focusTarget());\r\n        return $focusTarget.hasClass(\"dx-state-focused\")\r\n    },\r\n    _isFocused: function() {\r\n        return this._hasFocusClass()\r\n    },\r\n    _getKeyboardListeners: function() {\r\n        return []\r\n    },\r\n    _attachKeyboardEvents: function() {\r\n        var _this5 = this;\r\n        this._detachKeyboardEvents();\r\n        var _this$option6 = this.option(),\r\n            focusStateEnabled = _this$option6.focusStateEnabled,\r\n            onKeyboardHandled = _this$option6.onKeyboardHandled;\r\n        var hasChildListeners = this._getKeyboardListeners().length;\r\n        var hasKeyboardEventHandler = !!onKeyboardHandled;\r\n        var shouldAttach = focusStateEnabled || hasChildListeners || hasKeyboardEventHandler;\r\n        if (shouldAttach) {\r\n            this._keyboardListenerId = _short.keyboard.on(this._keyboardEventBindingTarget(), this._focusTarget(), function(opts) {\r\n                return _this5._keyboardHandler(opts)\r\n            })\r\n        }\r\n    },\r\n    _keyboardHandler: function(options, onlyChildProcessing) {\r\n        if (!onlyChildProcessing) {\r\n            var originalEvent = options.originalEvent,\r\n                keyName = options.keyName,\r\n                which = options.which;\r\n            var keys = this._supportedKeys(originalEvent);\r\n            var func = keys[keyName] || keys[which];\r\n            if (void 0 !== func) {\r\n                var handler = func.bind(this);\r\n                var result = handler(originalEvent, options);\r\n                if (!result) {\r\n                    return false\r\n                }\r\n            }\r\n        }\r\n        var keyboardListeners = this._getKeyboardListeners();\r\n        var _this$option7 = this.option(),\r\n            onKeyboardHandled = _this$option7.onKeyboardHandled;\r\n        keyboardListeners.forEach(function(listener) {\r\n            return listener && listener._keyboardHandler(options)\r\n        });\r\n        onKeyboardHandled && onKeyboardHandled(options);\r\n        return true\r\n    },\r\n    _refreshFocusState: function() {\r\n        this._cleanFocusState();\r\n        this._renderFocusState()\r\n    },\r\n    _cleanFocusState: function() {\r\n        var $element = this._focusTarget();\r\n        $element.removeAttr(\"tabIndex\");\r\n        this._toggleFocusClass(false);\r\n        this._detachFocusEvents();\r\n        this._detachKeyboardEvents()\r\n    },\r\n    _detachKeyboardEvents: function() {\r\n        _short.keyboard.off(this._keyboardListenerId);\r\n        this._keyboardListenerId = null\r\n    },\r\n    _attachHoverEvents: function() {\r\n        var _this6 = this;\r\n        var _this$option8 = this.option(),\r\n            hoverStateEnabled = _this$option8.hoverStateEnabled;\r\n        var selector = this._activeStateUnit;\r\n        var namespace = \"UIFeedback\";\r\n        var $el = this._eventBindingTarget();\r\n        _short.hover.off($el, {\r\n            selector: selector,\r\n            namespace: namespace\r\n        });\r\n        if (hoverStateEnabled) {\r\n            _short.hover.on($el, new _action.default(function(_ref2) {\r\n                var event = _ref2.event,\r\n                    element = _ref2.element;\r\n                _this6._hoverStartHandler(event);\r\n                _this6.option(\"hoveredElement\", (0, _renderer.default)(element))\r\n            }, {\r\n                excludeValidators: [\"readOnly\"]\r\n            }), function(event) {\r\n                _this6.option(\"hoveredElement\", null);\r\n                _this6._hoverEndHandler(event)\r\n            }, {\r\n                selector: selector,\r\n                namespace: namespace\r\n            })\r\n        }\r\n    },\r\n    _attachFeedbackEvents: function() {\r\n        var _this7 = this;\r\n        var _this$option9 = this.option(),\r\n            activeStateEnabled = _this$option9.activeStateEnabled;\r\n        var selector = this._activeStateUnit;\r\n        var namespace = \"UIFeedback\";\r\n        var $el = this._eventBindingTarget();\r\n        _short.active.off($el, {\r\n            namespace: namespace,\r\n            selector: selector\r\n        });\r\n        if (activeStateEnabled) {\r\n            _short.active.on($el, new _action.default(function(_ref3) {\r\n                var event = _ref3.event,\r\n                    element = _ref3.element;\r\n                return _this7._toggleActiveState((0, _renderer.default)(element), true, event)\r\n            }), new _action.default(function(_ref4) {\r\n                var event = _ref4.event,\r\n                    element = _ref4.element;\r\n                return _this7._toggleActiveState((0, _renderer.default)(element), false, event)\r\n            }, {\r\n                excludeValidators: [\"disabled\", \"readOnly\"]\r\n            }), {\r\n                showTimeout: this._feedbackShowTimeout,\r\n                hideTimeout: this._feedbackHideTimeout,\r\n                selector: selector,\r\n                namespace: namespace\r\n            })\r\n        }\r\n    },\r\n    _detachFocusEvents: function() {\r\n        var $el = this._focusEventTarget();\r\n        _short.focus.off($el, {\r\n            namespace: \"\".concat(this.NAME, \"Focus\")\r\n        })\r\n    },\r\n    _attachFocusEvents: function() {\r\n        var _this8 = this;\r\n        var $el = this._focusEventTarget();\r\n        _short.focus.on($el, function(e) {\r\n            return _this8._focusInHandler(e)\r\n        }, function(e) {\r\n            return _this8._focusOutHandler(e)\r\n        }, {\r\n            namespace: \"\".concat(this.NAME, \"Focus\"),\r\n            isFocusable: function(index, el) {\r\n                return (0, _renderer.default)(el).is(_selectors.focusable)\r\n            }\r\n        })\r\n    },\r\n    _hoverStartHandler: _common.noop,\r\n    _hoverEndHandler: _common.noop,\r\n    _toggleActiveState: function($element, value) {\r\n        this.option(\"isActive\", value);\r\n        $element.toggleClass(\"dx-state-active\", value)\r\n    },\r\n    _updatedHover: function() {\r\n        var hoveredElement = this._options.silent(\"hoveredElement\");\r\n        this._hover(hoveredElement, hoveredElement)\r\n    },\r\n    _findHoverTarget: function($el) {\r\n        return $el && $el.closest(this._activeStateUnit || this._eventBindingTarget())\r\n    },\r\n    _hover: function($el, $previous) {\r\n        var _this$option10 = this.option(),\r\n            hoverStateEnabled = _this$option10.hoverStateEnabled,\r\n            disabled = _this$option10.disabled,\r\n            isActive = _this$option10.isActive;\r\n        $previous = this._findHoverTarget($previous);\r\n        $previous && $previous.toggleClass(\"dx-state-hover\", false);\r\n        if ($el && hoverStateEnabled && !disabled && !isActive) {\r\n            var newHoveredElement = this._findHoverTarget($el);\r\n            newHoveredElement && newHoveredElement.toggleClass(\"dx-state-hover\", true)\r\n        }\r\n    },\r\n    _toggleDisabledState: function(value) {\r\n        this.$element().toggleClass(\"dx-state-disabled\", Boolean(value));\r\n        this.setAria(\"disabled\", value || void 0)\r\n    },\r\n    _toggleIndependentState: function() {\r\n        this.$element().toggleClass(\"dx-state-independent\", this.option(\"ignoreParentReadOnly\"))\r\n    },\r\n    _setWidgetOption: function(widgetName, args) {\r\n        var _this9 = this;\r\n        if (!this[widgetName]) {\r\n            return\r\n        }\r\n        if ((0, _type.isPlainObject)(args[0])) {\r\n            (0, _iterator.each)(args[0], function(option, value) {\r\n                return _this9._setWidgetOption(widgetName, [option, value])\r\n            });\r\n            return\r\n        }\r\n        var optionName = args[0];\r\n        var value = args[1];\r\n        if (1 === args.length) {\r\n            value = this.option(optionName)\r\n        }\r\n        var widgetOptionMap = this[\"\".concat(widgetName, \"OptionMap\")];\r\n        this[widgetName].option(widgetOptionMap ? widgetOptionMap(optionName) : optionName, value)\r\n    },\r\n    _optionChanged: function(args) {\r\n        var name = args.name,\r\n            value = args.value,\r\n            previousValue = args.previousValue;\r\n        switch (name) {\r\n            case \"disabled\":\r\n                this._toggleDisabledState(value);\r\n                this._updatedHover();\r\n                this._refreshFocusState();\r\n                break;\r\n            case \"hint\":\r\n                this._renderHint();\r\n                break;\r\n            case \"ignoreParentReadOnly\":\r\n                this._toggleIndependentState();\r\n                break;\r\n            case \"activeStateEnabled\":\r\n                this._attachFeedbackEvents();\r\n                break;\r\n            case \"hoverStateEnabled\":\r\n                this._attachHoverEvents();\r\n                this._updatedHover();\r\n                break;\r\n            case \"tabIndex\":\r\n            case \"focusStateEnabled\":\r\n                this._refreshFocusState();\r\n                break;\r\n            case \"onFocusIn\":\r\n            case \"onFocusOut\":\r\n                break;\r\n            case \"accessKey\":\r\n                this._renderAccessKey();\r\n                break;\r\n            case \"hoveredElement\":\r\n                this._hover(value, previousValue);\r\n                break;\r\n            case \"isActive\":\r\n                this._updatedHover();\r\n                break;\r\n            case \"visible\":\r\n                this._toggleVisibility(value);\r\n                if (this._isVisibilityChangeSupported()) {\r\n                    this._checkVisibilityChanged(value ? \"shown\" : \"hiding\")\r\n                }\r\n                break;\r\n            case \"onKeyboardHandled\":\r\n                this._attachKeyboardEvents();\r\n                break;\r\n            case \"onContentReady\":\r\n                this._initContentReadyAction();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _isVisible: function() {\r\n        var _this$option11 = this.option(),\r\n            visible = _this$option11.visible;\r\n        return this.callBase() && visible\r\n    },\r\n    beginUpdate: function() {\r\n        this._ready(false);\r\n        this.callBase()\r\n    },\r\n    endUpdate: function() {\r\n        this.callBase();\r\n        if (this._initialized) {\r\n            this._ready(true)\r\n        }\r\n    },\r\n    _ready: function(value) {\r\n        if (0 === arguments.length) {\r\n            return this._isReady\r\n        }\r\n        this._isReady = value\r\n    },\r\n    setAria: function() {\r\n        if (!(0, _type.isPlainObject)(arguments.length <= 0 ? void 0 : arguments[0])) {\r\n            setAttribute(arguments.length <= 0 ? void 0 : arguments[0], arguments.length <= 1 ? void 0 : arguments[1], (arguments.length <= 2 ? void 0 : arguments[2]) || this._getAriaTarget())\r\n        } else {\r\n            var target = (arguments.length <= 1 ? void 0 : arguments[1]) || this._getAriaTarget();\r\n            (0, _iterator.each)(arguments.length <= 0 ? void 0 : arguments[0], function(name, value) {\r\n                return setAttribute(name, value, target)\r\n            })\r\n        }\r\n    },\r\n    isReady: function() {\r\n        return this._ready()\r\n    },\r\n    repaint: function() {\r\n        this._refresh()\r\n    },\r\n    focus: function() {\r\n        _short.focus.trigger(this._focusTarget())\r\n    },\r\n    registerKeyHandler: function(key, handler) {\r\n        var currentKeys = this._supportedKeys();\r\n        this._supportedKeys = function() {\r\n            return (0, _extend2.extend)(currentKeys, _defineProperty({}, key, handler))\r\n        }\r\n    }\r\n});\r\nWidget.getOptionsFromContainer = function(_ref5) {\r\n    var name = _ref5.name,\r\n        fullName = _ref5.fullName,\r\n        value = _ref5.value;\r\n    var options = {};\r\n    if (name === fullName) {\r\n        options = value\r\n    } else {\r\n        var option = fullName.split(\".\").pop();\r\n        options[option] = value\r\n    }\r\n    return options\r\n};\r\nvar _default = Widget;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n"]},"metadata":{},"sourceType":"script"}