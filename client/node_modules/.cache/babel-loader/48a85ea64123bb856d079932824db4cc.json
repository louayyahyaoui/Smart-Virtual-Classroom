{"ast":null,"code":"/**\r\n * DevExtreme (core/utils/ajax.js)\r\n * Version: 20.2.6\r\n * Build date: Tue Mar 16 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.default = void 0;\n\nvar _deferred = require(\"./deferred\");\n\nvar _dom_adapter = _interopRequireDefault(require(\"../../core/dom_adapter\"));\n\nvar _http_request = _interopRequireDefault(require(\"../../core/http_request\"));\n\nvar _window = require(\"../../core/utils/window\");\n\nvar _extend = require(\"./extend\");\n\nvar _type = require(\"./type\");\n\nvar _promise = _interopRequireDefault(require(\"../polyfills/promise\"));\n\nvar _dependency_injector = _interopRequireDefault(require(\"./dependency_injector\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar window = (0, _window.getWindow)();\nvar SUCCESS = \"success\";\nvar ERROR = \"error\";\nvar TIMEOUT = \"timeout\";\nvar NO_CONTENT = \"nocontent\";\nvar PARSER_ERROR = \"parsererror\";\n\nvar isStatusSuccess = function (status) {\n  return 200 <= status && status < 300;\n};\n\nvar hasContent = function (status) {\n  return 204 !== status;\n};\n\nvar paramsConvert = function (params) {\n  var result = [];\n\n  for (var name in params) {\n    var value = params[name];\n\n    if (void 0 === value) {\n      continue;\n    }\n\n    if (null === value) {\n      value = \"\";\n    }\n\n    if (\"function\" === typeof value) {\n      value = value();\n    }\n\n    result.push(encodeURIComponent(name) + \"=\" + encodeURIComponent(value));\n  }\n\n  return result.join(\"&\");\n};\n\nvar createScript = function (options) {\n  var script = _dom_adapter.default.createElement(\"script\");\n\n  for (var name in options) {\n    script[name] = options[name];\n  }\n\n  return script;\n};\n\nvar removeScript = function (scriptNode) {\n  scriptNode.parentNode.removeChild(scriptNode);\n};\n\nvar appendToHead = function (element) {\n  return _dom_adapter.default.getHead().appendChild(element);\n};\n\nvar evalScript = function (code) {\n  var script = createScript({\n    text: code\n  });\n  appendToHead(script);\n  removeScript(script);\n};\n\nvar evalCrossDomainScript = function (url) {\n  var script = createScript({\n    src: url\n  });\n  return new _promise.default(function (resolve, reject) {\n    var events = {\n      load: resolve,\n      error: reject\n    };\n\n    var loadHandler = function (e) {\n      events[e.type]();\n      removeScript(script);\n    };\n\n    for (var event in events) {\n      _dom_adapter.default.listen(script, event, loadHandler);\n    }\n\n    appendToHead(script);\n  });\n};\n\nvar getAcceptHeader = function (options) {\n  var dataType = options.dataType || \"*\";\n  var scriptAccept = \"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\";\n  var accepts = {\n    \"*\": \"*/*\",\n    text: \"text/plain\",\n    html: \"text/html\",\n    xml: \"application/xml, text/xml\",\n    json: \"application/json, text/javascript\",\n    jsonp: scriptAccept,\n    script: scriptAccept\n  };\n  (0, _extend.extendFromObject)(accepts, options.accepts, true);\n  return accepts[dataType] ? accepts[dataType] + (\"*\" !== dataType ? \", */*; q=0.01\" : \"\") : accepts[\"*\"];\n};\n\nvar getContentTypeHeader = function (options) {\n  var defaultContentType;\n\n  if (options.data && !options.upload && \"GET\" !== getMethod(options)) {\n    defaultContentType = \"application/x-www-form-urlencoded;charset=utf-8\";\n  }\n\n  return options.contentType || defaultContentType;\n};\n\nvar getDataFromResponse = function (xhr) {\n  return xhr.responseType && \"text\" !== xhr.responseType || \"string\" !== typeof xhr.responseText ? xhr.response : xhr.responseText;\n};\n\nvar postProcess = function (deferred, xhr, dataType) {\n  var data = getDataFromResponse(xhr);\n\n  switch (dataType) {\n    case \"jsonp\":\n      evalScript(data);\n      break;\n\n    case \"script\":\n      evalScript(data);\n      deferred.resolve(data, SUCCESS, xhr);\n      break;\n\n    case \"json\":\n      try {\n        deferred.resolve(JSON.parse(data), SUCCESS, xhr);\n      } catch (e) {\n        deferred.reject(xhr, PARSER_ERROR, e);\n      }\n\n      break;\n\n    default:\n      deferred.resolve(data, SUCCESS, xhr);\n  }\n};\n\nvar isCrossDomain = function (url) {\n  if (!(0, _window.hasWindow)()) {\n    return true;\n  }\n\n  var crossDomain = false;\n\n  var originAnchor = _dom_adapter.default.createElement(\"a\");\n\n  var urlAnchor = _dom_adapter.default.createElement(\"a\");\n\n  originAnchor.href = window.location.href;\n\n  try {\n    urlAnchor.href = url;\n    urlAnchor.href = urlAnchor.href;\n    crossDomain = originAnchor.protocol + \"//\" + originAnchor.host !== urlAnchor.protocol + \"//\" + urlAnchor.host;\n  } catch (e) {\n    crossDomain = true;\n  }\n\n  return crossDomain;\n};\n\nvar setHttpTimeout = function (timeout, xhr) {\n  return timeout && setTimeout(function () {\n    xhr.customStatus = TIMEOUT;\n    xhr.abort();\n  }, timeout);\n};\n\nvar getJsonpOptions = function (options) {\n  if (\"jsonp\" === options.dataType) {\n    var random = Math.random().toString().replace(/\\D/g, \"\");\n    var callbackName = options.jsonpCallback || \"dxCallback\" + Date.now() + \"_\" + random;\n    var callbackParameter = options.jsonp || \"callback\";\n    options.data = options.data || {};\n    options.data[callbackParameter] = callbackName;\n    return callbackName;\n  }\n};\n\nvar getRequestOptions = function (options, headers) {\n  var params = options.data;\n  var paramsAlreadyString = \"string\" === typeof params;\n  var url = options.url || window.location.href;\n\n  if (!paramsAlreadyString && !options.cache) {\n    params = params || {};\n    params._ = Date.now();\n  }\n\n  if (params && !options.upload) {\n    if (!paramsAlreadyString) {\n      params = paramsConvert(params);\n    }\n\n    if (\"GET\" === getMethod(options)) {\n      if (\"\" !== params) {\n        url += (url.indexOf(\"?\") > -1 ? \"&\" : \"?\") + params;\n      }\n\n      params = null;\n    } else {\n      if (headers[\"Content-Type\"] && headers[\"Content-Type\"].indexOf(\"application/x-www-form-urlencoded\") > -1) {\n        params = params.replace(/%20/g, \"+\");\n      }\n    }\n  }\n\n  return {\n    url: url,\n    parameters: params\n  };\n};\n\nfunction getMethod(options) {\n  return (options.method || \"GET\").toUpperCase();\n}\n\nvar getRequestHeaders = function (options) {\n  var headers = options.headers || {};\n  headers[\"Content-Type\"] = headers[\"Content-Type\"] || getContentTypeHeader(options);\n  headers.Accept = headers.Accept || getAcceptHeader(options);\n\n  if (!options.crossDomain && !headers[\"X-Requested-With\"]) {\n    headers[\"X-Requested-With\"] = \"XMLHttpRequest\";\n  }\n\n  return headers;\n};\n\nvar sendRequest = function (options) {\n  var xhr = _http_request.default.getXhr();\n\n  var d = new _deferred.Deferred();\n  var result = d.promise();\n  var async = (0, _type.isDefined)(options.async) ? options.async : true;\n  var dataType = options.dataType;\n  var timeout = options.timeout || 0;\n  var timeoutId;\n  options.crossDomain = isCrossDomain(options.url);\n  var needScriptEvaluation = \"jsonp\" === dataType || \"script\" === dataType;\n\n  if (void 0 === options.cache) {\n    options.cache = !needScriptEvaluation;\n  }\n\n  var callbackName = getJsonpOptions(options);\n  var headers = getRequestHeaders(options);\n  var requestOptions = getRequestOptions(options, headers);\n  var url = requestOptions.url;\n  var parameters = requestOptions.parameters;\n\n  if (callbackName) {\n    window[callbackName] = function (data) {\n      d.resolve(data, SUCCESS, xhr);\n    };\n  }\n\n  if (options.crossDomain && needScriptEvaluation) {\n    var reject = function () {\n      d.reject(xhr, ERROR);\n    };\n\n    var resolve = function () {\n      if (\"jsonp\" === dataType) {\n        return;\n      }\n\n      d.resolve(null, SUCCESS, xhr);\n    };\n\n    evalCrossDomainScript(url).then(resolve, reject);\n    return result;\n  }\n\n  if (options.crossDomain && !(\"withCredentials\" in xhr)) {\n    d.reject(xhr, ERROR);\n    return result;\n  }\n\n  xhr.open(getMethod(options), url, async, options.username, options.password);\n\n  if (async) {\n    xhr.timeout = timeout;\n    timeoutId = setHttpTimeout(timeout, xhr, d);\n  }\n\n  xhr.onreadystatechange = function (e) {\n    if (4 === xhr.readyState) {\n      clearTimeout(timeoutId);\n\n      if (isStatusSuccess(xhr.status)) {\n        if (hasContent(xhr.status)) {\n          postProcess(d, xhr, dataType);\n        } else {\n          d.resolve(null, NO_CONTENT, xhr);\n        }\n      } else {\n        d.reject(xhr, xhr.customStatus || ERROR);\n      }\n    }\n  };\n\n  if (options.upload) {\n    xhr.upload.onprogress = options.upload.onprogress;\n    xhr.upload.onloadstart = options.upload.onloadstart;\n    xhr.upload.onabort = options.upload.onabort;\n  }\n\n  if (options.xhrFields) {\n    for (var field in options.xhrFields) {\n      xhr[field] = options.xhrFields[field];\n    }\n  }\n\n  if (\"arraybuffer\" === options.responseType) {\n    xhr.responseType = options.responseType;\n  }\n\n  for (var name in headers) {\n    if (Object.prototype.hasOwnProperty.call(headers, name) && (0, _type.isDefined)(headers[name])) {\n      xhr.setRequestHeader(name, headers[name]);\n    }\n  }\n\n  if (options.beforeSend) {\n    options.beforeSend(xhr);\n  }\n\n  xhr.send(parameters);\n\n  result.abort = function () {\n    xhr.abort();\n  };\n\n  return result;\n};\n\nvar _default = (0, _dependency_injector.default)({\n  sendRequest: sendRequest\n});\n\nexports.default = _default;\nmodule.exports = exports.default;","map":{"version":3,"sources":["C:/Smart-Virtual-Classroom/client/node_modules/devextreme/core/utils/ajax.js"],"names":["exports","default","_deferred","require","_dom_adapter","_interopRequireDefault","_http_request","_window","_extend","_type","_promise","_dependency_injector","obj","__esModule","window","getWindow","SUCCESS","ERROR","TIMEOUT","NO_CONTENT","PARSER_ERROR","isStatusSuccess","status","hasContent","paramsConvert","params","result","name","value","push","encodeURIComponent","join","createScript","options","script","createElement","removeScript","scriptNode","parentNode","removeChild","appendToHead","element","getHead","appendChild","evalScript","code","text","evalCrossDomainScript","url","src","resolve","reject","events","load","error","loadHandler","e","type","event","listen","getAcceptHeader","dataType","scriptAccept","accepts","html","xml","json","jsonp","extendFromObject","getContentTypeHeader","defaultContentType","data","upload","getMethod","contentType","getDataFromResponse","xhr","responseType","responseText","response","postProcess","deferred","JSON","parse","isCrossDomain","hasWindow","crossDomain","originAnchor","urlAnchor","href","location","protocol","host","setHttpTimeout","timeout","setTimeout","customStatus","abort","getJsonpOptions","random","Math","toString","replace","callbackName","jsonpCallback","Date","now","callbackParameter","getRequestOptions","headers","paramsAlreadyString","cache","_","indexOf","parameters","method","toUpperCase","getRequestHeaders","Accept","sendRequest","getXhr","d","Deferred","promise","async","isDefined","timeoutId","needScriptEvaluation","requestOptions","then","open","username","password","onreadystatechange","readyState","clearTimeout","onprogress","onloadstart","onabort","xhrFields","field","Object","prototype","hasOwnProperty","call","setRequestHeader","beforeSend","send","_default","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (core/utils/ajax.js)\r\n * Version: 20.2.6\r\n * Build date: Tue Mar 16 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _deferred = require(\"./deferred\");\r\nvar _dom_adapter = _interopRequireDefault(require(\"../../core/dom_adapter\"));\r\nvar _http_request = _interopRequireDefault(require(\"../../core/http_request\"));\r\nvar _window = require(\"../../core/utils/window\");\r\nvar _extend = require(\"./extend\");\r\nvar _type = require(\"./type\");\r\nvar _promise = _interopRequireDefault(require(\"../polyfills/promise\"));\r\nvar _dependency_injector = _interopRequireDefault(require(\"./dependency_injector\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar window = (0, _window.getWindow)();\r\nvar SUCCESS = \"success\";\r\nvar ERROR = \"error\";\r\nvar TIMEOUT = \"timeout\";\r\nvar NO_CONTENT = \"nocontent\";\r\nvar PARSER_ERROR = \"parsererror\";\r\nvar isStatusSuccess = function(status) {\r\n    return 200 <= status && status < 300\r\n};\r\nvar hasContent = function(status) {\r\n    return 204 !== status\r\n};\r\nvar paramsConvert = function(params) {\r\n    var result = [];\r\n    for (var name in params) {\r\n        var value = params[name];\r\n        if (void 0 === value) {\r\n            continue\r\n        }\r\n        if (null === value) {\r\n            value = \"\"\r\n        }\r\n        if (\"function\" === typeof value) {\r\n            value = value()\r\n        }\r\n        result.push(encodeURIComponent(name) + \"=\" + encodeURIComponent(value))\r\n    }\r\n    return result.join(\"&\")\r\n};\r\nvar createScript = function(options) {\r\n    var script = _dom_adapter.default.createElement(\"script\");\r\n    for (var name in options) {\r\n        script[name] = options[name]\r\n    }\r\n    return script\r\n};\r\nvar removeScript = function(scriptNode) {\r\n    scriptNode.parentNode.removeChild(scriptNode)\r\n};\r\nvar appendToHead = function(element) {\r\n    return _dom_adapter.default.getHead().appendChild(element)\r\n};\r\nvar evalScript = function(code) {\r\n    var script = createScript({\r\n        text: code\r\n    });\r\n    appendToHead(script);\r\n    removeScript(script)\r\n};\r\nvar evalCrossDomainScript = function(url) {\r\n    var script = createScript({\r\n        src: url\r\n    });\r\n    return new _promise.default(function(resolve, reject) {\r\n        var events = {\r\n            load: resolve,\r\n            error: reject\r\n        };\r\n        var loadHandler = function(e) {\r\n            events[e.type]();\r\n            removeScript(script)\r\n        };\r\n        for (var event in events) {\r\n            _dom_adapter.default.listen(script, event, loadHandler)\r\n        }\r\n        appendToHead(script)\r\n    })\r\n};\r\nvar getAcceptHeader = function(options) {\r\n    var dataType = options.dataType || \"*\";\r\n    var scriptAccept = \"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\";\r\n    var accepts = {\r\n        \"*\": \"*/*\",\r\n        text: \"text/plain\",\r\n        html: \"text/html\",\r\n        xml: \"application/xml, text/xml\",\r\n        json: \"application/json, text/javascript\",\r\n        jsonp: scriptAccept,\r\n        script: scriptAccept\r\n    };\r\n    (0, _extend.extendFromObject)(accepts, options.accepts, true);\r\n    return accepts[dataType] ? accepts[dataType] + (\"*\" !== dataType ? \", */*; q=0.01\" : \"\") : accepts[\"*\"]\r\n};\r\nvar getContentTypeHeader = function(options) {\r\n    var defaultContentType;\r\n    if (options.data && !options.upload && \"GET\" !== getMethod(options)) {\r\n        defaultContentType = \"application/x-www-form-urlencoded;charset=utf-8\"\r\n    }\r\n    return options.contentType || defaultContentType\r\n};\r\nvar getDataFromResponse = function(xhr) {\r\n    return xhr.responseType && \"text\" !== xhr.responseType || \"string\" !== typeof xhr.responseText ? xhr.response : xhr.responseText\r\n};\r\nvar postProcess = function(deferred, xhr, dataType) {\r\n    var data = getDataFromResponse(xhr);\r\n    switch (dataType) {\r\n        case \"jsonp\":\r\n            evalScript(data);\r\n            break;\r\n        case \"script\":\r\n            evalScript(data);\r\n            deferred.resolve(data, SUCCESS, xhr);\r\n            break;\r\n        case \"json\":\r\n            try {\r\n                deferred.resolve(JSON.parse(data), SUCCESS, xhr)\r\n            } catch (e) {\r\n                deferred.reject(xhr, PARSER_ERROR, e)\r\n            }\r\n            break;\r\n        default:\r\n            deferred.resolve(data, SUCCESS, xhr)\r\n    }\r\n};\r\nvar isCrossDomain = function(url) {\r\n    if (!(0, _window.hasWindow)()) {\r\n        return true\r\n    }\r\n    var crossDomain = false;\r\n    var originAnchor = _dom_adapter.default.createElement(\"a\");\r\n    var urlAnchor = _dom_adapter.default.createElement(\"a\");\r\n    originAnchor.href = window.location.href;\r\n    try {\r\n        urlAnchor.href = url;\r\n        urlAnchor.href = urlAnchor.href;\r\n        crossDomain = originAnchor.protocol + \"//\" + originAnchor.host !== urlAnchor.protocol + \"//\" + urlAnchor.host\r\n    } catch (e) {\r\n        crossDomain = true\r\n    }\r\n    return crossDomain\r\n};\r\nvar setHttpTimeout = function(timeout, xhr) {\r\n    return timeout && setTimeout(function() {\r\n        xhr.customStatus = TIMEOUT;\r\n        xhr.abort()\r\n    }, timeout)\r\n};\r\nvar getJsonpOptions = function(options) {\r\n    if (\"jsonp\" === options.dataType) {\r\n        var random = Math.random().toString().replace(/\\D/g, \"\");\r\n        var callbackName = options.jsonpCallback || \"dxCallback\" + Date.now() + \"_\" + random;\r\n        var callbackParameter = options.jsonp || \"callback\";\r\n        options.data = options.data || {};\r\n        options.data[callbackParameter] = callbackName;\r\n        return callbackName\r\n    }\r\n};\r\nvar getRequestOptions = function(options, headers) {\r\n    var params = options.data;\r\n    var paramsAlreadyString = \"string\" === typeof params;\r\n    var url = options.url || window.location.href;\r\n    if (!paramsAlreadyString && !options.cache) {\r\n        params = params || {};\r\n        params._ = Date.now()\r\n    }\r\n    if (params && !options.upload) {\r\n        if (!paramsAlreadyString) {\r\n            params = paramsConvert(params)\r\n        }\r\n        if (\"GET\" === getMethod(options)) {\r\n            if (\"\" !== params) {\r\n                url += (url.indexOf(\"?\") > -1 ? \"&\" : \"?\") + params\r\n            }\r\n            params = null\r\n        } else {\r\n            if (headers[\"Content-Type\"] && headers[\"Content-Type\"].indexOf(\"application/x-www-form-urlencoded\") > -1) {\r\n                params = params.replace(/%20/g, \"+\")\r\n            }\r\n        }\r\n    }\r\n    return {\r\n        url: url,\r\n        parameters: params\r\n    }\r\n};\r\n\r\nfunction getMethod(options) {\r\n    return (options.method || \"GET\").toUpperCase()\r\n}\r\nvar getRequestHeaders = function(options) {\r\n    var headers = options.headers || {};\r\n    headers[\"Content-Type\"] = headers[\"Content-Type\"] || getContentTypeHeader(options);\r\n    headers.Accept = headers.Accept || getAcceptHeader(options);\r\n    if (!options.crossDomain && !headers[\"X-Requested-With\"]) {\r\n        headers[\"X-Requested-With\"] = \"XMLHttpRequest\"\r\n    }\r\n    return headers\r\n};\r\nvar sendRequest = function(options) {\r\n    var xhr = _http_request.default.getXhr();\r\n    var d = new _deferred.Deferred;\r\n    var result = d.promise();\r\n    var async = (0, _type.isDefined)(options.async) ? options.async : true;\r\n    var dataType = options.dataType;\r\n    var timeout = options.timeout || 0;\r\n    var timeoutId;\r\n    options.crossDomain = isCrossDomain(options.url);\r\n    var needScriptEvaluation = \"jsonp\" === dataType || \"script\" === dataType;\r\n    if (void 0 === options.cache) {\r\n        options.cache = !needScriptEvaluation\r\n    }\r\n    var callbackName = getJsonpOptions(options);\r\n    var headers = getRequestHeaders(options);\r\n    var requestOptions = getRequestOptions(options, headers);\r\n    var url = requestOptions.url;\r\n    var parameters = requestOptions.parameters;\r\n    if (callbackName) {\r\n        window[callbackName] = function(data) {\r\n            d.resolve(data, SUCCESS, xhr)\r\n        }\r\n    }\r\n    if (options.crossDomain && needScriptEvaluation) {\r\n        var reject = function() {\r\n            d.reject(xhr, ERROR)\r\n        };\r\n        var resolve = function() {\r\n            if (\"jsonp\" === dataType) {\r\n                return\r\n            }\r\n            d.resolve(null, SUCCESS, xhr)\r\n        };\r\n        evalCrossDomainScript(url).then(resolve, reject);\r\n        return result\r\n    }\r\n    if (options.crossDomain && !(\"withCredentials\" in xhr)) {\r\n        d.reject(xhr, ERROR);\r\n        return result\r\n    }\r\n    xhr.open(getMethod(options), url, async, options.username, options.password);\r\n    if (async) {\r\n        xhr.timeout = timeout;\r\n        timeoutId = setHttpTimeout(timeout, xhr, d)\r\n    }\r\n    xhr.onreadystatechange = function(e) {\r\n        if (4 === xhr.readyState) {\r\n            clearTimeout(timeoutId);\r\n            if (isStatusSuccess(xhr.status)) {\r\n                if (hasContent(xhr.status)) {\r\n                    postProcess(d, xhr, dataType)\r\n                } else {\r\n                    d.resolve(null, NO_CONTENT, xhr)\r\n                }\r\n            } else {\r\n                d.reject(xhr, xhr.customStatus || ERROR)\r\n            }\r\n        }\r\n    };\r\n    if (options.upload) {\r\n        xhr.upload.onprogress = options.upload.onprogress;\r\n        xhr.upload.onloadstart = options.upload.onloadstart;\r\n        xhr.upload.onabort = options.upload.onabort\r\n    }\r\n    if (options.xhrFields) {\r\n        for (var field in options.xhrFields) {\r\n            xhr[field] = options.xhrFields[field]\r\n        }\r\n    }\r\n    if (\"arraybuffer\" === options.responseType) {\r\n        xhr.responseType = options.responseType\r\n    }\r\n    for (var name in headers) {\r\n        if (Object.prototype.hasOwnProperty.call(headers, name) && (0, _type.isDefined)(headers[name])) {\r\n            xhr.setRequestHeader(name, headers[name])\r\n        }\r\n    }\r\n    if (options.beforeSend) {\r\n        options.beforeSend(xhr)\r\n    }\r\n    xhr.send(parameters);\r\n    result.abort = function() {\r\n        xhr.abort()\r\n    };\r\n    return result\r\n};\r\nvar _default = (0, _dependency_injector.default)({\r\n    sendRequest: sendRequest\r\n});\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n"]},"metadata":{},"sourceType":"script"}