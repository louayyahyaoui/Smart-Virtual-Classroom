{"ast":null,"code":"/**\r\n * DevExtreme (ui/popover.js)\r\n * Version: 20.2.6\r\n * Build date: Tue Mar 16 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.default = void 0;\n\nvar _renderer = _interopRequireDefault(require(\"../core/renderer\"));\n\nvar _window = require(\"../core/utils/window\");\n\nvar _element = require(\"../core/element\");\n\nvar _dom_adapter = _interopRequireDefault(require(\"../core/dom_adapter\"));\n\nvar _events_engine = _interopRequireDefault(require(\"../events/core/events_engine\"));\n\nvar _component_registrator = _interopRequireDefault(require(\"../core/component_registrator\"));\n\nvar _common = require(\"../core/utils/common\");\n\nvar _extend = require(\"../core/utils/extend\");\n\nvar _translator = require(\"../animation/translator\");\n\nvar _position = _interopRequireDefault(require(\"../animation/position\"));\n\nvar _type = require(\"../core/utils/type\");\n\nvar _math = require(\"../core/utils/math\");\n\nvar _index = require(\"../events/utils/index\");\n\nvar _popup = _interopRequireDefault(require(\"./popup\"));\n\nvar _position2 = require(\"../core/utils/position\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nvar window = (0, _window.getWindow)();\nvar POPOVER_CLASS = \"dx-popover\";\nvar POPOVER_WRAPPER_CLASS = \"dx-popover-wrapper\";\nvar POPOVER_ARROW_CLASS = \"dx-popover-arrow\";\nvar POPOVER_WITHOUT_TITLE_CLASS = \"dx-popover-without-title\";\nvar POSITION_FLIP_MAP = {\n  left: \"right\",\n  top: \"bottom\",\n  right: \"left\",\n  bottom: \"top\",\n  center: \"center\"\n};\nvar WEIGHT_OF_SIDES = {\n  left: -1,\n  top: -1,\n  center: 0,\n  right: 1,\n  bottom: 1\n};\nvar POSITION_ALIASES = {\n  top: {\n    my: \"bottom center\",\n    at: \"top center\",\n    collision: \"fit flip\"\n  },\n  bottom: {\n    my: \"top center\",\n    at: \"bottom center\",\n    collision: \"fit flip\"\n  },\n  right: {\n    my: \"left center\",\n    at: \"right center\",\n    collision: \"flip fit\"\n  },\n  left: {\n    my: \"right center\",\n    at: \"left center\",\n    collision: \"flip fit\"\n  }\n};\nvar SIDE_BORDER_WIDTH_STYLES = {\n  left: \"borderLeftWidth\",\n  top: \"borderTopWidth\",\n  right: \"borderRightWidth\",\n  bottom: \"borderBottomWidth\"\n};\n\nvar getEventNameByOption = function (optionValue) {\n  return (0, _type.isObject)(optionValue) ? optionValue.name : optionValue;\n};\n\nvar getEventName = function (that, optionName) {\n  var optionValue = that.option(optionName);\n  return getEventNameByOption(optionValue);\n};\n\nvar getEventDelay = function (that, optionName) {\n  var optionValue = that.option(optionName);\n  return (0, _type.isObject)(optionValue) && optionValue.delay;\n};\n\nvar attachEvent = function (that, name) {\n  var target = that.option(\"target\");\n  var isSelector = (0, _type.isString)(target);\n  var event = getEventName(that, name + \"Event\");\n\n  if (!event || that.option(\"disabled\")) {\n    return;\n  }\n\n  var eventName = (0, _index.addNamespace)(event, that.NAME);\n\n  var action = that._createAction(function () {\n    var delay = getEventDelay(that, name + \"Event\");\n\n    this._clearEventsTimeouts();\n\n    if (delay) {\n      this._timeouts[name] = setTimeout(function () {\n        that[name]();\n      }, delay);\n    } else {\n      that[name]();\n    }\n  }.bind(that), {\n    validatingTargetName: \"target\"\n  });\n\n  var handler = function (e) {\n    action({\n      event: e,\n      target: (0, _renderer.default)(e.currentTarget)\n    });\n  };\n\n  var EVENT_HANDLER_NAME = \"_\" + name + \"EventHandler\";\n\n  if (isSelector) {\n    that[EVENT_HANDLER_NAME] = handler;\n\n    _events_engine.default.on(_dom_adapter.default.getDocument(), eventName, target, handler);\n  } else {\n    var targetElement = (0, _element.getPublicElement)((0, _renderer.default)(target));\n    that[EVENT_HANDLER_NAME] = void 0;\n\n    _events_engine.default.on(targetElement, eventName, handler);\n  }\n};\n\nvar detachEvent = function (that, target, name, event) {\n  var eventName = event || getEventName(that, name + \"Event\");\n\n  if (!eventName) {\n    return;\n  }\n\n  eventName = (0, _index.addNamespace)(eventName, that.NAME);\n  var EVENT_HANDLER_NAME = \"_\" + name + \"EventHandler\";\n\n  if (that[EVENT_HANDLER_NAME]) {\n    _events_engine.default.off(_dom_adapter.default.getDocument(), eventName, target, that[EVENT_HANDLER_NAME]);\n  } else {\n    _events_engine.default.off((0, _element.getPublicElement)((0, _renderer.default)(target)), eventName);\n  }\n};\n\nvar Popover = _popup.default.inherit({\n  _getDefaultOptions: function () {\n    return (0, _extend.extend)(this.callBase(), {\n      target: window,\n      shading: false,\n      position: \"bottom\",\n      closeOnOutsideClick: true,\n      animation: {\n        show: {\n          type: \"fade\",\n          from: 0,\n          to: 1\n        },\n        hide: {\n          type: \"fade\",\n          to: 0\n        }\n      },\n      showTitle: false,\n      width: \"auto\",\n      height: \"auto\",\n      dragEnabled: false,\n      resizeEnabled: false,\n      fullScreen: false,\n      closeOnTargetScroll: true,\n      arrowPosition: \"\",\n      arrowOffset: 0,\n      boundaryOffset: {\n        h: 10,\n        v: 10\n      },\n      _fixedPosition: true\n    });\n  },\n  _defaultOptionsRules: function () {\n    return [{\n      device: {\n        platform: \"ios\"\n      },\n      options: {\n        arrowPosition: {\n          boundaryOffset: {\n            h: 20,\n            v: -10\n          },\n          collision: \"fit\"\n        }\n      }\n    }, {\n      device: function () {\n        return !(0, _window.hasWindow)();\n      },\n      options: {\n        animation: null\n      }\n    }];\n  },\n  _init: function () {\n    this.callBase();\n\n    this._renderArrow();\n\n    this._timeouts = {};\n    this.$element().addClass(POPOVER_CLASS);\n\n    this._wrapper().addClass(POPOVER_WRAPPER_CLASS);\n  },\n  _render: function () {\n    this.callBase.apply(this, arguments);\n\n    this._detachEvents(this.option(\"target\"));\n\n    this._attachEvents();\n  },\n  _detachEvents: function (target) {\n    detachEvent(this, target, \"show\");\n    detachEvent(this, target, \"hide\");\n  },\n  _attachEvents: function () {\n    attachEvent(this, \"show\");\n    attachEvent(this, \"hide\");\n  },\n  _renderArrow: function () {\n    this._$arrow = (0, _renderer.default)(\"<div>\").addClass(POPOVER_ARROW_CLASS).prependTo(this.overlayContent());\n  },\n  _documentDownHandler: function (e) {\n    if (this._isOutsideClick(e)) {\n      return this.callBase(e);\n    }\n\n    return true;\n  },\n  _isOutsideClick: function (e) {\n    return !(0, _renderer.default)(e.target).closest(this.option(\"target\")).length;\n  },\n  _animate: function (animation) {\n    if (animation && animation.to && \"object\" === _typeof(animation.to)) {\n      (0, _extend.extend)(animation.to, {\n        position: this._getContainerPosition()\n      });\n    }\n\n    this.callBase.apply(this, arguments);\n  },\n  _stopAnimation: function () {\n    this.callBase.apply(this, arguments);\n  },\n  _renderTitle: function () {\n    this._wrapper().toggleClass(POPOVER_WITHOUT_TITLE_CLASS, !this.option(\"showTitle\"));\n\n    this.callBase();\n  },\n  _renderPosition: function () {\n    this.callBase();\n\n    this._renderOverlayPosition();\n  },\n  _renderOverlayBoundaryOffset: _common.noop,\n  _renderOverlayPosition: function () {\n    this._resetOverlayPosition();\n\n    this._updateContentSize();\n\n    var contentPosition = this._getContainerPosition();\n\n    var resultLocation = _position.default.setup(this._$content, contentPosition);\n\n    var positionSide = this._getSideByLocation(resultLocation);\n\n    this._togglePositionClass(\"dx-position-\" + positionSide);\n\n    this._toggleFlippedClass(resultLocation.h.flip, resultLocation.v.flip);\n\n    var isArrowVisible = this._isHorizontalSide() || this._isVerticalSide();\n\n    if (isArrowVisible) {\n      this._renderArrowPosition(positionSide);\n    }\n  },\n  _resetOverlayPosition: function () {\n    this._setContentHeight(true);\n\n    this._togglePositionClass(\"dx-position-\" + this._positionSide);\n\n    (0, _translator.move)(this._$content, {\n      left: 0,\n      top: 0\n    });\n\n    this._$arrow.css({\n      top: \"auto\",\n      right: \"auto\",\n      bottom: \"auto\",\n      left: \"auto\"\n    });\n  },\n  _updateContentSize: function () {\n    if (!this._$popupContent) {\n      return;\n    }\n\n    var containerLocation = _position.default.calculate(this._$content, this._getContainerPosition());\n\n    if (containerLocation.h.oversize > 0 && this._isHorizontalSide() && !containerLocation.h.fit) {\n      var newContainerWidth = this._$content.width() - containerLocation.h.oversize;\n\n      this._$content.width(newContainerWidth);\n    }\n\n    if (containerLocation.v.oversize > 0 && this._isVerticalSide() && !containerLocation.v.fit) {\n      var newOverlayContentHeight = this._$content.height() - containerLocation.v.oversize;\n      var newPopupContentHeight = this._$popupContent.height() - containerLocation.v.oversize;\n\n      this._$content.height(newOverlayContentHeight);\n\n      this._$popupContent.height(newPopupContentHeight);\n    }\n  },\n  _getContainerPosition: function () {\n    var offset = (0, _common.pairToObject)(this._position.offset || \"\");\n    var hOffset = offset.h;\n    var vOffset = offset.v;\n\n    var isVerticalSide = this._isVerticalSide();\n\n    var isHorizontalSide = this._isHorizontalSide();\n\n    if (isVerticalSide || isHorizontalSide) {\n      var isPopoverInside = this._isPopoverInside();\n\n      var sign = (isPopoverInside ? -1 : 1) * WEIGHT_OF_SIDES[this._positionSide];\n      var arrowSize = isVerticalSide ? this._$arrow.height() : this._$arrow.width();\n\n      var arrowSizeCorrection = this._getContentBorderWidth(this._positionSide);\n\n      var arrowOffset = sign * (arrowSize - arrowSizeCorrection);\n      isVerticalSide ? vOffset += arrowOffset : hOffset += arrowOffset;\n    }\n\n    return (0, _extend.extend)({}, this._position, {\n      offset: hOffset + \" \" + vOffset\n    });\n  },\n  _getContentBorderWidth: function (side) {\n    var borderWidth = this._$content.css(SIDE_BORDER_WIDTH_STYLES[side]);\n\n    return parseInt(borderWidth) || 0;\n  },\n  _getSideByLocation: function (location) {\n    var isFlippedByVertical = location.v.flip;\n    var isFlippedByHorizontal = location.h.flip;\n    return this._isVerticalSide() && isFlippedByVertical || this._isHorizontalSide() && isFlippedByHorizontal || this._isPopoverInside() ? POSITION_FLIP_MAP[this._positionSide] : this._positionSide;\n  },\n  _togglePositionClass: function (positionClass) {\n    this._$wrapper.removeClass(\"dx-position-left dx-position-right dx-position-top dx-position-bottom\").addClass(positionClass);\n  },\n  _toggleFlippedClass: function (isFlippedHorizontal, isFlippedVertical) {\n    this._$wrapper.toggleClass(\"dx-popover-flipped-horizontal\", isFlippedHorizontal).toggleClass(\"dx-popover-flipped-vertical\", isFlippedVertical);\n  },\n  _renderArrowPosition: function (side) {\n    var arrowRect = (0, _position2.getBoundingRect)(this._$arrow.get(0));\n    var arrowFlip = -(this._isVerticalSide(side) ? arrowRect.height : arrowRect.width);\n\n    this._$arrow.css(POSITION_FLIP_MAP[side], arrowFlip);\n\n    var axis = this._isVerticalSide(side) ? \"left\" : \"top\";\n    var sizeProperty = this._isVerticalSide(side) ? \"width\" : \"height\";\n    var $target = (0, _renderer.default)(this._position.of);\n    var targetOffset = _position.default.offset($target) || {\n      top: 0,\n      left: 0\n    };\n\n    var contentOffset = _position.default.offset(this._$content);\n\n    var arrowSize = arrowRect[sizeProperty];\n    var contentLocation = contentOffset[axis];\n    var contentSize = (0, _position2.getBoundingRect)(this._$content.get(0))[sizeProperty];\n    var targetLocation = targetOffset[axis];\n    var targetSize = $target.get(0).preventDefault ? 0 : (0, _position2.getBoundingRect)($target.get(0))[sizeProperty];\n    var min = Math.max(contentLocation, targetLocation);\n    var max = Math.min(contentLocation + contentSize, targetLocation + targetSize);\n    var arrowLocation;\n\n    if (\"start\" === this.option(\"arrowPosition\")) {\n      arrowLocation = min - contentLocation;\n    } else {\n      if (\"end\" === this.option(\"arrowPosition\")) {\n        arrowLocation = max - contentLocation - arrowSize;\n      } else {\n        arrowLocation = (min + max) / 2 - contentLocation - arrowSize / 2;\n      }\n    }\n\n    var borderWidth = this._getContentBorderWidth(side);\n\n    var finalArrowLocation = (0, _math.fitIntoRange)(arrowLocation - borderWidth + this.option(\"arrowOffset\"), borderWidth, contentSize - arrowSize - 2 * borderWidth);\n\n    this._$arrow.css(axis, finalArrowLocation);\n  },\n  _isPopoverInside: function () {\n    var position = this._transformStringPosition(this.option(\"position\"), POSITION_ALIASES);\n\n    var my = _position.default.setup.normalizeAlign(position.my);\n\n    var at = _position.default.setup.normalizeAlign(position.at);\n\n    return my.h === at.h && my.v === at.v;\n  },\n  _setContentHeight: function (fullUpdate) {\n    if (fullUpdate) {\n      this.callBase();\n    }\n  },\n  _renderWrapperPosition: function () {\n    if (this.option(\"shading\")) {\n      this._$wrapper.css({\n        top: 0,\n        left: 0\n      });\n    }\n  },\n  _renderWrapperDimensions: function () {\n    if (this.option(\"shading\")) {\n      this._$wrapper.css({\n        width: \"100%\",\n        height: \"100%\"\n      });\n    }\n  },\n  _normalizePosition: function () {\n    var position = (0, _extend.extend)({}, this._transformStringPosition(this.option(\"position\"), POSITION_ALIASES));\n\n    if (!position.of) {\n      position.of = this.option(\"target\");\n    }\n\n    if (!position.collision) {\n      position.collision = \"flip\";\n    }\n\n    if (!position.boundaryOffset) {\n      position.boundaryOffset = this.option(\"boundaryOffset\");\n    }\n\n    this._positionSide = this._getDisplaySide(position);\n    this._position = position;\n  },\n  _getDisplaySide: function (position) {\n    var my = _position.default.setup.normalizeAlign(position.my);\n\n    var at = _position.default.setup.normalizeAlign(position.at);\n\n    var weightSign = WEIGHT_OF_SIDES[my.h] === WEIGHT_OF_SIDES[at.h] && WEIGHT_OF_SIDES[my.v] === WEIGHT_OF_SIDES[at.v] ? -1 : 1;\n    var horizontalWeight = Math.abs(WEIGHT_OF_SIDES[my.h] - weightSign * WEIGHT_OF_SIDES[at.h]);\n    var verticalWeight = Math.abs(WEIGHT_OF_SIDES[my.v] - weightSign * WEIGHT_OF_SIDES[at.v]);\n    return horizontalWeight > verticalWeight ? at.h : at.v;\n  },\n  _isVerticalSide: function (side) {\n    side = side || this._positionSide;\n    return \"top\" === side || \"bottom\" === side;\n  },\n  _isHorizontalSide: function (side) {\n    side = side || this._positionSide;\n    return \"left\" === side || \"right\" === side;\n  },\n  _clearEventTimeout: function (name) {\n    clearTimeout(this._timeouts[name]);\n  },\n  _clearEventsTimeouts: function () {\n    this._clearEventTimeout(\"show\");\n\n    this._clearEventTimeout(\"hide\");\n  },\n  _clean: function () {\n    this._detachEvents(this.option(\"target\"));\n\n    this.callBase.apply(this, arguments);\n  },\n  _optionChanged: function (args) {\n    switch (args.name) {\n      case \"boundaryOffset\":\n      case \"arrowPosition\":\n      case \"arrowOffset\":\n        this._renderGeometry();\n\n        break;\n\n      case \"fullScreen\":\n        if (args.value) {\n          this.option(\"fullScreen\", false);\n        }\n\n        break;\n\n      case \"target\":\n        args.previousValue && this._detachEvents(args.previousValue);\n        this.callBase(args);\n        break;\n\n      case \"showEvent\":\n      case \"hideEvent\":\n        var name = args.name.substring(0, 4);\n        var event = getEventNameByOption(args.previousValue);\n        this.hide();\n        detachEvent(this, this.option(\"target\"), name, event);\n        attachEvent(this, name);\n        break;\n\n      case \"visible\":\n        this._clearEventTimeout(args.value ? \"show\" : \"hide\");\n\n        this.callBase(args);\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  },\n  show: function (target) {\n    if (target) {\n      this.option(\"target\", target);\n    }\n\n    return this.callBase();\n  }\n});\n\n(0, _component_registrator.default)(\"dxPopover\", Popover);\nvar _default = Popover;\nexports.default = _default;\nmodule.exports = exports.default;\nmodule.exports.default = module.exports;","map":{"version":3,"sources":["C:/Smart-Virtual-Classroom/client/node_modules/devextreme/ui/popover.js"],"names":["exports","default","_renderer","_interopRequireDefault","require","_window","_element","_dom_adapter","_events_engine","_component_registrator","_common","_extend","_translator","_position","_type","_math","_index","_popup","_position2","obj","__esModule","_typeof","Symbol","iterator","constructor","prototype","window","getWindow","POPOVER_CLASS","POPOVER_WRAPPER_CLASS","POPOVER_ARROW_CLASS","POPOVER_WITHOUT_TITLE_CLASS","POSITION_FLIP_MAP","left","top","right","bottom","center","WEIGHT_OF_SIDES","POSITION_ALIASES","my","at","collision","SIDE_BORDER_WIDTH_STYLES","getEventNameByOption","optionValue","isObject","name","getEventName","that","optionName","option","getEventDelay","delay","attachEvent","target","isSelector","isString","event","eventName","addNamespace","NAME","action","_createAction","_clearEventsTimeouts","_timeouts","setTimeout","bind","validatingTargetName","handler","e","currentTarget","EVENT_HANDLER_NAME","on","getDocument","targetElement","getPublicElement","detachEvent","off","Popover","inherit","_getDefaultOptions","extend","callBase","shading","position","closeOnOutsideClick","animation","show","type","from","to","hide","showTitle","width","height","dragEnabled","resizeEnabled","fullScreen","closeOnTargetScroll","arrowPosition","arrowOffset","boundaryOffset","h","v","_fixedPosition","_defaultOptionsRules","device","platform","options","hasWindow","_init","_renderArrow","$element","addClass","_wrapper","_render","apply","arguments","_detachEvents","_attachEvents","_$arrow","prependTo","overlayContent","_documentDownHandler","_isOutsideClick","closest","length","_animate","_getContainerPosition","_stopAnimation","_renderTitle","toggleClass","_renderPosition","_renderOverlayPosition","_renderOverlayBoundaryOffset","noop","_resetOverlayPosition","_updateContentSize","contentPosition","resultLocation","setup","_$content","positionSide","_getSideByLocation","_togglePositionClass","_toggleFlippedClass","flip","isArrowVisible","_isHorizontalSide","_isVerticalSide","_renderArrowPosition","_setContentHeight","_positionSide","move","css","_$popupContent","containerLocation","calculate","oversize","fit","newContainerWidth","newOverlayContentHeight","newPopupContentHeight","offset","pairToObject","hOffset","vOffset","isVerticalSide","isHorizontalSide","isPopoverInside","_isPopoverInside","sign","arrowSize","arrowSizeCorrection","_getContentBorderWidth","side","borderWidth","parseInt","location","isFlippedByVertical","isFlippedByHorizontal","positionClass","_$wrapper","removeClass","isFlippedHorizontal","isFlippedVertical","arrowRect","getBoundingRect","get","arrowFlip","axis","sizeProperty","$target","of","targetOffset","contentOffset","contentLocation","contentSize","targetLocation","targetSize","preventDefault","min","Math","max","arrowLocation","finalArrowLocation","fitIntoRange","_transformStringPosition","normalizeAlign","fullUpdate","_renderWrapperPosition","_renderWrapperDimensions","_normalizePosition","_getDisplaySide","weightSign","horizontalWeight","abs","verticalWeight","_clearEventTimeout","clearTimeout","_clean","_optionChanged","args","_renderGeometry","value","previousValue","substring","_default","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/popover.js)\r\n * Version: 20.2.6\r\n * Build date: Tue Mar 16 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../core/renderer\"));\r\nvar _window = require(\"../core/utils/window\");\r\nvar _element = require(\"../core/element\");\r\nvar _dom_adapter = _interopRequireDefault(require(\"../core/dom_adapter\"));\r\nvar _events_engine = _interopRequireDefault(require(\"../events/core/events_engine\"));\r\nvar _component_registrator = _interopRequireDefault(require(\"../core/component_registrator\"));\r\nvar _common = require(\"../core/utils/common\");\r\nvar _extend = require(\"../core/utils/extend\");\r\nvar _translator = require(\"../animation/translator\");\r\nvar _position = _interopRequireDefault(require(\"../animation/position\"));\r\nvar _type = require(\"../core/utils/type\");\r\nvar _math = require(\"../core/utils/math\");\r\nvar _index = require(\"../events/utils/index\");\r\nvar _popup = _interopRequireDefault(require(\"./popup\"));\r\nvar _position2 = require(\"../core/utils/position\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _typeof(obj) {\r\n    \"@babel/helpers - typeof\";\r\n    if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\r\n        _typeof = function(obj) {\r\n            return typeof obj\r\n        }\r\n    } else {\r\n        _typeof = function(obj) {\r\n            return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj\r\n        }\r\n    }\r\n    return _typeof(obj)\r\n}\r\nvar window = (0, _window.getWindow)();\r\nvar POPOVER_CLASS = \"dx-popover\";\r\nvar POPOVER_WRAPPER_CLASS = \"dx-popover-wrapper\";\r\nvar POPOVER_ARROW_CLASS = \"dx-popover-arrow\";\r\nvar POPOVER_WITHOUT_TITLE_CLASS = \"dx-popover-without-title\";\r\nvar POSITION_FLIP_MAP = {\r\n    left: \"right\",\r\n    top: \"bottom\",\r\n    right: \"left\",\r\n    bottom: \"top\",\r\n    center: \"center\"\r\n};\r\nvar WEIGHT_OF_SIDES = {\r\n    left: -1,\r\n    top: -1,\r\n    center: 0,\r\n    right: 1,\r\n    bottom: 1\r\n};\r\nvar POSITION_ALIASES = {\r\n    top: {\r\n        my: \"bottom center\",\r\n        at: \"top center\",\r\n        collision: \"fit flip\"\r\n    },\r\n    bottom: {\r\n        my: \"top center\",\r\n        at: \"bottom center\",\r\n        collision: \"fit flip\"\r\n    },\r\n    right: {\r\n        my: \"left center\",\r\n        at: \"right center\",\r\n        collision: \"flip fit\"\r\n    },\r\n    left: {\r\n        my: \"right center\",\r\n        at: \"left center\",\r\n        collision: \"flip fit\"\r\n    }\r\n};\r\nvar SIDE_BORDER_WIDTH_STYLES = {\r\n    left: \"borderLeftWidth\",\r\n    top: \"borderTopWidth\",\r\n    right: \"borderRightWidth\",\r\n    bottom: \"borderBottomWidth\"\r\n};\r\nvar getEventNameByOption = function(optionValue) {\r\n    return (0, _type.isObject)(optionValue) ? optionValue.name : optionValue\r\n};\r\nvar getEventName = function(that, optionName) {\r\n    var optionValue = that.option(optionName);\r\n    return getEventNameByOption(optionValue)\r\n};\r\nvar getEventDelay = function(that, optionName) {\r\n    var optionValue = that.option(optionName);\r\n    return (0, _type.isObject)(optionValue) && optionValue.delay\r\n};\r\nvar attachEvent = function(that, name) {\r\n    var target = that.option(\"target\");\r\n    var isSelector = (0, _type.isString)(target);\r\n    var event = getEventName(that, name + \"Event\");\r\n    if (!event || that.option(\"disabled\")) {\r\n        return\r\n    }\r\n    var eventName = (0, _index.addNamespace)(event, that.NAME);\r\n    var action = that._createAction(function() {\r\n        var delay = getEventDelay(that, name + \"Event\");\r\n        this._clearEventsTimeouts();\r\n        if (delay) {\r\n            this._timeouts[name] = setTimeout(function() {\r\n                that[name]()\r\n            }, delay)\r\n        } else {\r\n            that[name]()\r\n        }\r\n    }.bind(that), {\r\n        validatingTargetName: \"target\"\r\n    });\r\n    var handler = function(e) {\r\n        action({\r\n            event: e,\r\n            target: (0, _renderer.default)(e.currentTarget)\r\n        })\r\n    };\r\n    var EVENT_HANDLER_NAME = \"_\" + name + \"EventHandler\";\r\n    if (isSelector) {\r\n        that[EVENT_HANDLER_NAME] = handler;\r\n        _events_engine.default.on(_dom_adapter.default.getDocument(), eventName, target, handler)\r\n    } else {\r\n        var targetElement = (0, _element.getPublicElement)((0, _renderer.default)(target));\r\n        that[EVENT_HANDLER_NAME] = void 0;\r\n        _events_engine.default.on(targetElement, eventName, handler)\r\n    }\r\n};\r\nvar detachEvent = function(that, target, name, event) {\r\n    var eventName = event || getEventName(that, name + \"Event\");\r\n    if (!eventName) {\r\n        return\r\n    }\r\n    eventName = (0, _index.addNamespace)(eventName, that.NAME);\r\n    var EVENT_HANDLER_NAME = \"_\" + name + \"EventHandler\";\r\n    if (that[EVENT_HANDLER_NAME]) {\r\n        _events_engine.default.off(_dom_adapter.default.getDocument(), eventName, target, that[EVENT_HANDLER_NAME])\r\n    } else {\r\n        _events_engine.default.off((0, _element.getPublicElement)((0, _renderer.default)(target)), eventName)\r\n    }\r\n};\r\nvar Popover = _popup.default.inherit({\r\n    _getDefaultOptions: function() {\r\n        return (0, _extend.extend)(this.callBase(), {\r\n            target: window,\r\n            shading: false,\r\n            position: \"bottom\",\r\n            closeOnOutsideClick: true,\r\n            animation: {\r\n                show: {\r\n                    type: \"fade\",\r\n                    from: 0,\r\n                    to: 1\r\n                },\r\n                hide: {\r\n                    type: \"fade\",\r\n                    to: 0\r\n                }\r\n            },\r\n            showTitle: false,\r\n            width: \"auto\",\r\n            height: \"auto\",\r\n            dragEnabled: false,\r\n            resizeEnabled: false,\r\n            fullScreen: false,\r\n            closeOnTargetScroll: true,\r\n            arrowPosition: \"\",\r\n            arrowOffset: 0,\r\n            boundaryOffset: {\r\n                h: 10,\r\n                v: 10\r\n            },\r\n            _fixedPosition: true\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return [{\r\n            device: {\r\n                platform: \"ios\"\r\n            },\r\n            options: {\r\n                arrowPosition: {\r\n                    boundaryOffset: {\r\n                        h: 20,\r\n                        v: -10\r\n                    },\r\n                    collision: \"fit\"\r\n                }\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return !(0, _window.hasWindow)()\r\n            },\r\n            options: {\r\n                animation: null\r\n            }\r\n        }]\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this._renderArrow();\r\n        this._timeouts = {};\r\n        this.$element().addClass(POPOVER_CLASS);\r\n        this._wrapper().addClass(POPOVER_WRAPPER_CLASS)\r\n    },\r\n    _render: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._detachEvents(this.option(\"target\"));\r\n        this._attachEvents()\r\n    },\r\n    _detachEvents: function(target) {\r\n        detachEvent(this, target, \"show\");\r\n        detachEvent(this, target, \"hide\")\r\n    },\r\n    _attachEvents: function() {\r\n        attachEvent(this, \"show\");\r\n        attachEvent(this, \"hide\")\r\n    },\r\n    _renderArrow: function() {\r\n        this._$arrow = (0, _renderer.default)(\"<div>\").addClass(POPOVER_ARROW_CLASS).prependTo(this.overlayContent())\r\n    },\r\n    _documentDownHandler: function(e) {\r\n        if (this._isOutsideClick(e)) {\r\n            return this.callBase(e)\r\n        }\r\n        return true\r\n    },\r\n    _isOutsideClick: function(e) {\r\n        return !(0, _renderer.default)(e.target).closest(this.option(\"target\")).length\r\n    },\r\n    _animate: function(animation) {\r\n        if (animation && animation.to && \"object\" === _typeof(animation.to)) {\r\n            (0, _extend.extend)(animation.to, {\r\n                position: this._getContainerPosition()\r\n            })\r\n        }\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _stopAnimation: function() {\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _renderTitle: function() {\r\n        this._wrapper().toggleClass(POPOVER_WITHOUT_TITLE_CLASS, !this.option(\"showTitle\"));\r\n        this.callBase()\r\n    },\r\n    _renderPosition: function() {\r\n        this.callBase();\r\n        this._renderOverlayPosition()\r\n    },\r\n    _renderOverlayBoundaryOffset: _common.noop,\r\n    _renderOverlayPosition: function() {\r\n        this._resetOverlayPosition();\r\n        this._updateContentSize();\r\n        var contentPosition = this._getContainerPosition();\r\n        var resultLocation = _position.default.setup(this._$content, contentPosition);\r\n        var positionSide = this._getSideByLocation(resultLocation);\r\n        this._togglePositionClass(\"dx-position-\" + positionSide);\r\n        this._toggleFlippedClass(resultLocation.h.flip, resultLocation.v.flip);\r\n        var isArrowVisible = this._isHorizontalSide() || this._isVerticalSide();\r\n        if (isArrowVisible) {\r\n            this._renderArrowPosition(positionSide)\r\n        }\r\n    },\r\n    _resetOverlayPosition: function() {\r\n        this._setContentHeight(true);\r\n        this._togglePositionClass(\"dx-position-\" + this._positionSide);\r\n        (0, _translator.move)(this._$content, {\r\n            left: 0,\r\n            top: 0\r\n        });\r\n        this._$arrow.css({\r\n            top: \"auto\",\r\n            right: \"auto\",\r\n            bottom: \"auto\",\r\n            left: \"auto\"\r\n        })\r\n    },\r\n    _updateContentSize: function() {\r\n        if (!this._$popupContent) {\r\n            return\r\n        }\r\n        var containerLocation = _position.default.calculate(this._$content, this._getContainerPosition());\r\n        if (containerLocation.h.oversize > 0 && this._isHorizontalSide() && !containerLocation.h.fit) {\r\n            var newContainerWidth = this._$content.width() - containerLocation.h.oversize;\r\n            this._$content.width(newContainerWidth)\r\n        }\r\n        if (containerLocation.v.oversize > 0 && this._isVerticalSide() && !containerLocation.v.fit) {\r\n            var newOverlayContentHeight = this._$content.height() - containerLocation.v.oversize;\r\n            var newPopupContentHeight = this._$popupContent.height() - containerLocation.v.oversize;\r\n            this._$content.height(newOverlayContentHeight);\r\n            this._$popupContent.height(newPopupContentHeight)\r\n        }\r\n    },\r\n    _getContainerPosition: function() {\r\n        var offset = (0, _common.pairToObject)(this._position.offset || \"\");\r\n        var hOffset = offset.h;\r\n        var vOffset = offset.v;\r\n        var isVerticalSide = this._isVerticalSide();\r\n        var isHorizontalSide = this._isHorizontalSide();\r\n        if (isVerticalSide || isHorizontalSide) {\r\n            var isPopoverInside = this._isPopoverInside();\r\n            var sign = (isPopoverInside ? -1 : 1) * WEIGHT_OF_SIDES[this._positionSide];\r\n            var arrowSize = isVerticalSide ? this._$arrow.height() : this._$arrow.width();\r\n            var arrowSizeCorrection = this._getContentBorderWidth(this._positionSide);\r\n            var arrowOffset = sign * (arrowSize - arrowSizeCorrection);\r\n            isVerticalSide ? vOffset += arrowOffset : hOffset += arrowOffset\r\n        }\r\n        return (0, _extend.extend)({}, this._position, {\r\n            offset: hOffset + \" \" + vOffset\r\n        })\r\n    },\r\n    _getContentBorderWidth: function(side) {\r\n        var borderWidth = this._$content.css(SIDE_BORDER_WIDTH_STYLES[side]);\r\n        return parseInt(borderWidth) || 0\r\n    },\r\n    _getSideByLocation: function(location) {\r\n        var isFlippedByVertical = location.v.flip;\r\n        var isFlippedByHorizontal = location.h.flip;\r\n        return this._isVerticalSide() && isFlippedByVertical || this._isHorizontalSide() && isFlippedByHorizontal || this._isPopoverInside() ? POSITION_FLIP_MAP[this._positionSide] : this._positionSide\r\n    },\r\n    _togglePositionClass: function(positionClass) {\r\n        this._$wrapper.removeClass(\"dx-position-left dx-position-right dx-position-top dx-position-bottom\").addClass(positionClass)\r\n    },\r\n    _toggleFlippedClass: function(isFlippedHorizontal, isFlippedVertical) {\r\n        this._$wrapper.toggleClass(\"dx-popover-flipped-horizontal\", isFlippedHorizontal).toggleClass(\"dx-popover-flipped-vertical\", isFlippedVertical)\r\n    },\r\n    _renderArrowPosition: function(side) {\r\n        var arrowRect = (0, _position2.getBoundingRect)(this._$arrow.get(0));\r\n        var arrowFlip = -(this._isVerticalSide(side) ? arrowRect.height : arrowRect.width);\r\n        this._$arrow.css(POSITION_FLIP_MAP[side], arrowFlip);\r\n        var axis = this._isVerticalSide(side) ? \"left\" : \"top\";\r\n        var sizeProperty = this._isVerticalSide(side) ? \"width\" : \"height\";\r\n        var $target = (0, _renderer.default)(this._position.of);\r\n        var targetOffset = _position.default.offset($target) || {\r\n            top: 0,\r\n            left: 0\r\n        };\r\n        var contentOffset = _position.default.offset(this._$content);\r\n        var arrowSize = arrowRect[sizeProperty];\r\n        var contentLocation = contentOffset[axis];\r\n        var contentSize = (0, _position2.getBoundingRect)(this._$content.get(0))[sizeProperty];\r\n        var targetLocation = targetOffset[axis];\r\n        var targetSize = $target.get(0).preventDefault ? 0 : (0, _position2.getBoundingRect)($target.get(0))[sizeProperty];\r\n        var min = Math.max(contentLocation, targetLocation);\r\n        var max = Math.min(contentLocation + contentSize, targetLocation + targetSize);\r\n        var arrowLocation;\r\n        if (\"start\" === this.option(\"arrowPosition\")) {\r\n            arrowLocation = min - contentLocation\r\n        } else {\r\n            if (\"end\" === this.option(\"arrowPosition\")) {\r\n                arrowLocation = max - contentLocation - arrowSize\r\n            } else {\r\n                arrowLocation = (min + max) / 2 - contentLocation - arrowSize / 2\r\n            }\r\n        }\r\n        var borderWidth = this._getContentBorderWidth(side);\r\n        var finalArrowLocation = (0, _math.fitIntoRange)(arrowLocation - borderWidth + this.option(\"arrowOffset\"), borderWidth, contentSize - arrowSize - 2 * borderWidth);\r\n        this._$arrow.css(axis, finalArrowLocation)\r\n    },\r\n    _isPopoverInside: function() {\r\n        var position = this._transformStringPosition(this.option(\"position\"), POSITION_ALIASES);\r\n        var my = _position.default.setup.normalizeAlign(position.my);\r\n        var at = _position.default.setup.normalizeAlign(position.at);\r\n        return my.h === at.h && my.v === at.v\r\n    },\r\n    _setContentHeight: function(fullUpdate) {\r\n        if (fullUpdate) {\r\n            this.callBase()\r\n        }\r\n    },\r\n    _renderWrapperPosition: function() {\r\n        if (this.option(\"shading\")) {\r\n            this._$wrapper.css({\r\n                top: 0,\r\n                left: 0\r\n            })\r\n        }\r\n    },\r\n    _renderWrapperDimensions: function() {\r\n        if (this.option(\"shading\")) {\r\n            this._$wrapper.css({\r\n                width: \"100%\",\r\n                height: \"100%\"\r\n            })\r\n        }\r\n    },\r\n    _normalizePosition: function() {\r\n        var position = (0, _extend.extend)({}, this._transformStringPosition(this.option(\"position\"), POSITION_ALIASES));\r\n        if (!position.of) {\r\n            position.of = this.option(\"target\")\r\n        }\r\n        if (!position.collision) {\r\n            position.collision = \"flip\"\r\n        }\r\n        if (!position.boundaryOffset) {\r\n            position.boundaryOffset = this.option(\"boundaryOffset\")\r\n        }\r\n        this._positionSide = this._getDisplaySide(position);\r\n        this._position = position\r\n    },\r\n    _getDisplaySide: function(position) {\r\n        var my = _position.default.setup.normalizeAlign(position.my);\r\n        var at = _position.default.setup.normalizeAlign(position.at);\r\n        var weightSign = WEIGHT_OF_SIDES[my.h] === WEIGHT_OF_SIDES[at.h] && WEIGHT_OF_SIDES[my.v] === WEIGHT_OF_SIDES[at.v] ? -1 : 1;\r\n        var horizontalWeight = Math.abs(WEIGHT_OF_SIDES[my.h] - weightSign * WEIGHT_OF_SIDES[at.h]);\r\n        var verticalWeight = Math.abs(WEIGHT_OF_SIDES[my.v] - weightSign * WEIGHT_OF_SIDES[at.v]);\r\n        return horizontalWeight > verticalWeight ? at.h : at.v\r\n    },\r\n    _isVerticalSide: function(side) {\r\n        side = side || this._positionSide;\r\n        return \"top\" === side || \"bottom\" === side\r\n    },\r\n    _isHorizontalSide: function(side) {\r\n        side = side || this._positionSide;\r\n        return \"left\" === side || \"right\" === side\r\n    },\r\n    _clearEventTimeout: function(name) {\r\n        clearTimeout(this._timeouts[name])\r\n    },\r\n    _clearEventsTimeouts: function() {\r\n        this._clearEventTimeout(\"show\");\r\n        this._clearEventTimeout(\"hide\")\r\n    },\r\n    _clean: function() {\r\n        this._detachEvents(this.option(\"target\"));\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"boundaryOffset\":\r\n            case \"arrowPosition\":\r\n            case \"arrowOffset\":\r\n                this._renderGeometry();\r\n                break;\r\n            case \"fullScreen\":\r\n                if (args.value) {\r\n                    this.option(\"fullScreen\", false)\r\n                }\r\n                break;\r\n            case \"target\":\r\n                args.previousValue && this._detachEvents(args.previousValue);\r\n                this.callBase(args);\r\n                break;\r\n            case \"showEvent\":\r\n            case \"hideEvent\":\r\n                var name = args.name.substring(0, 4);\r\n                var event = getEventNameByOption(args.previousValue);\r\n                this.hide();\r\n                detachEvent(this, this.option(\"target\"), name, event);\r\n                attachEvent(this, name);\r\n                break;\r\n            case \"visible\":\r\n                this._clearEventTimeout(args.value ? \"show\" : \"hide\");\r\n                this.callBase(args);\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    show: function(target) {\r\n        if (target) {\r\n            this.option(\"target\", target)\r\n        }\r\n        return this.callBase()\r\n    }\r\n});\r\n(0, _component_registrator.default)(\"dxPopover\", Popover);\r\nvar _default = Popover;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\nmodule.exports.default = module.exports;\r\n"]},"metadata":{},"sourceType":"script"}