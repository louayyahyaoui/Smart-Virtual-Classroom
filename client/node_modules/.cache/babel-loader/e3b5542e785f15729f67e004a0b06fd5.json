{"ast":null,"code":"/**\r\n * DevExtreme (core/element_data.js)\r\n * Version: 20.2.6\r\n * Build date: Tue Mar 16 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.getDataStrategy = getDataStrategy;\nexports.data = data;\nexports.beforeCleanData = beforeCleanData;\nexports.afterCleanData = afterCleanData;\nexports.cleanData = cleanData;\nexports.removeData = removeData;\nexports.cleanDataRecursive = cleanDataRecursive;\nexports.setDataStrategy = exports.strategyChanging = void 0;\n\nvar _weak_map = _interopRequireDefault(require(\"./polyfills/weak_map\"));\n\nvar _dom_adapter = _interopRequireDefault(require(\"./dom_adapter\"));\n\nvar _events_engine = _interopRequireDefault(require(\"../events/core/events_engine\"));\n\nvar _memorized_callbacks = _interopRequireDefault(require(\"./memorized_callbacks\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar dataMap = new _weak_map.default();\nvar strategy;\nvar strategyChanging = new _memorized_callbacks.default();\nexports.strategyChanging = strategyChanging;\n\nvar beforeCleanDataFunc = function () {};\n\nvar afterCleanDataFunc = function () {};\n\nvar setDataStrategy = function (value) {\n  strategyChanging.fire(value);\n  strategy = value;\n  var cleanData = strategy.cleanData;\n\n  strategy.cleanData = function (nodes) {\n    beforeCleanDataFunc(nodes);\n    var result = cleanData.call(this, nodes);\n    afterCleanDataFunc(nodes);\n    return result;\n  };\n};\n\nexports.setDataStrategy = setDataStrategy;\nsetDataStrategy({\n  data: function () {\n    var element = arguments[0];\n    var key = arguments[1];\n    var value = arguments[2];\n\n    if (!element) {\n      return;\n    }\n\n    var elementData = dataMap.get(element);\n\n    if (!elementData) {\n      elementData = {};\n      dataMap.set(element, elementData);\n    }\n\n    if (void 0 === key) {\n      return elementData;\n    }\n\n    if (2 === arguments.length) {\n      return elementData[key];\n    }\n\n    elementData[key] = value;\n    return value;\n  },\n  removeData: function (element, key) {\n    if (!element) {\n      return;\n    }\n\n    if (void 0 === key) {\n      dataMap.delete(element);\n    } else {\n      var elementData = dataMap.get(element);\n\n      if (elementData) {\n        delete elementData[key];\n      }\n    }\n  },\n  cleanData: function (elements) {\n    for (var i = 0; i < elements.length; i++) {\n      _events_engine.default.off(elements[i]);\n\n      dataMap.delete(elements[i]);\n    }\n  }\n});\n\nfunction getDataStrategy() {\n  return strategy;\n}\n\nfunction data() {\n  return strategy.data.apply(this, arguments);\n}\n\nfunction beforeCleanData(callback) {\n  beforeCleanDataFunc = callback;\n}\n\nfunction afterCleanData(callback) {\n  afterCleanDataFunc = callback;\n}\n\nfunction cleanData(nodes) {\n  return strategy.cleanData.call(this, nodes);\n}\n\nfunction removeData(element, key) {\n  return strategy.removeData.call(this, element, key);\n}\n\nfunction cleanDataRecursive(element, cleanSelf) {\n  if (!_dom_adapter.default.isElementNode(element)) {\n    return;\n  }\n\n  var childElements = element.getElementsByTagName(\"*\");\n  strategy.cleanData(childElements);\n\n  if (cleanSelf) {\n    strategy.cleanData([element]);\n  }\n}","map":{"version":3,"sources":["C:/Smart-Virtual-Classroom/client/node_modules/devextreme/core/element_data.js"],"names":["exports","getDataStrategy","data","beforeCleanData","afterCleanData","cleanData","removeData","cleanDataRecursive","setDataStrategy","strategyChanging","_weak_map","_interopRequireDefault","require","_dom_adapter","_events_engine","_memorized_callbacks","obj","__esModule","dataMap","default","strategy","beforeCleanDataFunc","afterCleanDataFunc","value","fire","nodes","result","call","element","arguments","key","elementData","get","set","length","delete","elements","i","off","apply","callback","cleanSelf","isElementNode","childElements","getElementsByTagName"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (core/element_data.js)\r\n * Version: 20.2.6\r\n * Build date: Tue Mar 16 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.getDataStrategy = getDataStrategy;\r\nexports.data = data;\r\nexports.beforeCleanData = beforeCleanData;\r\nexports.afterCleanData = afterCleanData;\r\nexports.cleanData = cleanData;\r\nexports.removeData = removeData;\r\nexports.cleanDataRecursive = cleanDataRecursive;\r\nexports.setDataStrategy = exports.strategyChanging = void 0;\r\nvar _weak_map = _interopRequireDefault(require(\"./polyfills/weak_map\"));\r\nvar _dom_adapter = _interopRequireDefault(require(\"./dom_adapter\"));\r\nvar _events_engine = _interopRequireDefault(require(\"../events/core/events_engine\"));\r\nvar _memorized_callbacks = _interopRequireDefault(require(\"./memorized_callbacks\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar dataMap = new _weak_map.default;\r\nvar strategy;\r\nvar strategyChanging = new _memorized_callbacks.default;\r\nexports.strategyChanging = strategyChanging;\r\nvar beforeCleanDataFunc = function() {};\r\nvar afterCleanDataFunc = function() {};\r\nvar setDataStrategy = function(value) {\r\n    strategyChanging.fire(value);\r\n    strategy = value;\r\n    var cleanData = strategy.cleanData;\r\n    strategy.cleanData = function(nodes) {\r\n        beforeCleanDataFunc(nodes);\r\n        var result = cleanData.call(this, nodes);\r\n        afterCleanDataFunc(nodes);\r\n        return result\r\n    }\r\n};\r\nexports.setDataStrategy = setDataStrategy;\r\nsetDataStrategy({\r\n    data: function() {\r\n        var element = arguments[0];\r\n        var key = arguments[1];\r\n        var value = arguments[2];\r\n        if (!element) {\r\n            return\r\n        }\r\n        var elementData = dataMap.get(element);\r\n        if (!elementData) {\r\n            elementData = {};\r\n            dataMap.set(element, elementData)\r\n        }\r\n        if (void 0 === key) {\r\n            return elementData\r\n        }\r\n        if (2 === arguments.length) {\r\n            return elementData[key]\r\n        }\r\n        elementData[key] = value;\r\n        return value\r\n    },\r\n    removeData: function(element, key) {\r\n        if (!element) {\r\n            return\r\n        }\r\n        if (void 0 === key) {\r\n            dataMap.delete(element)\r\n        } else {\r\n            var elementData = dataMap.get(element);\r\n            if (elementData) {\r\n                delete elementData[key]\r\n            }\r\n        }\r\n    },\r\n    cleanData: function(elements) {\r\n        for (var i = 0; i < elements.length; i++) {\r\n            _events_engine.default.off(elements[i]);\r\n            dataMap.delete(elements[i])\r\n        }\r\n    }\r\n});\r\n\r\nfunction getDataStrategy() {\r\n    return strategy\r\n}\r\n\r\nfunction data() {\r\n    return strategy.data.apply(this, arguments)\r\n}\r\n\r\nfunction beforeCleanData(callback) {\r\n    beforeCleanDataFunc = callback\r\n}\r\n\r\nfunction afterCleanData(callback) {\r\n    afterCleanDataFunc = callback\r\n}\r\n\r\nfunction cleanData(nodes) {\r\n    return strategy.cleanData.call(this, nodes)\r\n}\r\n\r\nfunction removeData(element, key) {\r\n    return strategy.removeData.call(this, element, key)\r\n}\r\n\r\nfunction cleanDataRecursive(element, cleanSelf) {\r\n    if (!_dom_adapter.default.isElementNode(element)) {\r\n        return\r\n    }\r\n    var childElements = element.getElementsByTagName(\"*\");\r\n    strategy.cleanData(childElements);\r\n    if (cleanSelf) {\r\n        strategy.cleanData([element])\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"script"}