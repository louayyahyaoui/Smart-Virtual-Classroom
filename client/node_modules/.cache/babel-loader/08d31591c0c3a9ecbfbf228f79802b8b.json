{"ast":null,"code":"/*global module, process*/\nvar Buffer = require('safe-buffer').Buffer;\n\nvar Stream = require('stream');\n\nvar util = require('util');\n\nfunction DataStream(data) {\n  this.buffer = null;\n  this.writable = true;\n  this.readable = true; // No input\n\n  if (!data) {\n    this.buffer = Buffer.alloc(0);\n    return this;\n  } // Stream\n\n\n  if (typeof data.pipe === 'function') {\n    this.buffer = Buffer.alloc(0);\n    data.pipe(this);\n    return this;\n  } // Buffer or String\n  // or Object (assumedly a passworded key)\n\n\n  if (data.length || typeof data === 'object') {\n    this.buffer = data;\n    this.writable = false;\n    process.nextTick(function () {\n      this.emit('end', data);\n      this.readable = false;\n      this.emit('close');\n    }.bind(this));\n    return this;\n  }\n\n  throw new TypeError('Unexpected data type (' + typeof data + ')');\n}\n\nutil.inherits(DataStream, Stream);\n\nDataStream.prototype.write = function write(data) {\n  this.buffer = Buffer.concat([this.buffer, Buffer.from(data)]);\n  this.emit('data', data);\n};\n\nDataStream.prototype.end = function end(data) {\n  if (data) this.write(data);\n  this.emit('end', data);\n  this.emit('close');\n  this.writable = false;\n  this.readable = false;\n};\n\nmodule.exports = DataStream;","map":{"version":3,"sources":["C:/Smart-Virtual-Classroom/client/node_modules/jws/lib/data-stream.js"],"names":["Buffer","require","Stream","util","DataStream","data","buffer","writable","readable","alloc","pipe","length","process","nextTick","emit","bind","TypeError","inherits","prototype","write","concat","from","end","module","exports"],"mappings":"AAAA;AACA,IAAIA,MAAM,GAAGC,OAAO,CAAC,aAAD,CAAP,CAAuBD,MAApC;;AACA,IAAIE,MAAM,GAAGD,OAAO,CAAC,QAAD,CAApB;;AACA,IAAIE,IAAI,GAAGF,OAAO,CAAC,MAAD,CAAlB;;AAEA,SAASG,UAAT,CAAoBC,IAApB,EAA0B;AACxB,OAAKC,MAAL,GAAc,IAAd;AACA,OAAKC,QAAL,GAAgB,IAAhB;AACA,OAAKC,QAAL,GAAgB,IAAhB,CAHwB,CAKxB;;AACA,MAAI,CAACH,IAAL,EAAW;AACT,SAAKC,MAAL,GAAcN,MAAM,CAACS,KAAP,CAAa,CAAb,CAAd;AACA,WAAO,IAAP;AACD,GATuB,CAWxB;;;AACA,MAAI,OAAOJ,IAAI,CAACK,IAAZ,KAAqB,UAAzB,EAAqC;AACnC,SAAKJ,MAAL,GAAcN,MAAM,CAACS,KAAP,CAAa,CAAb,CAAd;AACAJ,IAAAA,IAAI,CAACK,IAAL,CAAU,IAAV;AACA,WAAO,IAAP;AACD,GAhBuB,CAkBxB;AACA;;;AACA,MAAIL,IAAI,CAACM,MAAL,IAAe,OAAON,IAAP,KAAgB,QAAnC,EAA6C;AAC3C,SAAKC,MAAL,GAAcD,IAAd;AACA,SAAKE,QAAL,GAAgB,KAAhB;AACAK,IAAAA,OAAO,CAACC,QAAR,CAAiB,YAAY;AAC3B,WAAKC,IAAL,CAAU,KAAV,EAAiBT,IAAjB;AACA,WAAKG,QAAL,GAAgB,KAAhB;AACA,WAAKM,IAAL,CAAU,OAAV;AACD,KAJgB,CAIfC,IAJe,CAIV,IAJU,CAAjB;AAKA,WAAO,IAAP;AACD;;AAED,QAAM,IAAIC,SAAJ,CAAc,2BAA0B,OAAOX,IAAjC,GAAwC,GAAtD,CAAN;AACD;;AACDF,IAAI,CAACc,QAAL,CAAcb,UAAd,EAA0BF,MAA1B;;AAEAE,UAAU,CAACc,SAAX,CAAqBC,KAArB,GAA6B,SAASA,KAAT,CAAed,IAAf,EAAqB;AAChD,OAAKC,MAAL,GAAcN,MAAM,CAACoB,MAAP,CAAc,CAAC,KAAKd,MAAN,EAAcN,MAAM,CAACqB,IAAP,CAAYhB,IAAZ,CAAd,CAAd,CAAd;AACA,OAAKS,IAAL,CAAU,MAAV,EAAkBT,IAAlB;AACD,CAHD;;AAKAD,UAAU,CAACc,SAAX,CAAqBI,GAArB,GAA2B,SAASA,GAAT,CAAajB,IAAb,EAAmB;AAC5C,MAAIA,IAAJ,EACE,KAAKc,KAAL,CAAWd,IAAX;AACF,OAAKS,IAAL,CAAU,KAAV,EAAiBT,IAAjB;AACA,OAAKS,IAAL,CAAU,OAAV;AACA,OAAKP,QAAL,GAAgB,KAAhB;AACA,OAAKC,QAAL,GAAgB,KAAhB;AACD,CAPD;;AASAe,MAAM,CAACC,OAAP,GAAiBpB,UAAjB","sourcesContent":["/*global module, process*/\nvar Buffer = require('safe-buffer').Buffer;\nvar Stream = require('stream');\nvar util = require('util');\n\nfunction DataStream(data) {\n  this.buffer = null;\n  this.writable = true;\n  this.readable = true;\n\n  // No input\n  if (!data) {\n    this.buffer = Buffer.alloc(0);\n    return this;\n  }\n\n  // Stream\n  if (typeof data.pipe === 'function') {\n    this.buffer = Buffer.alloc(0);\n    data.pipe(this);\n    return this;\n  }\n\n  // Buffer or String\n  // or Object (assumedly a passworded key)\n  if (data.length || typeof data === 'object') {\n    this.buffer = data;\n    this.writable = false;\n    process.nextTick(function () {\n      this.emit('end', data);\n      this.readable = false;\n      this.emit('close');\n    }.bind(this));\n    return this;\n  }\n\n  throw new TypeError('Unexpected data type ('+ typeof data + ')');\n}\nutil.inherits(DataStream, Stream);\n\nDataStream.prototype.write = function write(data) {\n  this.buffer = Buffer.concat([this.buffer, Buffer.from(data)]);\n  this.emit('data', data);\n};\n\nDataStream.prototype.end = function end(data) {\n  if (data)\n    this.write(data);\n  this.emit('end', data);\n  this.emit('close');\n  this.writable = false;\n  this.readable = false;\n};\n\nmodule.exports = DataStream;\n"]},"metadata":{},"sourceType":"script"}