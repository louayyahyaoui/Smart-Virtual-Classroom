{"ast":null,"code":"/*!\n * devextreme-react\n * Version: 20.2.7\n * Build date: Thu Apr 22 2021\n *\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\n *\n * This software may be modified and distributed under the terms\n * of the MIT license. See the LICENSE file in the root of the project for details.\n *\n * https://github.com/DevExpress/devextreme-react\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getChanges = void 0;\n\nvar tree_1 = require(\"./tree\");\n\nvar utils_1 = require(\"./utils\");\n\nfunction compareTemplates(current, prev, changesAccum) {\n  var currentTemplatesOptions = {};\n  var currentTemplates = {};\n  var prevTemplatesOptions = {};\n  var prevTemplates = {};\n  tree_1.buildTemplates(current, currentTemplatesOptions, currentTemplates);\n  tree_1.buildTemplates(prev, prevTemplatesOptions, prevTemplates);\n  changesAccum.addRemovedValues(currentTemplatesOptions, prevTemplatesOptions, current.fullName); // TODO: support switching to default templates\n  // appendRemovedValues(currentTemplates, prevTemplates, \"\", changesAccum.templates);\n\n  Object.keys(currentTemplatesOptions).forEach(function (key) {\n    if (currentTemplatesOptions[key] === prevTemplatesOptions[key]) {\n      return;\n    }\n\n    changesAccum.options[utils_1.mergeNameParts(current.fullName, key)] = currentTemplatesOptions[key];\n  });\n  Object.keys(currentTemplates).forEach(function (key) {\n    var currentTemplate = currentTemplates[key];\n    var prevTemplate = prevTemplates[key];\n\n    if (prevTemplate && currentTemplate.content === prevTemplate.content) {\n      return;\n    }\n\n    changesAccum.templates[key] = currentTemplate;\n  });\n}\n\nfunction compare(current, prev, changesAccum) {\n  if (!prev) {\n    changesAccum.options[current.fullName] = tree_1.buildNode(current, changesAccum.templates, true);\n    return;\n  }\n\n  changesAccum.addRemovedValues(current.options, prev.options, current.fullName);\n  changesAccum.addRemovedValues(current.configCollections, prev.configCollections, current.fullName);\n  changesAccum.addRemovedValues(current.configs, prev.configs, current.fullName); // eslint-disable-next-line @typescript-eslint/no-use-before-define\n\n  compareCollections(current, prev, changesAccum);\n  Object.keys(current.configs).forEach(function (key) {\n    compare(current.configs[key], prev.configs[key], changesAccum);\n  });\n  Object.keys(current.options).forEach(function (key) {\n    if (current.options[key] === prev.options[key]) {\n      return;\n    }\n\n    changesAccum.options[utils_1.mergeNameParts(current.fullName, key)] = current.options[key];\n  });\n  compareTemplates(current, prev, changesAccum);\n}\n\nfunction appendRemovedValues(current, prev, path, changesAccum) {\n  var removedKeys = Object.keys(prev).filter(function (key) {\n    return Object.keys(current).indexOf(key) < 0;\n  });\n  removedKeys.forEach(function (key) {\n    changesAccum.push(utils_1.mergeNameParts(path, key));\n  });\n}\n\nfunction getChanges(current, prev) {\n  var changesAccum = {\n    options: {},\n    removedOptions: [],\n    templates: {},\n    addRemovedValues: function (currentOptions, prevOptions, path) {\n      appendRemovedValues(currentOptions, prevOptions, path, this.removedOptions);\n    }\n  };\n  compare(current, prev, changesAccum);\n  return changesAccum;\n}\n\nexports.getChanges = getChanges;\n\nfunction compareCollections(current, prev, changesAccum) {\n  Object.keys(current.configCollections).forEach(function (key) {\n    var currentCollection = current.configCollections[key];\n    var prevCollection = prev.configCollections[key] || [];\n\n    if (!currentCollection || currentCollection.length !== prevCollection.length) {\n      var updatedCollection_1 = [];\n      currentCollection.forEach(function (item) {\n        var config = tree_1.buildNode(item, changesAccum.templates, true);\n        updatedCollection_1.push(config);\n      });\n      changesAccum.options[utils_1.mergeNameParts(current.fullName, key)] = updatedCollection_1;\n      return;\n    }\n\n    for (var i = 0; i < currentCollection.length; i += 1) {\n      compare(currentCollection[i], prevCollection[i], changesAccum);\n    }\n  });\n}","map":{"version":3,"sources":["C:/Smart-Virtual-Classroom/client/node_modules/devextreme-react/core/configuration/comparer.js"],"names":["Object","defineProperty","exports","value","getChanges","tree_1","require","utils_1","compareTemplates","current","prev","changesAccum","currentTemplatesOptions","currentTemplates","prevTemplatesOptions","prevTemplates","buildTemplates","addRemovedValues","fullName","keys","forEach","key","options","mergeNameParts","currentTemplate","prevTemplate","content","templates","compare","buildNode","configCollections","configs","compareCollections","appendRemovedValues","path","removedKeys","filter","indexOf","push","removedOptions","currentOptions","prevOptions","currentCollection","prevCollection","length","updatedCollection_1","item","config","i"],"mappings":"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","sourcesContent":["/*!\n * devextreme-react\n * Version: 20.2.7\n * Build date: Thu Apr 22 2021\n *\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\n *\n * This software may be modified and distributed under the terms\n * of the MIT license. See the LICENSE file in the root of the project for details.\n *\n * https://github.com/DevExpress/devextreme-react\n */\n\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getChanges = void 0;\nvar tree_1 = require(\"./tree\");\nvar utils_1 = require(\"./utils\");\nfunction compareTemplates(current, prev, changesAccum) {\n    var currentTemplatesOptions = {};\n    var currentTemplates = {};\n    var prevTemplatesOptions = {};\n    var prevTemplates = {};\n    tree_1.buildTemplates(current, currentTemplatesOptions, currentTemplates);\n    tree_1.buildTemplates(prev, prevTemplatesOptions, prevTemplates);\n    changesAccum.addRemovedValues(currentTemplatesOptions, prevTemplatesOptions, current.fullName);\n    // TODO: support switching to default templates\n    // appendRemovedValues(currentTemplates, prevTemplates, \"\", changesAccum.templates);\n    Object.keys(currentTemplatesOptions).forEach(function (key) {\n        if (currentTemplatesOptions[key] === prevTemplatesOptions[key]) {\n            return;\n        }\n        changesAccum.options[utils_1.mergeNameParts(current.fullName, key)] = currentTemplatesOptions[key];\n    });\n    Object.keys(currentTemplates).forEach(function (key) {\n        var currentTemplate = currentTemplates[key];\n        var prevTemplate = prevTemplates[key];\n        if (prevTemplate && currentTemplate.content === prevTemplate.content) {\n            return;\n        }\n        changesAccum.templates[key] = currentTemplate;\n    });\n}\nfunction compare(current, prev, changesAccum) {\n    if (!prev) {\n        changesAccum.options[current.fullName] = tree_1.buildNode(current, changesAccum.templates, true);\n        return;\n    }\n    changesAccum.addRemovedValues(current.options, prev.options, current.fullName);\n    changesAccum.addRemovedValues(current.configCollections, prev.configCollections, current.fullName);\n    changesAccum.addRemovedValues(current.configs, prev.configs, current.fullName);\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    compareCollections(current, prev, changesAccum);\n    Object.keys(current.configs).forEach(function (key) {\n        compare(current.configs[key], prev.configs[key], changesAccum);\n    });\n    Object.keys(current.options).forEach(function (key) {\n        if (current.options[key] === prev.options[key]) {\n            return;\n        }\n        changesAccum.options[utils_1.mergeNameParts(current.fullName, key)] = current.options[key];\n    });\n    compareTemplates(current, prev, changesAccum);\n}\nfunction appendRemovedValues(current, prev, path, changesAccum) {\n    var removedKeys = Object.keys(prev).filter(function (key) { return Object.keys(current).indexOf(key) < 0; });\n    removedKeys.forEach(function (key) {\n        changesAccum.push(utils_1.mergeNameParts(path, key));\n    });\n}\nfunction getChanges(current, prev) {\n    var changesAccum = {\n        options: {},\n        removedOptions: [],\n        templates: {},\n        addRemovedValues: function (currentOptions, prevOptions, path) {\n            appendRemovedValues(currentOptions, prevOptions, path, this.removedOptions);\n        },\n    };\n    compare(current, prev, changesAccum);\n    return changesAccum;\n}\nexports.getChanges = getChanges;\nfunction compareCollections(current, prev, changesAccum) {\n    Object.keys(current.configCollections).forEach(function (key) {\n        var currentCollection = current.configCollections[key];\n        var prevCollection = prev.configCollections[key] || [];\n        if (!currentCollection || currentCollection.length !== prevCollection.length) {\n            var updatedCollection_1 = [];\n            currentCollection.forEach(function (item) {\n                var config = tree_1.buildNode(item, changesAccum.templates, true);\n                updatedCollection_1.push(config);\n            });\n            changesAccum.options[utils_1.mergeNameParts(current.fullName, key)] = updatedCollection_1;\n            return;\n        }\n        for (var i = 0; i < currentCollection.length; i += 1) {\n            compare(currentCollection[i], prevCollection[i], changesAccum);\n        }\n    });\n}\n"]},"metadata":{},"sourceType":"script"}